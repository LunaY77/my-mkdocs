{"config":{"lang":["en"],"separator":"[\\s\\u200b\\u3000\\-\u3001\u3002\uff0c\uff0e\uff1f\uff01\uff1b]+","pipeline":["stemmer"]},"docs":[{"location":"","title":"\u4e3b\u9875","text":"<p> \u200b\u7ea6\u200b 170 \u200b\u4e2a\u200b\u5b57\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b 1 \u200b\u5206\u949f\u200b</p> <p>\u201c\u200b\u76f8\u4fe1\u200b\u7684\u200b\u5fc3\u200b\u5c31\u662f\u200b\u4f60\u200b\u7684\u200b\u9b54\u6cd5\u200b\uff01\u201d</p> <p></p> <ul> <li> <p> \u200b\u63a8\u8350\u200b\u7684\u200b\u6587\u7ae0\u200b</p> <ul> <li>linux\u200b\u73af\u5883\u200b\u90e8\u7f72\u200b</li> <li>Dijkstra\u200b\u7b97\u6cd5\u200b\u6a21\u7248\u200b</li> </ul> </li> <li> <p> \u200b\u5173\u4e8e\u200b</p> <ul> <li>\u200b\u53cb\u94fe\u200b</li> <li>Blogger </li> <li> \u200b\u4e86\u89e3\u200b\u6211\u200b</li> </ul> </li> </ul> <p> \u200b\u672c\u7ad9\u200b\u5df2\u7ecf\u200b\u8fd0\u884c\u200b </p>"},{"location":"about/link/","title":"\u6b22\u8fce\u200b\u52a0\u5165\u200b\u53cb\u94fe","text":"<p> \u200b\u7ea6\u200b 154 \u200b\u4e2a\u200b\u5b57\u200b  15 \u200b\u884c\u200b\u4ee3\u7801\u200b  6 \u200b\u5f20\u200b\u56fe\u7247\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b 1 \u200b\u5206\u949f\u200b</p> \u200b\u82cd\u955c\u200b\u6708\u200b's docs              \u200b\u76f8\u4fe1\u200b\u7684\u200b\u5fc3\u200b\u5c31\u662f\u200b\u4f60\u200b\u7684\u200b\u9b54\u6cd5\u200b\uff01            Knowledge is magic              \u200b\u5f97\u5fd7\u200b\u5f53\u4e3a\u200b\u5929\u4e0b\u200b\u96e8\u200b            \u200b\u5feb\u4e50\u200b\u5c0f\u725b\u200b\u7684\u200b\u535a\u5ba2\u200b\u7ad9\u200b              \u200b\u5feb\u4e50\u200b\u5c0f\u725b\u200b            Adrian\u2018s World              \u200b\u5206\u88c2\u200b\u7684\u200b\u5f57\u661f\u200b\u5728\u200b\u9ec4\u660f\u200b\u8fc7\u540e\u200b\u5f15\u6e21\u200b\u751f\u547d\u200b\u548c\u200b\u7231\u200b            Kdlyh              \u200b\u8d8b\u820d\u200b\u6709\u65f6\u200b            \u200b\u4ea4\u6362\u200b\u53cb\u94fe\u200b\uff0c\u200b\u8bf7\u200b\u6dfb\u52a0\u200b\u672c\u200b\u7ad9\u53cb\u200b\u94fe\u540e\u200b\u4e0b\u65b9\u200b\u7559\u8a00\u200b\u7533\u8bf7\u200b\uff0c\u200b\u671f\u671b\u200b\u60a8\u200b\u7684\u200b\u7ad9\u70b9\u200b: <p>\u200b\u53cb\u94fe\u200b\u683c\u5f0f\u200b\u793a\u4f8b\u200b/\u200b\u672c\u7ad9\u200b\u4fe1\u606f\u200b:</p> TXTHTML(\u200b\u63a8\u8350\u200b)YAML <p>\u200b\u540d\u79f0\u200b: \u200b\u82cd\u955c\u200b\u6708\u200b's docs</p> <p>\u200b\u94fe\u63a5\u200b: https://cangjingyue.top</p> <p>\u200b\u5934\u50cf\u200b: https://s2.loli.net/2024/11/12/skvZLdl76xBab4C.png</p> <p>\u200b\u7b80\u4ecb\u200b: \u200b\u76f8\u4fe1\u200b\u7684\u200b\u5fc3\u200b\u5c31\u662f\u200b\u4f60\u200b\u7684\u200b\u9b54\u6cd5\u200b\uff01</p> <p>\u200b\u63a8\u8350\u200b\u5728\u200b\u8bc4\u8bba\u200b\u533a\u200b\u53d1\u9001\u200b\u8fd9\u79cd\u200b\u683c\u5f0f\u200b\uff0c*\u200b\u53f7\u200b\u7684\u200b\u9700\u8981\u200b\u586b\u5199\u200b\u81ea\u5df1\u200b\u7684\u200b\u4fe1\u606f\u200b</p> HTML<pre><code>&lt;div class=\"card\"&gt; \n &lt;img class=\"ava\" src=\"*\u200b\u4f60\u200b\u7684\u200b\u5934\u50cf\u200b\u94fe\u63a5\u200b*\" /&gt; \n &lt;div class=\"card-header\"&gt; \n  &lt;div&gt; \n   &lt;a href=\"*\u200b\u4f60\u200b\u7684\u200b\u7f51\u7ad9\u200b\u5730\u5740\u200b* \" target=\"_blank\"&gt;*\u200b\u4f60\u200b\u7684\u200b\u7ad9\u70b9\u200b\u540d\u79f0\u200b*&lt;/a&gt; \n  &lt;/div&gt; \n  &lt;div class=\"info\"&gt;\n   *\u200b\u4f60\u200b\u7684\u200b\u7ad9\u70b9\u200b\u63cf\u8ff0\u200b*\n  &lt;/div&gt; \n &lt;/div&gt; \n&lt;/div&gt;\n</code></pre> YAML<pre><code>- name: \u200b\u82cd\u955c\u200b\u6708\u200b's docs\n  link: https://cangjingyue.top\n  avatar: https://s2.loli.net/2024/11/12/skvZLdl76xBab4C.png\n  descr: \u200b\u76f8\u4fe1\u200b\u7684\u200b\u5fc3\u200b\u5c31\u662f\u200b\u4f60\u200b\u7684\u200b\u9b54\u6cd5\u200b\uff01\n</code></pre>"},{"location":"about/me/","title":"Hi, there! I am \u200b\u82cd\u955c\u200b\u6708","text":"<p> \u200b\u7ea6\u200b 102 \u200b\u4e2a\u200b\u5b57\u200b  1 \u200b\u5f20\u200b\u56fe\u7247\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b\u4e0d\u5230\u200b 1 \u200b\u5206\u949f\u200b</p> <p> </p> <p>\u200b\u82cd\u955c\u200b\u6708\u200b</p> <p>A college student in FZU</p> <p>About me</p> <ul> <li> Hey, I'm \u200b\u82cd\u955c\u200b\u6708\u200b</li> <li> \u200b\u76f8\u4fe1\u200b\u7684\u200b\u5fc3\u200b\u5c31\u662f\u200b\u4f60\u200b\u7684\u200b\u9b54\u6cd5\u200b\uff01</li> <li> Fun Fact: \u200b\u6211\u200b\u73a9\u200b\u539f\u795e\u200b\u4e8c\u672c\u200b\u5728\u8bfb\u200b\u5bb6\u5883\u6e05\u5bd2\u200b\u9ad8\u5f3a\u5ea6\u200bb\u200b\u7ad9\u200b\u73a9\u6e38\u620f\u200b\u4e5f\u200b\u6ca1\u4ec0\u4e48\u200b\u670b\u53cb\u200b\u6bcf\u5929\u200b\u6df7\u5403\u200b\u7b49\u200b\u6b7b\u522b\u200b\u518d\u200b\u548c\u200b\u6211\u200b\u8f83\u771f\u200b\u4e86\u200b\u54e5\u200b</li> <li> \u200b\u70ed\u7231\u200b (xi\u0101)\u200b\u6298\u817e\u200b \u200b\u6280\u672f\u200b</li> <li> ACG\u200b\u7231\u597d\u8005\u200b\uff0c\u200b\u559c\u6b22\u200b\u52a8\u6f2b\u200b </li> <li> \u200b\u70ed\u7231\u200b\u4e52\u4e53\u7403\u200b</li> </ul>"},{"location":"blog/","title":"Blog","text":"<p> \u200b\u7ea6\u200b 45 \u200b\u4e2a\u200b\u5b57\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b\u4e0d\u5230\u200b 1 \u200b\u5206\u949f\u200b</p> \u200b\u547d\u91cc\u200b\u6709\u65f6\u200b\u7ec8\u987b\u200b\u6709\u200b\uff0c\u200b\u547d\u91cc\u200b\u65e0\u65f6\u200b\u83ab\u200b\u5f3a\u6c42\u200b \u200b\u65e5\u51fa\u200b\u4e1c\u6d77\u200b\u843d\u200b\u897f\u5c71\u200b\uff0c\u200b\u6101\u200b\u4e5f\u200b\u4e00\u5929\u200b\uff0c\u200b\u559c\u200b\u4e5f\u200b\u4e00\u5929\u200b \u200b\u9047\u4e8b\u200b\u4e0d\u200b\u94bb\u725b\u89d2\u5c16\u200b\uff0c\u200b\u4eba\u200b\u4e5f\u200b\u8212\u5766\u200b\uff0c\u200b\u5fc3\u200b\u4e5f\u200b\u8212\u5766\u200b <p> </p>"},{"location":"blog/WeeklySummary/week01/","title":"Week01(2024/11/11 - 2024/11/17)","text":"<p> \u200b\u7ea6\u200b 273 \u200b\u4e2a\u200b\u5b57\u200b  1 \u200b\u5f20\u200b\u56fe\u7247\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b 1 \u200b\u5206\u949f\u200b</p>"},{"location":"blog/WeeklySummary/week01/#_1","title":"\u603b\u7ed3","text":"<ul> <li>\u200b\u4f11\u606f\u65f6\u95f4\u200b\u611f\u89c9\u200b\u98d9\u5347\u200b\uff0c\u200b\u7d2f\u200b\u3002</li> <li>\u200b\u8fd9\u200b\u5468\u200b\u4e3b\u8981\u200b\u65f6\u95f4\u200b\u90fd\u200b\u82b1\u200b\u5728\u200b\u641e\u200b\u535a\u5ba2\u200b\u4e0a\u200b\u4e86\u200b\uff0c\u200b\u5927\u6982\u200b\u662f\u200b\u8fd9\u200b\u5468\u4e00\u200b\u7684\u200b\u4e2d\u5348\u200b\uff0c\u200b\u7a81\u7136\u200b\u89c9\u5f97\u200b\u662f\u200b\u65f6\u5019\u200b\u4e86\u200b\uff0c\u200b\u662f\u200b\u65f6\u5019\u200b\u8be5\u200b\u62e5\u6709\u200b\u4e00\u4e2a\u200b\u5c5e\u4e8e\u200b\u6211\u200b\u81ea\u5df1\u200b\u7684\u200b\u535a\u5ba2\u200b\u4e86\u200b\uff0c\u200b\u7136\u540e\u200b\u5728\u200b\u90a3\u5929\u200b\u7684\u200b\u665a\u4e0a\u200b\u641e\u51fa\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u521d\u6b65\u200b\u7684\u200b\u96cf\u5f62\u200b\uff0c\u200b\u611f\u89c9\u200b\u81ea\u5df1\u200b\u6267\u884c\u529b\u200b\u8fd8\u200b\u86ee\u9ad8\u200b\u7684\u200b(</li> <li>\u200b\u5b66\u4e60\u200b\u65f6\u95f4\u200b\u4e3b\u8981\u200b\u82b1\u200b\u5728\u200b\u641e\u200bspring\u200b\u4e0a\u200b\u4e86\u200b\uff0c\u200b\u611f\u89c9\u200b\u8fd8\u662f\u200b\u4e00\u77e5\u534a\u89e3\u200b\u3002</li> <li>\u200b\u5468\u516d\u200b\u6253\u200b\u4e86\u200b\u67d0\u6865\u676f\u200b\u6821\u8d5b\u200b\uff0c\u200b\u8bb2\u9053\u7406\u200b\u8fd9\u200bb\u200b\u6821\u8d5b\u200b\u6700\u200b\u7b80\u5355\u200b\u7684\u200b\u9898\u200b\u90fd\u200b\u6bd4\u200b\u7701\u8d5b\u200b\u6700\u96be\u200b\u7684\u200b\u9898\u200b\u96be\u200b\uff0c\u200b\u96be\u5ea6\u200b\u5b9e\u5728\u200b\u8fc7\u4e8e\u200b\u62bd\u8c61\u200b\uff0c\u200b\u4f46\u662f\u200b\u6211\u200b\u73ed\u4e0a\u200b\u4e00\u4e2a\u200b\u4eba\u80fd\u200bAC9\u200b\u9053\u200b\uff0cranking\u200b\u7b2c\u4e00\u200b\uff0c\u200b\u505a\u200b\u9898\u200b\u987a\u5e8f\u200b\u6781\u4e3a\u200b\u6b63\u5e38\u200b\uff0c\u200b\u7edd\u5bf9\u200b\u4e0d\u662f\u200b\u79d1\u6280\u200b(\u200b\u8fd9\u4eba\u200b\u6211\u200b\u4ece\u6765\u200b\u6ca1\u89c1\u200b\u4ed6\u200b\u5237\u200b\u8fc7\u200b\u7b97\u6cd5\u200b\uff0c\u200b\u4ece\u6765\u200b\u6ca1\u6709\u200b\uff0c\u200b\u4e0d\u200b\u77e5\u9053\u200b\u662f\u200b\u771f\u7684\u200b\u795e\u7ae5\u200b\uff0c\u200b\u8fd8\u662f\u200b\u6ce5\u798f\u200bjumping\u200b\u51fa\u4e16\u200b\u4e86\u200b</li> </ul>"},{"location":"blog/WeeklySummary/week01/#deadline","title":"Deadline","text":"<ul> <li> \u200b\u82f1\u8bed\u200bAssess2 ( Due: 2024-11-29 )</li> <li> \u200b\u4f53\u6d4b\u200b1000\u200b\u7c73\u200b ( Due: 2024-11-20 )</li> </ul>"},{"location":"blog/WeeklySummary/week01/#_2","title":"\u77ed\u671f\u8ba1\u5212","text":"<ul> <li> \u200b\u624b\u5199\u200bspring</li> <li> \u200b\u8ba1\u7b97\u673a\u200b\u7ed3\u6784\u200b (\u200b\u70e6\u200b)</li> <li> \u200b\u8ba1\u7b97\u200b\u7406\u8bba\u200b (\u200b\u70e6\u200b)</li> <li> \u200b\u6570\u5b66\u200b (\u200b\u70e6\u200b)</li> <li> \u200b\u8f6f\u4ef6\u6d4b\u8bd5\u200b (\u200b\u70e6\u200b)</li> <li> \u200b\u80cc\u9a6c\u539f\u200b (\u200b\u70e6\u200b)</li> <li> \u200b\u80cc\u200b\u6bdb\u6982\u200b (\u200b\u70e6\u200b)</li> </ul>"},{"location":"blog/WeeklySummary/week01/#_3","title":"\u957f\u671f\u200b\u8ba1\u5212","text":"<ul> <li> \u200b\u5199\u200b\u5b8c\u200bUCB CS61B\u200b\u7684\u200bgitlet</li> <li> UCB CS61C</li> <li> USTC\u200b\u8ba1\u7b97\u673a\u7f51\u7edc\u200b</li> </ul>"},{"location":"blog/WeeklySummary/week02/","title":"Week02(2024/11/18 - 2024/11/24)","text":"<p> \u200b\u7ea6\u200b 248 \u200b\u4e2a\u200b\u5b57\u200b  1 \u200b\u5f20\u200b\u56fe\u7247\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b 1 \u200b\u5206\u949f\u200b</p>"},{"location":"blog/WeeklySummary/week02/#_1","title":"\u603b\u7ed3","text":"<ul> <li>\u200b\u8bfe\u591a\u200b+\u200b\u75af\u72c2\u200b\u70b9\u540d\u200b+\u200b\u4e0d\u51c6\u200b\u4f7f\u7528\u200b\u7535\u5b50\u4ea7\u54c1\u200b\uff0c\u200b\u7406\u89e3\u200b\u4e0d\u4e86\u200b\u6709\u200b\u4ec0\u4e48\u200b\u610f\u4e49\u200b\u3002\u200b\u611f\u89c9\u200b\u5b66\u4e86\u200b\u8ba1\u7b97\u673a\u200b\u5c31\u200b\u65e0\u6cd5\u200b\u7406\u89e3\u200b\u5176\u4ed6\u200b\u4e13\u4e1a\u200b\u4e86\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u4e0a\u8bfe\u200b\u771f\u7684\u200b\u4f1a\u200b\u803d\u8bef\u200b\u5b66\u4e60\u200b\uff0c\u200b\u96be\u9053\u200b\u5176\u4ed6\u200b\u4e13\u4e1a\u200b\u90fd\u200b\u662f\u200b\u597d\u597d\u200b\u53bb\u200b\u4e0a\u8bfe\u200b\u7684\u200b\u5417\u200b\uff0c\u200b\u7406\u89e3\u200b\u4e0d\u80fd\u200b\u4e86\u200b\u3002</li> <li>\u200b\u8fd9\u5468\u200b\u5f88\u200b\u5fd9\u200b\u4f46\u200b\u53c8\u200b\u4e0d\u200b\u77e5\u9053\u200b\u5728\u200b\u5fd9\u200b\u4ec0\u4e48\u200b\uff0c\u200b\u5f88\u7d2f\u200b\u4f46\u200b\u53c8\u200b\u4e0d\u200b\u77e5\u9053\u200b\u56e0\u4e3a\u200b\u4ec0\u4e48\u200b\u5f88\u7d2f\u200b\uff0c\u200b\u597d\u200b\u51e0\u5929\u200b\u90fd\u200b\u662f\u200b9\u300110\u200b\u70b9\u949f\u200b\u4e0a\u5e8a\u200b\u76f4\u63a5\u200b\u5012\u5934\u200b\u5c31\u200b\u7761\u200b(</li> <li>\u200b\u5468\u672b\u200b\u82b1\u200b\u4e86\u200b\u5927\u7ea6\u200b\u4e00\u200b\u4e0b\u5348\u200b\u7684\u200b\u65f6\u95f4\u200b\u6363\u9f13\u200b cursor + sealos cloud\uff0c\u200b\u53ea\u80fd\u200b\u8bf4\u200b AI \u200b\u7f16\u7a0b\u200b\u4f3c\u4e4e\u200b\u6ca1\u6709\u200b\u4f20\u8bf4\u200b\u4e2d\u200b\u7684\u200b\u90a3\u4e48\u200b\u7384\u4e4e\u200b\uff0c\u200b\u4e0d\u8fc7\u200b\u597d\u7528\u200b\u8fd8\u662f\u200b\u597d\u7528\u200b\u7684\u200b\uff0c\u200b\u5c31\u662f\u200b\u6211\u200b\u7684\u200b\u8fd0\u7ef4\u200b\u6c34\u5e73\u200b\u6709\u70b9\u200b\u83dc\u200b\uff0c\u200b\u641e\u4e0d\u61c2\u200b\u600e\u4e48\u200b\u7528\u200b sealos cloud\uff0c\u200b\u6709\u7a7a\u200b\u5b66\u4e00\u5b66\u200b k8s \u200b\u5427\u200b</li> <li>\u200b\u540c\u200b\u4e0a\u5468\u200b\uff0c\u200b\u6b63\u5728\u200b\u63a8\u200b spring</li> </ul>"},{"location":"blog/WeeklySummary/week02/#deadline","title":"Deadline","text":"<ul> <li> \u200b\u82f1\u8bed\u200bAssess2(\u200b\u505a\u200b\u4e86\u200b\u4e00\u534a\u200b) ( Due: 2024-11-29 )</li> <li> \u200b\u6bdb\u6982\u200b\u8003\u8bd5\u200b ( Due: \u200b\u5341\u516d\u200b\u5468\u200b )</li> <li> \u200b\u9a6c\u200b\u539f\u200b\u8003\u8bd5\u200b ( Due: \u200b\u5341\u516d\u200b\u5468\u200b )</li> </ul>"},{"location":"blog/WeeklySummary/week02/#_2","title":"\u77ed\u671f\u8ba1\u5212","text":"<ul> <li> \u200b\u80cc\u200b</li> <li> \u200b\u80cc\u200b</li> <li> \u200b\u80cc\u200b</li> </ul>"},{"location":"blog/WeeklySummary/week02/#_3","title":"\u957f\u671f\u200b\u8ba1\u5212","text":"<ul> <li> \u200b\u5199\u200b\u5b8c\u200bUCB CS61B\u200b\u7684\u200bgitlet</li> <li> UCB CS61C</li> <li> USTC\u200b\u8ba1\u7b97\u673a\u7f51\u7edc\u200b</li> </ul>"},{"location":"blog/WeeklySummary/week03/","title":"Week03(2024/11/25 - 2024/12/01)","text":"<p> \u200b\u7ea6\u200b 185 \u200b\u4e2a\u200b\u5b57\u200b  1 \u200b\u5f20\u200b\u56fe\u7247\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b 1 \u200b\u5206\u949f\u200b</p>"},{"location":"blog/WeeklySummary/week03/#_1","title":"\u603b\u7ed3","text":"<ul> <li>\u200b\u8fd9\u5468\u200b\u8d5a\u200b\u5230\u200b\u4e86\u200b\u5927\u5b66\u200b\u7684\u200b\u7b2c\u4e00\u6876\u91d1\u200b, \u200b\u867d\u7136\u200b\u5c31\u200b\u4e00\u70b9\u70b9\u200b\u96f6\u82b1\u94b1\u200b\uff0c\u200b\u4f46\u200b\u6211\u200b\u4f3c\u4e4e\u200b\u7aa5\u63a2\u200b\u5230\u200b\u4e86\u200b\u4e00\u70b9\u200b\u5927\u5b66\u200b\u5185\u90e8\u200b\u5546\u4e1a\u200b\u7684\u200b\u95e8\u5f84\u200b(? \u3002\u200b\u5176\u5b9e\u200b\u6bd4\u8d77\u200b\u90a3\u200b\u4e00\u70b9\u200b\u96f6\u82b1\u94b1\u200b\u66f4\u200b\u91cd\u8981\u200b\u7684\u200b\u662f\u200b\u8ba9\u200b\u6211\u200b\u5bf9\u200b\u4eba\u5fc3\u200b\u6709\u200b\u4e86\u200b\u66f4\u6df1\u200b\u7684\u200b\u4e86\u89e3\u200b\u5427\u200b</li> <li>\u200b\u5468\u672b\u200b\u8fc7\u200b\u4e86\u200b\u7b54\u8fa9\u200b(\u200b\u559c\u200b</li> <li>\u200b\u5b66\u4e60\u200b\u65b9\u9762\u200b\u5e76\u200b\u6ca1\u6709\u200b\u4ec0\u4e48\u200b\u63a8\u8fdb\u200b\uff0c\u200b\u4e3b\u8981\u200b\u662f\u200b\u8fd8\u662f\u200b\u4e00\u4e9b\u200b\u8bfe\u4e1a\u200b\u538b\u529b\u200b\u5bfc\u81f4\u200b\u7684\u200b\uff0c\u200b\u5f88\u70e6\u200b...</li> <li>\u200b\u6211\u200b\u53d1\u73b0\u200b\u6211\u200b\u4f3c\u4e4e\u200b\u5f88\u200b\u559c\u6b22\u200b\u5f00\u65b0\u5751\u200b\uff0c\u200b\u6700\u8fd1\u200b\u53c8\u200b\u5f00\u200b\u4e86\u200b\u4e00\u95e8\u200b Missing Semester \u200b\u611f\u89c9\u200b\u8fd8\u200b\u633a\u200b\u6709\u610f\u601d\u200b\u7684\u200b\uff0c\u200b\u5e0c\u671b\u200b\u80fd\u200b\u575a\u6301\u200b\u770b\u200b\u4e0b\u53bb\u200b</li> </ul>"},{"location":"blog/WeeklySummary/week03/#deadline","title":"Deadline","text":"<ul> <li> \u200b\u6bdb\u6982\u200b\u8003\u8bd5\u200b ( Due: \u200b\u5341\u516d\u200b\u5468\u200b )</li> <li> \u200b\u9a6c\u200b\u539f\u200b\u8003\u8bd5\u200b ( Due: \u200b\u5341\u516d\u200b\u5468\u200b )</li> </ul>"},{"location":"blog/WeeklySummary/week03/#_2","title":"\u77ed\u671f\u8ba1\u5212","text":"<ul> <li> \u200b\u80cc\u200b</li> <li> \u200b\u80cc\u200b</li> <li> \u200b\u80cc\u200b</li> </ul>"},{"location":"blog/WeeklySummary/week03/#_3","title":"\u957f\u671f\u200b\u8ba1\u5212","text":"<ul> <li> \u200b\u5199\u200b\u5b8c\u200bCS61B\u200b\u7684\u200bgitlet</li> <li> CS61C</li> <li> \u200b\u8ba1\u7b97\u673a\u7f51\u7edc\u200b</li> <li> Missing Semester</li> </ul>"},{"location":"blog/WeeklySummary/week04%2605/","title":"Week04 &amp; Week05 (2024/12/02 - 2024/12/15)","text":"<p> \u200b\u7ea6\u200b 446 \u200b\u4e2a\u200b\u5b57\u200b  2 \u200b\u5f20\u200b\u56fe\u7247\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b 1 \u200b\u5206\u949f\u200b</p> \u200b\u81f4\u865a\u6781\u200b\uff0c\u200b\u5b88\u9759\u200b\u7b03\u200b\u3002\u200b\u4e07\u7269\u200b\u5e76\u4f5c\u200b\uff0c\u200b\u543e\u200b\u4ee5\u200b\u89c2\u590d\u200b <p></p> <p>Week04</p> <p></p> <p>Week05</p> <p></p> <p>\u200b\u4e0a\u5468\u200b\u56e0\u4e3a\u200b\u5728\u200b\u80cc\u9a6c\u539f\u200b\u548c\u200b\u6bdb\u6982\u200b\uff0c\u200b\u5468\u7ed3\u200b\u5c31\u200b\u653e\u5230\u200b\u8fd9\u200b\u5468\u200b\u4e00\u8d77\u200b\u5199\u200b\u4e86\u200b\u3002</p> <ul> <li>\u200b\u7ed3\u675f\u200b\u4e86\u200b\u9a6c\u539f\u200b\u548c\u200b\u6bdb\u6982\u200b\u8003\u8bd5\u200b\uff0c\u200b\u723d\u200b\uff01\u200b\u5269\u4e0b\u200b\u7684\u200b\u5c31\u662f\u200b\u4e13\u4e1a\u8bfe\u200b\u671f\u672b\u200b\u4e86\u200b\uff0c\u200b\u76ee\u6807\u200b\u662f\u200b\u8fc7\u200b\u4e86\u200b\u5c31\u200b\u884c\u200b\uff0c\u200b\u6240\u4ee5\u200b\u5f88\u200b\u8f7b\u677e\u200b\u829c\u6e56\u200b\uff0c\u200b\u800c\u4e14\u200b\u8bfe\u200b\u4e5f\u200b\u5c11\u200b\u4e86\u200b\u7279\u522b\u200b\u7279\u522b\u200b\u591a\u200b\uff0c\u200b\u7ec8\u4e8e\u200b\u53ef\u4ee5\u200b\u4e13\u5fc3\u200b\u5e72\u200b\u81ea\u5df1\u200b\u7684\u200b\u4e8b\u200b\u4e86\u200b\u3002</li> <li>\u200b\u6700\u8fd1\u200b\u542c\u200b\u7fa4\u53cb\u200b\u4e00\u76f4\u200b\u5728\u200b\u5f3a\u8c03\u200b\u7b97\u6cd5\u200b\u9898\u200b\u7684\u200b\u91cd\u8981\u6027\u200b\uff0c\u200b\u611f\u89c9\u200b\u662f\u200b\u65f6\u5019\u200b\u6361\u8d77\u6765\u200b\u5237\u200b\u51e0\u9053\u200b\u4e86\u200b\u3002</li> <li>\u200b\u6211\u200b\u53d1\u73b0\u200b\u6211\u200b\u81ea\u5df1\u200b\u8fd8\u662f\u200b\u4e0d\u591f\u200b\u575a\u5b9a\u200b\uff0c\u200b\u660e\u660e\u200b\u6709\u200b\u76ee\u6807\u200b\u4e86\u200b\uff0c\u200b\u4f46\u200b\u8fd8\u662f\u200b\u653e\u4e0d\u4e0b\u200b\uff0c\u200b\u8131\u200b\u4e0d\u4e0b\u200b\u957f\u886b\u200b\uff0c\u200b\u5509\u200b\u3002\u3002\u3002</li> <li>\u200b\u5f00\u200b\u4e86\u200b\u7279\u522b\u200b\u591a\u200b\u7684\u200b\u5751\u200b\uff0c\u200b\u611f\u89c9\u200b\u8fd9\u6837\u200b\u505a\u200b\u5e76\u200b\u4e0d\u597d\u200b\uff0c\u200b\u5728\u200b\u586b\u200b\u5b8c\u200b\u4e4b\u524d\u200b\uff0c\u200b\u4e0d\u80fd\u200b\u5728\u200b\u5f00\u5751\u200b\u4e86\u200b(\u200b\u65f6\u523b\u200b\u63d0\u9192\u200b\u81ea\u5df1\u200b</li> <li>\u200b\u628a\u200b Spring \u200b\u7684\u200b IOC \u200b\u548c\u200b AOP \u200b\u641e\u5b8c\u200b\u4e86\u200b\uff0c\u200b\u611f\u89c9\u200b\u8ddd\u79bb\u200b\u5168\u90e8\u200b\u5b8c\u6210\u200b\u8fd8\u6709\u200b\u4e0d\u5c11\u200b\u7684\u200b\u8ddd\u79bb\u200b\uff0c\u200b\u7ee7\u7eed\u200b\u52a0\u6cb9\u200b</li> <li>\u200b\u914d\u200b\u4e86\u200b\u81ea\u5df1\u200b\u7684\u200b zsh\uff0c\u200b\u7070\u5e38\u200b\u597d\u770b\u200b(\u200b\u5f88\u200b\u5f00\u5fc3\u200b</li> <li>\u200b\u4e4b\u524d\u200b\u4e00\u76f4\u200b\u62c5\u5fc3\u200b 61B \u200b\u7684\u200b gradescope \u200b\u4f1a\u200b\u5728\u200b\u4eca\u5e74\u5e74\u5e95\u200b\u5173\u95ed\u200b\uff0c\u200b\u4e0d\u8fc7\u200b\u597d\u6d88\u606f\u200b\u662f\u200b\u53c8\u7eed\u200b\u4e86\u200b\u4e00\u5e74\u200b(\u200b\u5feb\u200b\u53bb\u200b\u505a\u200b\u554a\u200bkora)</li> <li>\u200b\u4e0d\u200b\u77e5\u9053\u200b\u5bd2\u5047\u200b\u5230\u5e95\u200b\u80fd\u200b\u4e0d\u80fd\u200b\u53bb\u200b\uff0c\u200b\u800c\u4e14\u200b\u53bb\u200b\u4e86\u200b\u5230\u5e95\u200b\u80fd\u5426\u200b\u771f\u7684\u200b\u6709\u200b\u6536\u76ca\u200b\u4e5f\u200b\u8981\u200b\u6253\u4e2a\u200b\u95ee\u53f7\u200b\uff0c\u200b\u4eba\u751f\u200b\u771f\u662f\u200b\u5145\u6ee1\u200b\u672a\u77e5\u200b(\u200b\u545c\u545c\u200b</li> <li>\u200b\u6211\u200b\u7684\u200b\u8868\u8fbe\u80fd\u529b\u200b\u548c\u200b\u5199\u4f5c\u80fd\u529b\u200b\u5b9e\u5728\u200b\u662f\u200b\u592a\u200b\u6d45\u8584\u200b\u4e86\u200b\uff0c\u200b\u5f97\u200b\u597d\u597d\u200b\u953b\u70bc\u200b\u4e00\u4e0b\u200b</li> </ul>"},{"location":"blog/WeeklySummary/week04%2605/#deadline","title":"Deadline","text":"<ul> <li> \u200b\u6bdb\u6982\u200b\u8003\u8bd5\u200b ( Due: \u200b\u5341\u516d\u200b\u5468\u200b )</li> <li> \u200b\u9a6c\u200b\u539f\u200b\u8003\u8bd5\u200b ( Due: \u200b\u5341\u516d\u200b\u5468\u200b )</li> <li> \u200b\u82f1\u8bed\u200bAsses3 ( Due: 12/30 )</li> </ul>"},{"location":"blog/WeeklySummary/week04%2605/#_1","title":"\u77ed\u671f\u8ba1\u5212","text":"<ul> <li> \u200b\u5199\u200b\u51e0\u7bc7\u200b\u5173\u4e8e\u200bSpring\u200b\u7684\u200b\u535a\u5ba2\u200b(FactoryBean\u200b\u548c\u200bBeanFactory\uff0c@ConditionalOnClass....)</li> <li> \u200b\u5199\u200b\u5173\u4e8e\u200b\u81ea\u5df1\u200b workflow \u200b\u7684\u200b\u535a\u5ba2\u200b</li> <li> \u200b\u5199\u4e2a\u200b\u5efa\u7ad9\u200b\u6559\u7a0b\u200b(?</li> <li> \u200b\u590d\u4e60\u200b\u671f\u672b\u200b</li> <li> \u200b\u914d\u200b\u4e00\u4e2a\u200b neovim</li> <li> \u200b\u505a\u200b\u4e00\u8d77\u200b\u542c\u200b\u9879\u76ee\u200b</li> <li> \u200b\u5237\u70b9\u200b\u7b97\u6cd5\u200b</li> <li> \u200b\u5b66\u5b8c\u200bspring</li> <li> \u200b\u628a\u200b\u98de\u200b\u4e66\u4e0a\u200b\u7684\u200b\u6587\u6863\u200b\u642c\u200b\u5230\u200b\u535a\u5ba2\u200b\u4e0a\u6765\u200b(\u200b\u5de5\u4f5c\u91cf\u200b\u5f88\u5927\u200b)</li> <li> \u200b\u4f7f\u7528\u200bvim</li> </ul>"},{"location":"blog/WeeklySummary/week04%2605/#_2","title":"\u957f\u671f\u200b\u8ba1\u5212","text":"<ul> <li> \u200b\u5199\u200b\u5b8c\u200bCS61B\u200b\u7684\u200bgitlet</li> <li> CS61C</li> <li> \u200b\u8ba1\u7b97\u673a\u7f51\u7edc\u200b</li> <li> Missing Semester</li> </ul>"},{"location":"blog/WeeklySummary/week06/","title":"Week06(2024/12/16 - 2024/12/22)","text":"<p> \u200b\u7ea6\u200b 722 \u200b\u4e2a\u200b\u5b57\u200b  1 \u200b\u5f20\u200b\u56fe\u7247\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b 2 \u200b\u5206\u949f\u200b</p> <p></p> <ul> <li>\u200b\u5728\u200b\u6c34\u7fa4\u200b\u7684\u200b\u65f6\u5019\u200b\u4e86\u89e3\u200b\u4e86\u200b \"\u200b\u5154\u5b50\u200b\u6d1e\u200b\" \u200b\u8fd9\u4e2a\u200b\u6982\u5ff5\u200b\uff0c\u200b\u6211\u200b\u5728\u200b\u60f3\u200b\u6211\u200b\u662f\u5426\u200b\u4e5f\u200b\u6389\u5165\u200b\u4e86\u200b\u5b66\u4e60\u200b\u4e2d\u200b\u7684\u200b\u5154\u5b50\u200b\u6d1e\u200b\u5462\u200b</li> </ul> <p>\u200b\u4ee5\u4e0b\u200b\u662f\u200b ChatGPT \u200b\u5bf9\u200b \"\u200b\u5154\u5b50\u200b\u6d1e\u200b\" \u200b\u7684\u200b\u89e3\u91ca\u200b:</p> \u200b\u5154\u5b50\u200b\u6d1e\u200b  \u200b\u5b66\u4e60\u200b\u4e0a\u200b\u7684\u200b\u201c\u200b\u5154\u5b50\u200b\u6d1e\u200b\u201d\u200b\u662f\u200b\u4e00\u79cd\u200b\u6bd4\u55bb\u200b\uff0c\u200b\u6307\u200b\u7684\u200b\u662f\u200b\u5b66\u4e60\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\u56e0\u4e3a\u200b\u67d0\u4e2a\u200b\u8bdd\u9898\u200b\u3001\u200b\u95ee\u9898\u200b\u6216\u200b\u5174\u8da3\u200b\u70b9\u200b\u800c\u200b\u4e0d\u65ad\u6df1\u5165\u200b\u63a2\u7d22\u200b\uff0c\u200b\u7ed3\u679c\u200b\u53d1\u73b0\u81ea\u5df1\u200b\u8d8a\u200b\u6316\u200b\u8d8a\u6df1\u200b\uff0c\u200b\u751a\u81f3\u200b\u53ef\u80fd\u200b\u504f\u79bb\u200b\u4e86\u200b\u6700\u521d\u200b\u7684\u200b\u76ee\u6807\u200b\u3002\u200b\u8fd9\u4e2a\u200b\u8bf4\u6cd5\u200b\u6765\u6e90\u4e8e\u200b\u300a\u200b\u7231\u4e3d\u4e1d\u200b\u68a6\u6e38\u200b\u4ed9\u5883\u200b\u300b\u200b\u4e2d\u200b\u7231\u4e3d\u4e1d\u200b\u6389\u200b\u8fdb\u200b\u5154\u5b50\u200b\u6d1e\u540e\u200b\u8fdb\u5165\u200b\u4e00\u4e2a\u200b\u5947\u5999\u200b\u53c8\u200b\u590d\u6742\u200b\u7684\u200b\u4e16\u754c\u200b\u3002    \u200b\u5728\u200b\u5b66\u4e60\u200b\u4e2d\u200b\uff0c\u201c\u200b\u6389\u200b\u8fdb\u200b\u5154\u5b50\u200b\u6d1e\u200b\u201d\u200b\u901a\u5e38\u200b\u610f\u5473\u7740\u200b\uff1a    1. \u200b\u65e0\u610f\u200b\u4e2d\u200b\u6df1\u5165\u200b\u67d0\u4e2a\u200b\u4e3b\u9898\u200b    \u200b\u4f60\u200b\u53ef\u80fd\u200b\u4e3a\u4e86\u200b\u67e5\u627e\u200b\u4e00\u4e2a\u200b\u5c0f\u200b\u95ee\u9898\u200b\uff0c\u200b\u7ed3\u679c\u200b\u4e0d\u65ad\u200b\u70b9\u51fb\u200b\u76f8\u5173\u200b\u94fe\u63a5\u200b\u3001\u200b\u9605\u8bfb\u200b\u76f8\u5173\u200b\u6587\u7ae0\u200b\uff0c\u200b\u6700\u7ec8\u200b\u8fdb\u5165\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u4e0e\u200b\u6700\u521d\u200b\u95ee\u9898\u200b\u76f8\u5173\u200b\u4f46\u200b\u66f4\u4e3a\u200b\u590d\u6742\u200b\u6216\u200b\u5e7f\u6cdb\u200b\u7684\u200b\u9886\u57df\u200b\u3002    2. \u200b\u6c89\u6d78\u200b\u5f0f\u200b\u63a2\u7d22\u200b    \u200b\u4e00\u65e6\u200b\u8fdb\u5165\u200b\u201c\u200b\u5154\u5b50\u200b\u6d1e\u200b\u201d\uff0c\u200b\u4f60\u200b\u53ef\u80fd\u200b\u53d1\u73b0\u81ea\u5df1\u200b\u5728\u200b\u5b66\u4e60\u200b\u8fc7\u7a0b\u200b\u4e2d\u6709\u200b\u592a\u591a\u200b\u6709\u8da3\u200b\u7684\u200b\u4e1c\u897f\u200b\uff0c\u200b\u4e8e\u662f\u200b\u4f60\u200b\u4e00\u5c42\u5c42\u200b\u5265\u5f00\u200b\u77e5\u8bc6\u200b\u7684\u200b\u5916\u58f3\u200b\uff0c\u200b\u5b66\u5f97\u200b\u8d8a\u6765\u8d8a\u200b\u6df1\u5165\u200b\u3002     3. \u200b\u5931\u53bb\u200b\u7126\u70b9\u200b\u6216\u200b\u65f6\u95f4\u200b\u611f\u200b    \u200b\u867d\u7136\u200b\u6df1\u5165\u200b\u63a2\u7d22\u200b\u6709\u52a9\u4e8e\u200b\u62d3\u5c55\u200b\u77e5\u8bc6\u9762\u200b\uff0c\u200b\u4f46\u200b\u6709\u65f6\u5019\u200b\u6389\u200b\u8fdb\u200b\u201c\u200b\u5154\u5b50\u200b\u6d1e\u200b\u201d\u200b\u4e5f\u200b\u4f1a\u200b\u8ba9\u200b\u4f60\u200b\u504f\u79bb\u200b\u4e3b\u7ebf\u200b\u4efb\u52a1\u200b\uff0c\u200b\u751a\u81f3\u200b\u5728\u200b\u4e0d\u77e5\u4e0d\u89c9\u200b\u4e2d\u200b\u82b1\u8d39\u200b\u4e86\u200b\u5927\u91cf\u200b\u65f6\u95f4\u200b\u3002   <ul> <li>\u200b\u5177\u4f53\u8868\u73b0\u200b\u662f\u200b\uff1a\u200b\u5728\u200b\u770b\u200b <code>vim</code> \u200b\u6559\u5b66\u200b\u540e\u200b\u89c9\u5f97\u200b <code>vim</code> \u200b\u9488\u200b\u4e0d\u200b\u6233\u200b\uff0c\u200b\u60f3\u914d\u200b\u4e00\u4e2a\u200b <code>neovim</code>\uff0c\u200b\u5bfc\u81f4\u200b b \u200b\u7ad9\u200b\u7ed9\u200b\u6211\u200b\u63a8\u9001\u200b <code>archlinux + hyprland</code> \u200b\u7684\u200b\u89c6\u9891\u200b\uff0c\u200b\u89c9\u5f97\u200b\u5f88\u5e05\u200b\uff0c\u200b\u53c8\u200b\u60f3\u200b\u88c5\u200b\u4e00\u4e2a\u200b <code>archlinux</code>\uff0c\u200b\u90fd\u200b\u8981\u200b\u88c5\u200b <code>linux</code> \u200b\u4e86\u200b\uff0c \u200b\u90a3\u200b\u4e5f\u200b\u5e94\u8be5\u200b\u5b66\u200b\u70b9\u200b <code>os</code> \u200b\u76f8\u5173\u200b\u7684\u200b\u77e5\u8bc6\u200b......</li> <li>\u200b\u5b9e\u73b0\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u65e9\u5b89\u200b\u90ae\u4ef6\u200b\u53d1\u9001\u5668\u200b\uff0c\u200b\u5177\u4f53\u200b\u770b\u200b AstroMailer\uff0c\u200b\u5982\u679c\u200b\u60f3\u200b\u6bcf\u5929\u200b\u65e9\u4e0a\u200b\u6536\u5230\u200b\u65e9\u5b89\u200b\u90ae\u4ef6\u200b\u7684\u200b\u8bf7\u200b\u8054\u7cfb\u200b\u6211\u200b(</li> <li>\u200b\u548c\u200b\u7fa4\u53cb\u200b\u4e00\u8d77\u200b\u8fdb\u884c\u200b\u529b\u6263\u200b\u7b97\u6cd5\u200b\u6253\u5361\u200b\uff0c\u200b\u5e0c\u671b\u200b\u80fd\u200b\u575a\u6301\u4e0b\u53bb\u200b</li> <li>\u200b\u914d\u7f6e\u200b\u4e86\u200b NeoVim + LazyGit + ideavim + tmux + sketchybar + yabai\uff0c\u200b\u5177\u4f53\u200b\u914d\u7f6e\u200b\u4e0a\u4f20\u200b\u81f3\u200b github \u200b\u4ed3\u5e93\u200b LunaY-dotfiles (\u200b\u629b\u5f03\u200b\u9f20\u6807\u200b\uff0c\u200b\u62e5\u62b1\u200b\u952e\u76d8\u200b)</li> <li>\u200b\u6700\u8fd1\u200b\u540e\u200b\u7aef\u200b\u65b9\u5411\u200b\u7684\u200b\u5b66\u4e60\u200b\u611f\u89c9\u200b\u6709\u70b9\u200b\u677e\u61c8\u200b\u4e86\u200b\uff0c\u200b\u5f97\u200b\u632f\u4f5c\u8d77\u6765\u200b\u4e86\u200b\u3002</li> </ul>"},{"location":"blog/WeeklySummary/week06/#deadline","title":"Deadline","text":"<ul> <li> \u200b\u82f1\u8bed\u200bAsses3 ( Due: 12/31 \u200b\u63d0\u4ea4\u200b 01/02 \u200b\u6f14\u8bb2\u200b )</li> <li> [\u200b\u8003\u8bd5\u200b] \u200b\u9ad8\u7ea7\u200b\u5fae\u79ef\u5206\u200b ( Due: 12/23 08:30-10:30 \u200b\u4e1c\u200b2-306)</li> <li> [\u200b\u8003\u8bd5\u200b] \u200b\u8ba1\u7b97\u200b\u7406\u8bba\u200b ( Due: 12/27 09:00-11:00 \u200b\u4e1c\u200b3-109)</li> <li> [\u200b\u8003\u8bd5\u200b] \u200b\u6570\u636e\u5e93\u200b ( Due: 12/31 09:00-11:00 \u200b\u4e1c\u200b2-207)</li> <li> [\u200b\u8003\u8bd5\u200b] \u200b\u8ba1\u7b97\u673a\u200b\u7ed3\u6784\u200b ( Due: 01/03 15:00-17:00 \u200b\u4e1c\u200b3-306)</li> <li> [\u200b\u8003\u8bd5\u200b] \u200b\u7b97\u6cd5\u200b\u4e0e\u200b\u6570\u636e\u7ed3\u6784\u200b ( Due: 01/06 15:00-17:00 \u200b\u4e1c\u200b3-407)</li> <li> [\u200b\u8003\u8bd5\u200b] \u200b\u8f6f\u4ef6\u6d4b\u8bd5\u200b ( Due: 01/08 14:00-16:00 \u200b\u4e1c\u200b3-306)</li> </ul>"},{"location":"blog/WeeklySummary/week06/#_1","title":"\u77ed\u671f\u8ba1\u5212","text":"<ul> <li> \u200b\u5b66\u4e60\u200b\u5e76\u200b\u4f7f\u7528\u200bvim (\u200b\u8fdb\u884c\u200b\u4e2d\u200bing)</li> <li> \u200b\u5237\u70b9\u200b\u7b97\u6cd5\u200b (\u200b\u8fdb\u884c\u200b\u4e2d\u200bing)</li> <li> \u200b\u914d\u200b\u4e00\u4e2a\u200b neovim</li> <li> \u200b\u5199\u200b\u51e0\u7bc7\u200b\u5173\u4e8e\u200bSpring\u200b\u7684\u200b\u535a\u5ba2\u200b(FactoryBean\u200b\u548c\u200bBeanFactory\uff0c@ConditionalOnClass....)</li> <li> \u200b\u5199\u200b\u5173\u4e8e\u200b\u81ea\u5df1\u200b workflow \u200b\u7684\u200b\u535a\u5ba2\u200b</li> <li> \u200b\u5199\u4e2a\u200b\u5efa\u7ad9\u200b\u6559\u7a0b\u200b(?</li> <li> \u200b\u590d\u4e60\u200b\u671f\u672b\u200b</li> <li> \u200b\u505a\u200b\u4e00\u8d77\u200b\u542c\u200b\u9879\u76ee\u200b</li> <li> \u200b\u5b66\u5b8c\u200bspring</li> <li> \u200b\u628a\u200b\u98de\u200b\u4e66\u4e0a\u200b\u7684\u200b\u6587\u6863\u200b\u642c\u200b\u5230\u200b\u535a\u5ba2\u200b\u4e0a\u6765\u200b(\u200b\u5de5\u4f5c\u91cf\u200b\u5f88\u5927\u200b)</li> <li> \u200b\u4e70\u200b\u4e00\u5757\u200b\u786c\u76d8\u200b\uff0c\u200b\u5e76\u200b\u5b89\u88c5\u200b ArchLinux</li> <li> \u200b\u5199\u200b\u4e00\u7bc7\u200b\u5173\u4e8e\u200b github actions \u200b\u7684\u200b\u535a\u5ba2\u200b</li> <li> \u200b\u9605\u8bfb\u200bMy Most Powerful Tool for Thinking and Decision Making | Safal Niveshak\u200b\u7684\u200b\u8bfb\u540e\u611f\u200b</li> </ul>"},{"location":"blog/WeeklySummary/week06/#_2","title":"\u957f\u671f\u200b\u8ba1\u5212","text":"<ul> <li> \u200b\u5199\u200b\u5b8c\u200bCS61B\u200b\u7684\u200bgitlet</li> <li> CS61C</li> <li> \u200b\u8ba1\u7b97\u673a\u7f51\u7edc\u200b</li> <li> os</li> <li> Missing Semester</li> </ul>"},{"location":"blog/WeeklySummary/week07/","title":"Week07(2024/12/23 - 2024/12/29)","text":"<p> \u200b\u7ea6\u200b 442 \u200b\u4e2a\u200b\u5b57\u200b  1 \u200b\u5f20\u200b\u56fe\u7247\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b 1 \u200b\u5206\u949f\u200b</p> <p></p> <ul> <li>\u200b\u4e4b\u524d\u200b\u542c\u8bf4\u200bvim\u200b\u7684\u200b\u5b66\u4e60\u200b\u8def\u7ebf\u200b\u975e\u5e38\u200b\u9661\u5ced\u200b\uff0c\u200b\u4f46\u662f\u200b\u6839\u636e\u200b\u6211\u200b\u8fd9\u200b\u51e0\u5929\u200b\u7684\u200b\u4f7f\u7528\u200b\u4f53\u9a8c\u200b\u6765\u8bf4\u200b\uff0c\u200b\u4f3c\u4e4e\u200b\u5e76\u200b\u6ca1\u6709\u200b\u90a3\u4e48\u200b\u96be\u200b\uff0c\u200b\u53cd\u800c\u200b\u771f\u7684\u200b\u65b9\u4fbf\u200b\u4e0d\u5c11\u200b\uff0c\u200b\u7528\u200bvim\u200b\u5199\u200b\u4ee3\u7801\u200b\u771f\u7684\u200b\u975e\u5e38\u200b\u723d\u200b\uff0c\u200b\u592a\u200btm\u200b\u723d\u200b\u4e86\u200b\uff01\uff01\uff01\uff01\u200b\u5177\u4f53\u6765\u8bf4\u200b\u6211\u200b\u4e0d\u662f\u200b\u5728\u200b\u7528\u200bvim\u200b\u7f16\u8f91\u5668\u200b\u5199\u200b\u4ee3\u7801\u200b\uff0c\u200b\u800c\u662f\u200b\u628a\u200bIDE(idea)\u200b\u53d8\u6210\u200bvim\u200b\u5199\u200b\u4ee3\u7801\u200b\uff0c\u200b\u8fd9\u6837\u200b\u505a\u200b\u65e2\u200b\u80fd\u200b\u4f53\u9a8c\u200bIDE\u200b\u7684\u200b\u9ad8\u5ea6\u200b\u96c6\u6210\u200b\u53c8\u200b\u80fd\u200b\u4f53\u9a8c\u200b\u5230\u200bvim\u200b\u7684\u200b\u9ad8\u6548\u200b\u4fbf\u6377\u200b\uff0c\u200b\u539f\u8c05\u200b\u6211\u200b\u8bcd\u6c47\u200b\u8d2b\u4e4f\u200b\uff0c\u200b\u4f46\u662f\u200b\u53cc\u624b\u200b\u4e0d\u200b\u79bb\u5f00\u200b\u952e\u76d8\u200b\u771f\u7684\u200b\u592a\u200btm\u200b\u723d\u200b\u4e86\u200b\uff01\uff01\uff01\u200b\u6211\u200b\u771f\u7684\u200b\u5df4\u4e0d\u5f97\u200b\u628a\u200b\u7535\u8111\u200b\u7684\u200b\u6240\u6709\u200b\u8f93\u5165\u200b\u73af\u5883\u200b\u90fd\u200b\u6539\u6210\u200bvim\u3002</li> <li>\u200b\u5b8c\u6210\u200b\u4e86\u200b\u4e24\u95e8\u200b\u671f\u672b\u8003\u8bd5\u200b(byd\u200b\u600e\u4e48\u200b\u8fd9\u4e48\u200b\u591a\u200b\u8003\u8bd5\u200b)</li> <li>\u200b\u8fd9\u5468\u200b\u628a\u200bAOP\u200b\u76f8\u5173\u200b\u7684\u200b\u77e5\u8bc6\u200b\u597d\u597d\u200b\u6574\u7406\u200b\u4e86\u200b\u4e00\u4e0b\u200b(\u200b\u6211\u200b\u9010\u6e10\u200b\u7406\u89e3\u200b\u4e00\u5207\u200b.jpg), \u200b\u611f\u89c9\u200b\u6e90\u7801\u200b\u5b66\u4e60\u200b\u8fd9\u200b\u4e00\u5757\u200b\u8fd8\u662f\u200b\u4e0d\u80fd\u200b\u6025\u200b\uff0c\u200b\u6162\u6162\u6765\u200b\uff0c\u200b\u6162\u6162\u200b\u5199\u200b\u5427\u200b\u3002</li> </ul>"},{"location":"blog/WeeklySummary/week07/#deadline","title":"Deadline","text":"<ul> <li> \u200b\u82f1\u8bed\u200bAsses3 ( Due: 12/31 \u200b\u63d0\u4ea4\u200b 01/02 \u200b\u6f14\u8bb2\u200b )</li> <li> [\u200b\u8003\u8bd5\u200b] \u200b\u9ad8\u7ea7\u200b\u5fae\u79ef\u5206\u200b ( Due: 12/23 08:30-10:30 \u200b\u4e1c\u200b2-306)</li> <li> [\u200b\u8003\u8bd5\u200b] \u200b\u8ba1\u7b97\u200b\u7406\u8bba\u200b ( Due: 12/27 09:00-11:00 \u200b\u4e1c\u200b3-109)</li> <li> [\u200b\u8003\u8bd5\u200b] \u200b\u6570\u636e\u5e93\u200b ( Due: 12/31 09:00-11:00 \u200b\u4e1c\u200b2-207)</li> <li> [\u200b\u8003\u8bd5\u200b] \u200b\u8ba1\u7b97\u673a\u200b\u7ed3\u6784\u200b ( Due: 01/03 15:00-17:00 \u200b\u4e1c\u200b3-306)</li> <li> [\u200b\u8003\u8bd5\u200b] \u200b\u7b97\u6cd5\u200b\u4e0e\u200b\u6570\u636e\u7ed3\u6784\u200b ( Due: 01/06 15:00-17:00 \u200b\u4e1c\u200b3-407)</li> <li> [\u200b\u8003\u8bd5\u200b] \u200b\u8f6f\u4ef6\u6d4b\u8bd5\u200b ( Due: 01/08 14:00-16:00 \u200b\u4e1c\u200b3-306)</li> </ul>"},{"location":"blog/WeeklySummary/week07/#_1","title":"\u77ed\u671f\u8ba1\u5212","text":"<ul> <li> \u200b\u5b66\u4e60\u200b\u5e76\u200b\u4f7f\u7528\u200bvim (\u200b\u8fdb\u884c\u200b\u4e2d\u200bing)</li> <li> \u200b\u5237\u70b9\u200b\u7b97\u6cd5\u200b (\u200b\u8fdb\u884c\u200b\u4e2d\u200bing)</li> <li> \u200b\u914d\u200b\u4e00\u4e2a\u200b neovim</li> <li> \u200b\u5199\u200b\u51e0\u7bc7\u200b\u5173\u4e8e\u200bSpring\u200b\u7684\u200b\u535a\u5ba2\u200b(FactoryBean\u200b\u548c\u200bBeanFactory\uff0c@ConditionalOnClass....)</li> <li> \u200b\u5199\u200b\u5173\u4e8e\u200b\u81ea\u5df1\u200b workflow \u200b\u7684\u200b\u535a\u5ba2\u200b</li> <li> \u200b\u5199\u4e2a\u200b\u5efa\u7ad9\u200b\u6559\u7a0b\u200b(?</li> <li> \u200b\u590d\u4e60\u200b\u671f\u672b\u200b</li> <li> \u200b\u505a\u200b\u4e00\u8d77\u200b\u542c\u200b\u9879\u76ee\u200b</li> <li> \u200b\u5b66\u5b8c\u200bspring</li> <li> \u200b\u628a\u200b\u98de\u200b\u4e66\u4e0a\u200b\u7684\u200b\u6587\u6863\u200b\u642c\u200b\u5230\u200b\u535a\u5ba2\u200b\u4e0a\u6765\u200b(\u200b\u5de5\u4f5c\u91cf\u200b\u5f88\u5927\u200b)</li> <li> \u200b\u4e70\u200b\u4e00\u5757\u200b\u786c\u76d8\u200b\uff0c\u200b\u5e76\u200b\u5b89\u88c5\u200b ArchLinux</li> <li> \u200b\u5199\u200b\u4e00\u7bc7\u200b\u5173\u4e8e\u200b github actions \u200b\u7684\u200b\u535a\u5ba2\u200b</li> <li> \u200b\u9605\u8bfb\u200bMy Most Powerful Tool for Thinking and Decision Making | Safal Niveshak\u200b\u7684\u200b\u8bfb\u540e\u611f\u200b</li> </ul>"},{"location":"blog/WeeklySummary/week07/#_2","title":"\u957f\u671f\u200b\u8ba1\u5212","text":"<ul> <li> \u200b\u5199\u200b\u5b8c\u200bCS61B\u200b\u7684\u200bgitlet</li> <li> CS61C</li> <li> \u200b\u8ba1\u7b97\u673a\u7f51\u7edc\u200b</li> <li> os</li> <li> Missing Semester</li> </ul>"},{"location":"blog/backend/Java/FrequencyControl/","title":"Frequency-Control-Starter","text":"<p> \u200b\u7ea6\u200b 3662 \u200b\u4e2a\u200b\u5b57\u200b  244 \u200b\u884c\u200b\u4ee3\u7801\u200b  7 \u200b\u5f20\u200b\u56fe\u7247\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b 15 \u200b\u5206\u949f\u200b</p>","tags":["java"]},{"location":"blog/backend/Java/FrequencyControl/#1","title":"1. \u200b\u9879\u76ee\u200b\u7b80\u4ecb","text":"<p>\u200b\u672c\u200b\u9879\u76ee\u200b\u4e3a\u200b\u4e00\u4e2a\u200b\u57fa\u4e8e\u200b SpringBoot + Redis \u200b\u5b9e\u73b0\u200b\u7684\u200b\u9891\u7387\u200b\u63a7\u5236\u200b\u7ec4\u4ef6\u200b</p> <p>github\u200b\u4ed3\u5e93\u200b\u5730\u5740\u200b\uff1aFrequency-Control-Spring-Boot-Starter</p>","tags":["java"]},{"location":"blog/backend/Java/FrequencyControl/#2","title":"2. \u200b\u9879\u76ee\u200b\u4eae\u70b9","text":"<ol> <li>\u200b\u4f7f\u7528\u200b lua\u200b\u811a\u672c\u200b \u200b\u4fdd\u8bc1\u200bredis\u200b\u7684\u200b\u9891\u7387\u200b\u8ba1\u6570\u200b\u7684\u200b \u200b\u539f\u5b50\u200b\u6027\u200b</li> <li>\u200b\u5141\u8bb8\u200b\u67d0\u4e2a\u200b\u63a5\u53e3\u200b\u62e5\u6709\u200b\u591a\u79cd\u200b\u9891\u63a7\u200b\u7b56\u7565\u200b\uff08\u200b\u5982\u200b\u5141\u8bb8\u200b5s\u200b\u5185\u200b3\u200b\u6b21\u200b\u300130\u200b\u79d2\u200b\u5185\u200b10\u200b\u6b21\u200b\uff09</li> <li>\u200b\u5141\u8bb8\u200b\u67d0\u4e2a\u200b\u63a5\u53e3\u200b\u62e5\u6709\u200b\u591a\u79cd\u200b\u9891\u63a7\u200b\u7b97\u6cd5\u200b\uff08\u200b\u5982\u200b\u56fa\u5b9a\u200b\u7a97\u53e3\u200b + \u200b\u6ed1\u52a8\u200b\u7a97\u53e3\u200b\uff09</li> <li>\u200b\u5b9e\u73b0\u200b\u6838\u5fc3\u200b\u914d\u7f6e\u200b\u7c7b\u200b\uff0c\u200b\u5141\u8bb8\u200b\u7528\u6237\u200b\u901a\u8fc7\u200b\u914d\u7f6e\u6587\u4ef6\u200b\u81ea\u5b9a\u4e49\u200b\u9ed8\u8ba4\u200b\u9891\u63a7\u200b\u65f6\u95f4\u200b\u8303\u56f4\u200b\u3001\u200b\u9891\u63a7\u200b\u65f6\u95f4\u200b\u5355\u4f4d\u200b\u3001\u200b\u5355\u4f4d\u200b\u9891\u63a7\u200b\u65f6\u95f4\u200b\u8303\u56f4\u200b\u5185\u200b\u6700\u5927\u200b\u8bbf\u95ee\u200b\u6b21\u6570\u200b</li> <li>\u200b\u53ef\u200b\u901a\u8fc7\u200b\u914d\u7f6e\u6587\u4ef6\u200b\u7684\u200b\u53c2\u6570\u200b\u6307\u5b9a\u200b\u66ff\u6362\u200b\u9650\u6d41\u200b\u7b97\u6cd5\u200b</li> <li>\u200b\u5b9e\u73b0\u200bSPI\u200b\u673a\u5236\u200b\uff0c\u200b\u5141\u8bb8\u200b\u7528\u6237\u200b\u81ea\u5b9a\u4e49\u200b\u5b9e\u73b0\u200b\u9650\u6d41\u200b\u7b97\u6cd5\u200b</li> <li>\u200b\u91c7\u7528\u200b\u7b56\u7565\u200b\u6a21\u5f0f\u200b+\u200b\u6a21\u7248\u200b\u65b9\u6cd5\u200b\u6a21\u5f0f\u200b+\u200b\u5de5\u5382\u200b\u6a21\u5f0f\u200b\uff0c\u200b\u62bd\u8c61\u200b\u9650\u6d41\u200b\u7b56\u7565\u200b\u670d\u52a1\u200b\uff0c\u200b\u5b9e\u73b0\u200b\u56fa\u5b9a\u200b\u7a97\u53e3\u200b\u3001\u200b\u6ed1\u52a8\u200b\u7a97\u53e3\u200b\u3001\u200b\u4ee4\u724c\u200b\u6876\u200b\u7b49\u200b\u9650\u6d41\u200b\u7b97\u6cd5\u200b\u7b56\u7565\u200b</li> </ol>","tags":["java"]},{"location":"blog/backend/Java/FrequencyControl/#3","title":"3. \u200b\u9891\u63a7\u200b\u5c5e\u6027\u200b\u6838\u5fc3\u200b\u914d\u7f6e","text":"<p>\u200b\u5728\u200b\u9891\u63a7\u200b\u5c5e\u6027\u200b\u914d\u7f6e\u200b\u65b9\u9762\u200b\uff0c\u200b\u5b9e\u73b0\u200b\u80fd\u591f\u200b\u901a\u8fc7\u200b\u5728\u200b <code>application.properties</code> \u200b\u6216\u200b <code>application.yml</code> \u200b\u4e2d\u200b\u8bbe\u7f6e\u200b\u76f8\u5173\u200b\u53c2\u6570\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7075\u6d3b\u200b\u8c03\u6574\u200b\u9650\u6d41\u200b\u7b56\u7565\u200b\u3001\u200b\u7a97\u53e3\u200b\u5927\u5c0f\u200b\u3001\u200b\u76ee\u6807\u200b\u5bf9\u8c61\u200b\u3001\u200b\u9891\u7387\u200b\u9650\u5236\u200b\u548c\u200b\u65f6\u95f4\u200b\u5355\u4f4d\u200b\uff0c\u200b\u4ee5\u200b\u9002\u5e94\u200b\u7279\u5b9a\u200b\u573a\u666f\u200b\u3002</p>","tags":["java"]},{"location":"blog/backend/Java/FrequencyControl/#31","title":"3.1 \u200b\u914d\u7f6e\u200b\u9879\u200b\u6982\u89c8","text":"","tags":["java"]},{"location":"blog/backend/Java/FrequencyControl/#32","title":"3.2 \u200b\u6548\u679c\u200b\u5c55\u793a","text":"<p>\u200b\u540c\u65f6\u200b\u6211\u200b\u914d\u7f6e\u200b\u4e86\u200b <code>spring-configuration-metadata.json</code> \u200b\u6587\u4ef6\u200b\uff0c\u200b\u5b9e\u73b0\u200b\u914d\u7f6e\u200b\u4fe1\u606f\u200b\u7684\u200b\u81ea\u52a8\u200b\u63d0\u793a\u200b\u3001\u200b\u8865\u5168\u200b\u529f\u80fd\u200b</p> <ol> <li> <p>\u200b\u81ea\u52a8\u200b\u63d0\u793a\u200b </p> </li> <li> <p>\u200b\u81ea\u52a8\u200b\u8865\u5168\u200b </p> </li> </ol>","tags":["java"]},{"location":"blog/backend/Java/FrequencyControl/#4","title":"4. \u200b\u9891\u63a7\u200b\u6ce8\u89e3\u200b\u53ca\u200b\u5207\u9762\u200b\u5b9e\u73b0","text":"","tags":["java"]},{"location":"blog/backend/Java/FrequencyControl/#41","title":"4.1 \u200b\u9891\u63a7\u200b\u6ce8\u89e3","text":"<p>\u200b\u5b9a\u4e49\u200b\u5982\u4e0b\u200b\u9891\u63a7\u200b\u6ce8\u89e3\u200b\uff0c\u200b\u5305\u542b\u200b\u9891\u63a7\u200b\u7b97\u6cd5\u200b\u53ca\u200b\u76f8\u5173\u200b\u7b97\u6cd5\u200b\u914d\u7f6e\u200b\u7b49\u200b\u5c5e\u6027\u200b</p> Java<pre><code>@Repeatable(FrequencyControlContainer.class) // \u200b\u53ef\u200b\u91cd\u590d\u200b\n@Retention(RetentionPolicy.RUNTIME)// \u200b\u8fd0\u884c\u200b\u65f6\u200b\u751f\u6548\u200b\n@Target(ElementType.METHOD)//\u200b\u4f5c\u7528\u200b\u5728\u200b\u65b9\u6cd5\u200b\u4e0a\u200b\npublic @interface FrequencyControl {\n\n    FrequencyControlStrategyEnum strategy() default FrequencyControlStrategyEnum.TOTAL_COUNT_WITH_IN_FIX_TIME;\n\n    int windowSize() default -1;\n\n    int period() default -1;\n\n    String prefixKey() default \"\";\n\n    FrequencyControlTargetEnum target() default FrequencyControlTargetEnum.EL;\n\n    String spEl() default \"\";\n\n    int time() default -1;\n\n    TimeUnit unit() default TimeUnit.SECONDS;\n\n    int count() default -1;\n\n    long capacity() default -1; \n\n    double refillRate() default -1; \n}\n</code></pre> <p>\u200b\u6ce8\u610f\u200b\u5230\u200b\uff1a\u200b\u6ce8\u89e3\u200b\u5c5e\u6027\u200b\u9ed8\u8ba4\u503c\u200b\u5927\u90e8\u5206\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b -1 \u200b\u6216\u200b \u200b\u7a7a\u200b\u5b57\u7b26\u4e32\u200b</p> <p>\u200b\u539f\u56e0\u200b\u5728\u4e8e\u200b\uff1a   1. \u200b\u6ce8\u89e3\u200b\u5c5e\u6027\u200b\u4e0d\u53ef\u200b\u53d8\u200b\uff0c\u200b\u65e0\u6cd5\u200b\u901a\u8fc7\u200b <code>Properties</code> \u200b\u52a8\u6001\u200b\u914d\u7f6e\u200b\uff0c\u200b\u6240\u4ee5\u200b\u91c7\u7528\u200b -1 \u200b\u6216\u200b \u200b\u7a7a\u200b\u5b57\u7b26\u4e32\u200b \u200b\u8868\u793a\u200b\u91c7\u7528\u200b\u9ed8\u8ba4\u503c\u200b   2. \u200b\u57fa\u4e8e\u200b\u4e0a\u200b\u4e00\u70b9\u200b\uff0c\u200b\u90a3\u4e48\u200b\u5982\u679c\u200b\u6ce8\u89e3\u200b\u5c5e\u6027\u200b\u4e0d\u200b\u4e3a\u200b -1 \u200b\u6216\u200b \u200b\u7a7a\u200b\u5b57\u7b26\u4e32\u200b\uff0c\u200b\u5219\u200b\u5728\u200b\u5207\u9762\u200b\u6267\u884c\u200b\u65f6\u200b\u8868\u793a\u200b\u4e0d\u200b\u4f7f\u7528\u200b\u9ed8\u8ba4\u503c\u200b</p>","tags":["java"]},{"location":"blog/backend/Java/FrequencyControl/#42","title":"4.2 \u200b\u53ef\u200b\u91cd\u590d\u200b\u6ce8\u89e3","text":"<p>\u200b\u540c\u65f6\u200b\uff0c\u200b\u4e3a\u4e86\u200b\u5b9e\u73b0\u200b\u4e00\u4e2a\u200b\u63a5\u53e3\u200b\u53ef\u4ee5\u200b\u62e5\u6709\u200b\u591a\u79cd\u200b\u9891\u63a7\u200b\u7b56\u7565\u200b\u6216\u200b\u9891\u63a7\u200b\u7b97\u6cd5\u200b\uff0c\u200b\u9700\u8981\u200b\u5b9e\u73b0\u200b\u6ce8\u89e3\u200b\u53ef\u200b\u91cd\u590d\u4f7f\u7528\u200b \u200b\u53c2\u8003\u200b Java8\u200b\u65b0\u200b\u7279\u6027\u200b(\u200b\u516d\u200b)\u200b\u91cd\u590d\u200b\u6ce8\u89e3\u200b\u4e0e\u200b\u7c7b\u578b\u200b\u6ce8\u89e3\u200b\uff0c\u200b\u5b9a\u4e49\u200b\u5bb9\u5668\u200b\u6ce8\u89e3\u200b\u7c7b\u200b\uff1a</p> Java<pre><code>@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface FrequencyControlContainer {\n    // \u200b\u53ef\u200b\u91cd\u590d\u200b\u6ce8\u89e3\u200b\n    FrequencyControl[] value();\n}\n</code></pre>","tags":["java"]},{"location":"blog/backend/Java/FrequencyControl/#43","title":"4.3 \u200b\u5207\u9762\u200b\u5b9e\u73b0","text":"<p>\u200b\u6838\u5fc3\u200b\u65b9\u6cd5\u200b\uff1a</p> Java<pre><code>@Around(\"@annotation(com.iflove.starter.frequencycontrol.annotation.FrequencyControl)||@annotation(com.iflove.starter.frequencycontrol.annotation.FrequencyControlContainer)\")\npublic Object around(ProceedingJoinPoint joinPoint) throws Throwable {\n    Method method = ((MethodSignature) joinPoint.getSignature()).getMethod();\n    FrequencyControl[] annotationsByType = method.getAnnotationsByType(FrequencyControl.class);\n    // \u200b\u5b9e\u73b0\u200b\u6ce8\u89e3\u200b\u914d\u7f6e\u200b\u7684\u200b\u52a8\u6001\u200b\u66ff\u6362\u200b\n    List&lt;FrequencyControlConfig&gt; frequencyControlConfigs = injectPropertiesToAnnotations(annotationsByType);\n\n    Map&lt;String, FrequencyControlConfig&gt; keyMap = new HashMap&lt;&gt;();\n\n    for (int i = 0; i &lt; frequencyControlConfigs.size(); i++) {\n        FrequencyControlConfig config = frequencyControlConfigs.get(i);\n        // \u200b\u9ed8\u8ba4\u200b\u4e3a\u200b\u65b9\u6cd5\u200b\u9650\u5b9a\u200b\u540d\u200b + \u200b\u6ce8\u89e3\u200b\u6392\u540d\u200b\uff08\u200b\u53ef\u80fd\u200b\u591a\u4e2a\u200b\uff09\n        String prefix = StrUtil.isBlank(config.getPrefixKey()) ? method.toGenericString() + \":index:\" + i : config.getPrefixKey();\n        String key = \"\";\n        switch (config.getTarget()) {\n            case EL -&gt; key = SPELUtils.parseSPEL(method, joinPoint.getArgs(), config.getSpEl());\n            case IP -&gt; key = UserContext.getIp();\n            case UID -&gt; key = UserContext.getUserId();\n        }\n        // \u200b\u5b58\u5165\u200bkeyMap\n        keyMap.put(prefix + \":\" + key, config);\n    }\n    // \u200b\u6839\u636e\u200b\u7b56\u7565\u200b\u5206\u7ec4\u200b\n    Map&lt;FrequencyControlStrategyEnum, Map&lt;String, FrequencyControlConfig&gt;&gt; configMapByStrategy = keyMap.entrySet().stream()\n            .collect(Collectors.groupingBy(\n                    entry -&gt; entry.getValue().getStrategy(),\n                    Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue)\n            ));\n\n    Map&lt;String, FrequencyControlConfig&gt; configMap;\n    // \u200b\u56fa\u5b9a\u200b\u7a97\u53e3\u200b\n    if ((configMap = configMapByStrategy.get(FrequencyControlStrategyEnum.TOTAL_COUNT_WITH_IN_FIX_TIME)) != null) {\n        List&lt;FixedWindowDTO&gt; frequencyControlDTOS = configMap.entrySet().stream().map(entrySet -&gt; buildFixedWindowDTO(entrySet.getKey(), entrySet.getValue())).collect(Collectors.toList());\n        FrequencyControlUtil.executeWithFrequencyControlList(FrequencyControlStrategyEnum.TOTAL_COUNT_WITH_IN_FIX_TIME, frequencyControlDTOS);\n    }\n    // \u200b\u6ed1\u52a8\u200b\u7a97\u53e3\u200b\n    if ((configMap = configMapByStrategy.get(FrequencyControlStrategyEnum.SLIDING_WINDOW)) != null) {\n        List&lt;SlidingWindowDTO&gt; frequencyControlDTOS = configMap.entrySet().stream().map(entrySet -&gt; buildSlidingWindowDTO(entrySet.getKey(), entrySet.getValue())).collect(Collectors.toList());\n        FrequencyControlUtil.executeWithFrequencyControlList(FrequencyControlStrategyEnum.SLIDING_WINDOW, frequencyControlDTOS);\n    }\n    // \u200b\u4ee4\u724c\u200b\u6876\u200b\n    if ((configMap = configMapByStrategy.get(FrequencyControlStrategyEnum.TOKEN_BUCKET)) != null) {\n        List&lt;TokenBucketDTO&gt; frequencyControlDTOS = configMap.entrySet().stream().map(entrySet -&gt; buildTokenBucketDTO(entrySet.getKey(), entrySet.getValue())).collect(Collectors.toList());\n        FrequencyControlUtil.executeWithFrequencyControlList(FrequencyControlStrategyEnum.TOKEN_BUCKET, frequencyControlDTOS);\n    }\n    return joinPoint.proceed();\n}\n</code></pre>","tags":["java"]},{"location":"blog/backend/Java/FrequencyControl/#5","title":"5. \u200b\u5e38\u89c1\u200b\u7684\u200b\u9650\u6d41\u200b\u7b97\u6cd5\u200b\u53ca\u200b\u76f8\u5173\u200b\u5b9e\u73b0","text":"","tags":["java"]},{"location":"blog/backend/Java/FrequencyControl/#51","title":"5.1 \u200b\u62bd\u8c61\u200b\u9650\u6d41\u200b\u7b56\u7565","text":"<p>\u200b\u91cd\u70b9\u200b\u5173\u6ce8\u200b\u4ee5\u4e0b\u200b3\u200b\u4e2a\u200b\u65b9\u6cd5\u200b\uff1a</p>","tags":["java"]},{"location":"blog/backend/Java/FrequencyControl/#1-executewithfrequencycontrolmap","title":"1. #executeWithFrequencyControlMap","text":"<p>Java<pre><code>/**\n * \u200b\u6267\u884c\u200b\u9650\u6d41\u200b\u7b56\u7565\u200b\n *\n * @param frequencyControlMap   \u200b\u5b9a\u4e49\u200b\u7684\u200b\u6ce8\u89e3\u200b\u9891\u63a7\u200b\n *                              Map\u200b\u4e2d\u200b\u7684\u200bKey-{@link K#getKey()}-\u200b\u5bf9\u5e94\u200bredis\u200b\u7684\u200b\u5355\u4e2a\u200b\u9891\u63a7\u200b\u7684\u200bKey\n *                              Map\u200b\u4e2d\u200b\u7684\u200bValue-\u200b\u5bf9\u5e94\u200bredis\u200b\u7684\u200b\u5355\u4e2a\u200b\u9891\u63a7\u200b\u7684\u200bKey\u200b\u9650\u5236\u200b\u7684\u200bValue\n */\nprivate void executeWithFrequencyControlMap(Map&lt;String, K&gt; frequencyControlMap) {\n    // \u200b\u5224\u65ad\u200b\uff1a\u200b\u662f\u5426\u200b\u8fbe\u5230\u200b\u9650\u6d41\u200b\u9608\u503c\u200b\n    if (reachRateLimit(frequencyControlMap)) {\n        throw new FrequencyControlException((String) null);\n    }\n    // \u200b\u589e\u52a0\u200b\u9650\u6d41\u200b\u7edf\u8ba1\u200b\n    addFrequencyControlStatisticsCount(frequencyControlMap);\n}\n</code></pre> \u200b\u529f\u80fd\u200b\uff1a\u200b\u6267\u884c\u200b\u9650\u6d41\u200b\u7b56\u7565\u200b\uff0c\u200b\u901a\u8fc7\u200b\u6307\u5b9a\u200b\u7684\u200b\u9891\u63a7\u200b\u914d\u7f6e\u200b\u5224\u65ad\u200b\u662f\u5426\u200b\u8fbe\u5230\u200b\u9650\u6d41\u200b\u9608\u503c\u200b\uff0c\u200b\u5e76\u200b\u5728\u200b\u672a\u200b\u8fbe\u5230\u200b\u9650\u6d41\u200b\u9608\u503c\u200b\u65f6\u200b\u589e\u52a0\u200b\u9891\u63a7\u200b\u7edf\u8ba1\u200b\u8ba1\u6570\u200b</p>","tags":["java"]},{"location":"blog/backend/Java/FrequencyControl/#2-reachratelimit","title":"2. #reachRateLimit","text":"Java<pre><code>/**\n * \u200b\u662f\u5426\u200b\u8fbe\u5230\u200b\u9650\u6d41\u200b\u9608\u503c\u200b (\u200b\u5b50\u7c7b\u200b\u5b9e\u73b0\u200b)\n *\n * @param frequencyControlMap \u200b\u5b9a\u4e49\u200b\u7684\u200b\u6ce8\u89e3\u200b\u9891\u63a7\u200b\n *                            Map\u200b\u4e2d\u200b\u7684\u200bKey-{@link K#getKey()}-\u200b\u5bf9\u5e94\u200bredis\u200b\u7684\u200b\u5355\u4e2a\u200b\u9891\u63a7\u200b\u7684\u200bKey\n *                            Map\u200b\u4e2d\u200b\u7684\u200bValue-\u200b\u5bf9\u5e94\u200bredis\u200b\u7684\u200b\u5355\u4e2a\u200b\u9891\u63a7\u200b\u7684\u200bKey\u200b\u9650\u5236\u200b\u7684\u200bValue\n * @return true-\u200b\u65b9\u6cd5\u200b\u88ab\u200b\u9650\u6d41\u200b false-\u200b\u65b9\u6cd5\u200b\u6ca1\u6709\u200b\u88ab\u200b\u9650\u6d41\u200b\n */\nprotected abstract boolean reachRateLimit(Map&lt;String, K&gt; frequencyControlMap);\n</code></pre> <p>\u200b\u529f\u80fd\u200b\uff1a\u200b\u5224\u65ad\u200b\u662f\u5426\u200b\u8fbe\u5230\u200b\u9650\u6d41\u200b\u9608\u503c\u200b\uff0c\u200b\u4ea4\u7ed9\u200b\u5b50\u7c7b\u200b\u5b9e\u73b0\u200b</p>","tags":["java"]},{"location":"blog/backend/Java/FrequencyControl/#3-addfrequencycontrolstatisticscount","title":"3. #addFrequencyControlStatisticsCount","text":"Java<pre><code>/**\n * \u200b\u589e\u52a0\u200b\u9650\u6d41\u200b\u7edf\u8ba1\u200b\u6b21\u6570\u200b (\u200b\u5b50\u7c7b\u200b\u5b9e\u73b0\u200b)\n *\n * @param frequencyControlMap \u200b\u5b9a\u4e49\u200b\u7684\u200b\u6ce8\u89e3\u200b\u9891\u63a7\u200b\n *                            Map\u200b\u4e2d\u200b\u7684\u200bKey-{@link K#getKey()}-\u200b\u5bf9\u5e94\u200bredis\u200b\u7684\u200b\u5355\u4e2a\u200b\u9891\u63a7\u200b\u7684\u200bKey\n *                            Map\u200b\u4e2d\u200b\u7684\u200bValue-\u200b\u5bf9\u5e94\u200bredis\u200b\u7684\u200b\u5355\u4e2a\u200b\u9891\u63a7\u200b\u7684\u200bKey\u200b\u9650\u5236\u200b\u7684\u200bValue\n */\nprotected abstract void addFrequencyControlStatisticsCount(Map&lt;String, K&gt; frequencyControlMap);\n</code></pre> <p>\u200b\u529f\u80fd\u200b\uff1a\u200b\u589e\u52a0\u200b\u9650\u6d41\u200b\u7edf\u8ba1\u200b\u6b21\u6570\u200b\uff0c\u200b\u4ea4\u7ed9\u200b\u5b50\u7c7b\u200b\u5b9e\u73b0\u200b</p>","tags":["java"]},{"location":"blog/backend/Java/FrequencyControl/#52","title":"5.2 \u200b\u56fa\u5b9a\u200b\u7a97\u53e3","text":"","tags":["java"]},{"location":"blog/backend/Java/FrequencyControl/#1_1","title":"1. \u200b\u57fa\u672c\u200b\u4ecb\u7ecd","text":"<p>\u200b\u56fa\u5b9a\u200b\u65f6\u95f4\u200b\u7a97\u53e3\u200b\uff08Fixed Window Rate Limiting Algorithm\uff09\uff08\u200b\u4e5f\u200b\u53eb\u200b\u8ba1\u6570\u5668\u200b\uff09\u200b\u662f\u200b\u6700\u200b\u5e38\u89c1\u200b\u7684\u200b\u9650\u6d41\u200b\u7b97\u6cd5\u200b\u4e4b\u4e00\u200b\u3002\u200b\u5b83\u200b\u5212\u5206\u200b\u4e86\u200b\u591a\u5757\u200b\u56fa\u5b9a\u200b\u7684\u200b\u65f6\u95f4\u200b\u7a97\u53e3\u200b\uff0c\u200b\u5e76\u4e14\u200b\u9650\u5236\u200b\u4e86\u200b\u6bcf\u5757\u200b\u7a97\u53e3\u200b\u7684\u200b\u6700\u5927\u200b\u8bf7\u6c42\u200b\u6570\u91cf\u200b\u3002</p> <p></p> <p>\u200b\u5982\u679c\u200b\u5c06\u200b\u65f6\u95f4\u200b\u6bcf\u79d2\u200b\u4f5c\u4e3a\u200b\u4e00\u4e2a\u200b\u65f6\u95f4\u200b\u7a97\u53e3\u200b\uff0c\u200b\u8bbe\u7f6e\u200b\u6bcf\u4e2a\u200b\u65f6\u95f4\u200b\u7a97\u53e3\u200b\u4e0d\u80fd\u200b\u8d85\u8fc7\u200b4\u200b\u4e2a\u200b\u8bf7\u6c42\u200b\u3002\u200b\u8fd9\u65f6\u5019\u200b\u4f1a\u200b\u53d1\u73b0\u200b\u56fa\u5b9a\u200b\u7a97\u53e3\u200b\u6709\u4e2a\u200b\u5f88\u200b\u4e25\u91cd\u200b\u7684\u200b\u95ee\u9898\u200b\uff0c\u200b\u5c31\u662f\u200b\u4e34\u754c\u70b9\u200b\u95ee\u9898\u200b\u3002\u200b\u5f53\u200b\u5207\u6362\u200b\u7a97\u53e3\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u6240\u6709\u200b\u8ba1\u6570\u200b\u5c06\u4f1a\u200b\u91cd\u65b0\u200b\u8ba1\u6570\u200b\uff0c\u200b\u5c31\u200b\u4f1a\u200b\u51fa\u73b0\u200b\u77ed\u77ed\u200b0.5\u200b\u79d2\u200b\u5185\u200b\u8fbe\u5230\u200b6\u200b\u4e2a\u200b\u8bf7\u6c42\u200b\u7684\u200b\u60c5\u51b5\u200b\u3002</p> <ul> <li>\u200b\u4f18\u70b9\u200b\uff1a<ul> <li>\u200b\u56fa\u5b9a\u200b\u7a97\u53e3\u200b\u7b97\u6cd5\u200b\u975e\u5e38\u7b80\u5355\u200b\uff0c\u200b\u6613\u4e8e\u200b\u5b9e\u73b0\u200b\u548c\u200b\u7406\u89e3\u200b\u3002</li> </ul> </li> <li>\u200b\u7f3a\u70b9\u200b\uff1a<ul> <li>\u200b\u5b58\u5728\u200b\u660e\u663e\u200b\u7684\u200b\u4e34\u754c\u200b\u95ee\u9898\u200b\uff0c\u200b\u5982\u679c\u200b\u8bf7\u6c42\u200b\u96c6\u4e2d\u200b\u5728\u200b\u4e24\u4e2a\u200b\u7a97\u53e3\u200b\u4e4b\u95f4\u200b\u3002\u200b\u90a3\u4e48\u200b\u8bf7\u6c42\u200b\u6b21\u6570\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u8d85\u8fc7\u200b\u6211\u4eec\u200b\u7684\u200b\u9884\u671f\u200b\uff0c\u200b\u6700\u9ad8\u200b\u8fbe\u5230\u200b\u9884\u671f\u200b\u7684\u200b\u4e24\u500d\u200b\u3002</li> </ul> </li> </ul>","tags":["java"]},{"location":"blog/backend/Java/FrequencyControl/#2_1","title":"2. \u200b\u9002\u7528\u200b\u573a\u666f","text":"<p>\u200b\u56fa\u5b9a\u200b\u7a97\u53e3\u200b\u5b9e\u73b0\u200b\u8d77\u6765\u200b\u7b80\u5355\u200b\u65b9\u4fbf\u200b\uff0c\u200b\u8fd9\u200b\u5c31\u662f\u200b\u5b83\u200b\u6700\u5927\u200b\u4f18\u70b9\u200b\u3002\u200b\u8981\u547d\u200b\u7684\u200b\u5c31\u662f\u200b\u5b83\u200b\u7684\u200b\u4e34\u754c\u200b\u95ee\u9898\u200b\u3002\u200b\u53ea\u8981\u200b\u5e73\u5e38\u200b\u6d41\u91cf\u200b\u76f8\u5bf9\u200b\u5747\u5300\u5206\u5e03\u200b\uff0c\u200b\u6216\u8005\u200b\u6211\u4eec\u200b\u80fd\u591f\u200b\u63a5\u53d7\u200b\u9650\u6d41\u200b\u51c6\u786e\u5ea6\u200b\u6ca1\u200b\u90a3\u4e48\u200b\u4e25\u683c\u200b\uff0c\u200b\u90a3\u4e48\u200b\u56fa\u5b9a\u200b\u7a97\u53e3\u200b\u662f\u200b\u4e2a\u200b\u5f88\u200b\u4e0d\u9519\u200b\u7684\u200b\u65b9\u6848\u200b\u3002</p>","tags":["java"]},{"location":"blog/backend/Java/FrequencyControl/#3_1","title":"3. \u200b\u4ee3\u7801\u200b\u5b9e\u73b0","text":"<p>\u200b\u4ee3\u7801\u200b\u4f4d\u7f6e\u200b\uff1a<code>com.iflove.starter.frequencycontrol.service.frequencycontrol.strategy.TotalCountWithInFixTimeFrequencyController</code></p> <p>\u200b\u6838\u5fc3\u200b\u4ee3\u7801\u200b\uff1a Java<pre><code>@Override\nprotected boolean reachRateLimit(Map&lt;String, FixedWindowDTO&gt; frequencyControlMap) {\n    // \u200b\u6279\u91cf\u200b\u83b7\u53d6\u200b\n    List&lt;String&gt; frequencyKeys = new ArrayList&lt;&gt;(frequencyControlMap.keySet());\n    List&lt;Integer&gt; countList = RedisUtil.mget(frequencyKeys, Integer.class);\n    for (int i = 0; i &lt; frequencyKeys.size(); i++) {\n        String key = frequencyKeys.get(i);\n        Integer count = countList.get(i);\n        int frequencyControlCountLimit = frequencyControlMap.get(key).getCount();\n        // \u200b\u5224\u65ad\u200b\uff1a\u200b\u5230\u8fbe\u200b\u9650\u6d41\u200b\u9608\u503c\u200b\n        if (Objects.nonNull(count) &amp;&amp; count &gt;= frequencyControlCountLimit) {\n            log.warn(\"frequenctControl limit key:{}, count:{}\", key, count);\n            return true;\n        }\n    }\n    return false;\n}\n\n@Override\nprotected void addFrequencyControlStatisticsCount(Map&lt;String, FixedWindowDTO&gt; frequencyControlMap) {\n    frequencyControlMap.forEach((k, v) -&gt; RedisUtil.inc(k, v.getTime(), v.getUnit()));\n}\n</code></pre></p> <ul> <li> <p><code>#reachRateLimit</code></p> <p>\u200b\u529f\u80fd\u200b\uff1a\u200b\u5224\u65ad\u200b\u662f\u5426\u200b\u8fbe\u5230\u200b\u9650\u6d41\u200b\u9608\u503c\u200b</p> <ol> <li>\u200b\u6279\u91cf\u200b\u83b7\u53d6\u200b\uff1a\u200b\u5c06\u200b\u6240\u6709\u200b\u9650\u6d41\u200b\u952e\u200b\u63d0\u53d6\u200b\u4e3a\u200b <code>List</code>\uff0c\u200b\u5e76\u200b\u4f7f\u7528\u200b <code>RedisUtil.mget</code> \u200b\u65b9\u6cd5\u200b\u4ece\u200b <code>Redis</code> \u200b\u4e2d\u200b\u6279\u91cf\u200b\u83b7\u53d6\u200b\u8fd9\u4e9b\u200b\u952e\u200b\u7684\u200b\u8ba1\u200b\u6570\u503c\u200b\u3002</li> <li>\u200b\u904d\u5386\u200b\u5e76\u200b\u68c0\u67e5\u200b\uff1a\u200b\u904d\u5386\u200b\u6bcf\u4e2a\u200b\u952e\u200b\u7684\u200b\u8ba1\u200b\u6570\u503c\u200b\uff0c\u200b\u68c0\u67e5\u200b\u5176\u200b\u662f\u5426\u200b\u8fbe\u5230\u200b\u9650\u6d41\u200b\u9608\u503c\u200b\u3002</li> <li>\u200b\u9650\u6d41\u200b\u5224\u65ad\u200b\uff1a\u200b\u5982\u679c\u200b\u67d0\u4e2a\u200b\u952e\u200b\u7684\u200b\u8ba1\u200b\u6570\u503c\u200b\u8fbe\u5230\u200b\u6216\u200b\u8d85\u8fc7\u200b\u9650\u6d41\u200b\u9608\u503c\u200b\uff0c\u200b\u8bb0\u5f55\u200b\u65e5\u5fd7\u200b\uff0c\u200b\u5e76\u200b\u8fd4\u56de\u200b <code>true</code> \u200b\u8868\u793a\u200b\u5df2\u200b\u9650\u6d41\u200b\u3002\u200b\u5426\u5219\u200b\uff0c\u200b\u7ee7\u7eed\u200b\u904d\u5386\u200b\u3002</li> <li>\u200b\u8fd4\u56de\u200b\u7ed3\u679c\u200b\uff1a\u200b\u5982\u679c\u200b\u6240\u6709\u200b\u952e\u200b\u90fd\u200b\u672a\u200b\u8fbe\u5230\u200b\u9650\u6d41\u200b\u9608\u503c\u200b\uff0c\u200b\u8fd4\u56de\u200b <code>false</code> \u200b\u8868\u793a\u200b\u672a\u200b\u9650\u6d41\u200b\u3002</li> </ol> </li> <li> <p><code>#addFrequencyControlStatisticsCount</code></p> <p>\u200b\u529f\u80fd\u200b\uff1a\u200b\u589e\u52a0\u200b\u6bcf\u4e2a\u200b\u9650\u6d41\u200b\u952e\u200b\u7684\u200b\u8ba1\u6570\u200b\uff0c\u200b\u5e76\u200b\u8bbe\u7f6e\u200b\u952e\u200b\u7684\u200b\u8fc7\u671f\u200b\u65f6\u95f4\u200b\u3002</p> <ol> <li>\u200b\u8ba1\u6570\u200b\u9012\u589e\u200b\uff1a\u200b\u904d\u5386\u200b <code>frequencyControlMap</code>\uff0c\u200b\u5bf9\u200b\u6bcf\u4e2a\u200b\u9650\u6d41\u200b\u952e\u200b\u8c03\u7528\u200b <code>RedisUtil.inc</code> \u200b\u65b9\u6cd5\u200b\uff0c\u200b\u589e\u52a0\u200b\u8ba1\u6570\u200b\u5e76\u200b\u8bbe\u7f6e\u200b\u8fc7\u671f\u200b\u65f6\u95f4\u200b\u3002</li> <li>\u200b\u8bbe\u7f6e\u200b\u8fc7\u671f\u200b\u65f6\u95f4\u200b\uff1a<code>RedisUtil.inc</code> \u200b\u63a5\u6536\u200b\u4e00\u4e2a\u200b\u65f6\u95f4\u200b\u548c\u200b\u5355\u4f4d\u200b\u53c2\u6570\u200b\uff0c\u200b\u7528\u4e8e\u200b\u8bbe\u7f6e\u200b <code>Redis</code> \u200b\u952e\u200b\u7684\u200b\u8fc7\u671f\u200b\u65f6\u95f4\u200b\uff0c\u200b\u4ee5\u200b\u786e\u4fdd\u200b\u8ba1\u6570\u200b\u5728\u200b\u7a97\u53e3\u200b\u7ed3\u675f\u200b\u540e\u200b\u91cd\u7f6e\u200b\u3002</li> </ol> </li> </ul> <p><code>RedisUtil.inc</code> \u200b\u65b9\u6cd5\u200b\u5e95\u5c42\u200b\u8c03\u7528\u200b <code>lua</code> \u200b\u811a\u672c\u200b\u4fdd\u8bc1\u200b\u539f\u5b50\u200b\u6027\u200b\uff0c<code>lua</code>\u200b\u4ee3\u7801\u200b\u5982\u4e0b\u200b\uff1a</p> Lua<pre><code>local key, ttl = KEYS[1], ARGV[1]\n\nif redis.call('EXISTS', key) == 0 then\n    redis.call('SETEX', key, ttl, 1)\n    return 1\nelse\n    return tonumber(redis.call('INCR', key))\nend\n</code></pre>","tags":["java"]},{"location":"blog/backend/Java/FrequencyControl/#53","title":"5.3 \u200b\u6ed1\u52a8\u200b\u7a97\u53e3","text":"","tags":["java"]},{"location":"blog/backend/Java/FrequencyControl/#1_2","title":"1. \u200b\u57fa\u672c\u200b\u4ecb\u7ecd","text":"<p>\u200b\u4e3a\u4e86\u200b\u89e3\u51b3\u200b\u56fa\u5b9a\u200b\u7a97\u53e3\u200b\u66f4\u6362\u200b\u7a97\u53e3\u200b\u65f6\u200b\u7684\u200b\u4e34\u754c\u70b9\u200b\u95ee\u9898\u200b\u3002\u200b\u56e0\u6b64\u200b\u51fa\u73b0\u200b\u4e86\u200b\u6ed1\u52a8\u200b\u7a97\u53e3\u200b\uff0c\u200b\u8fd9\u6837\u200b\u4e00\u76f4\u200b\u90fd\u200b\u53ea\u7528\u200b\u4e00\u4e2a\u200b\u6ed1\u52a8\u200b\u7a97\u53e3\u200b\uff0c\u200b\u53ea\u4e0d\u8fc7\u200b\u8fd9\u4e2a\u200b\u7a97\u53e3\u200b\u4f1a\u200b\u4e0d\u65ad\u200b\u5411\u524d\u200b\u6ed1\u52a8\u200b\u3002</p> <p>\u200b\u6ed1\u52a8\u200b\u7a97\u53e3\u200b\u5c06\u200b\u65f6\u95f4\u200b\u5206\u4e3a\u200b\u591a\u4e2a\u200b\u5c0f\u200b\u7c92\u5ea6\u200b\u7684\u200b\u533a\u95f4\u200b\u3002\u200b\u5e76\u4e14\u200b\u7edf\u8ba1\u200b\u7a97\u53e3\u200b\u4f1a\u200b\u4e0d\u65ad\u200b\u7684\u200b\u79fb\u9664\u200b\u6700\u65e9\u200b\u7684\u200b\u683c\u5b50\u200b\uff0c\u200b\u52a0\u5165\u200b\u65b0\u200b\u7684\u200b\u683c\u5b50\u200b\u3002\u200b\u6240\u6709\u200b\u7684\u200b\u8ba1\u6570\u200b\u53ea\u4f1a\u200b\u7edf\u8ba1\u200b\u7a97\u53e3\u200b\u5185\u200b\u7684\u200b\u503c\u200b\u3002</p> <p></p> <p>\u200b\u5047\u8bbe\u200b\u65f6\u95f4\u200b\u7c92\u5ea6\u200b\u4e3a\u200b0.25s\u200b\u6bcf\u683c\u200b\uff0c\u200b\u6700\u5927\u200b\u8bf7\u6c42\u200b\u6570\u91cf\u200b4\u200b\u4e2a\u200b\u6bcf\u79d2\u200b\u3002</p> <p>\u200b\u7ea2\u8272\u200b\u7684\u200b\u7403\u200b\u5c31\u662f\u200b\u88ab\u200b\u9650\u6d41\u200b\u7684\u200b\u8bf7\u6c42\u200b\u3002\u200b\u968f\u7740\u200b\u65f6\u95f4\u200b\u7684\u200b\u4e0d\u65ad\u200b\u589e\u52a0\u200b\uff0c\u200b\u6bcf\u200b0.25s\uff0c\u200b\u65f6\u95f4\u200b\u7a97\u53e3\u200b\u5c31\u200b\u4f1a\u200b\u5f80\u524d\u200b\u6ed1\u52a8\u200b\u4e00\u5c0f\u200b\u683c\u200b\uff0c\u200b\u6bcf\u6b21\u200b\u90fd\u200b\u4f1a\u200b\u7edf\u8ba1\u200b\u65f6\u95f4\u200b\u7a97\u53e3\u200b\u5185\u200b\u7684\u200b\u8bf7\u6c42\u200b\u4e0d\u80fd\u200b\u8d85\u8fc7\u200b4\u200b\u4e2a\u200b\u3002</p> <ul> <li> <p>\u200b\u4f18\u70b9\u200b\uff1a</p> <ul> <li>\u200b\u5e73\u6ed1\u200b\uff0c\u200b\u76f8\u6bd4\u200b\u8d77\u200b\u56fa\u5b9a\u200b\u7a97\u53e3\u200b\uff0c\u200b\u6ed1\u52a8\u200b\u7a97\u53e3\u200b\u89e3\u51b3\u200b\u4e86\u200b\u4e34\u754c\u200b\u95ee\u9898\u200b\u3002\u200b\u6ed1\u52a8\u200b\u7a97\u53e3\u200b\u7684\u200b\u7cbe\u5ea6\u200b\u66f4\u9ad8\u200b\uff0c\u200b\u80fd\u200b\u8ba9\u200b\u8bf7\u6c42\u200b\u66f4\u52a0\u200b\u7684\u200b\u5e73\u6ed1\u200b\u3002</li> <li>\u200b\u72b6\u6001\u200b\u6027\u200b\uff0c\u200b\u662f\u200b\u7f3a\u70b9\u200b\uff0c\u200b\u4e5f\u200b\u662f\u200b\u4f18\u70b9\u200b\u3002\u200b\u4fdd\u5b58\u200b\u4e86\u200b\u6240\u6709\u200b\u8bf7\u6c42\u200b\u7684\u200b\u539f\u59cb\u200b\u72b6\u6001\u200b\uff0c\u200b\u65b9\u4fbf\u200b\u7edf\u8ba1\u200b\u3002</li> </ul> </li> <li> <p>\u200b\u7f3a\u70b9\u200b\uff1a</p> <ul> <li>\u200b\u72b6\u6001\u200b\u6027\u200b\uff0c\u200b\u6ed1\u52a8\u200b\u7a97\u53e3\u200b\u7b97\u6cd5\u200b\u9700\u8981\u200b\u7ef4\u62a4\u200b\u7a97\u53e3\u200b\u5185\u200b\u7684\u200b\u8bf7\u6c42\u200b\u4fe1\u606f\u200b\uff0c\u200b\u5e76\u4e14\u200b\u8fd9\u4e9b\u200b\u8bf7\u6c42\u200b\u4e0d\u662f\u200b\u5355\u7eaf\u200b\u7684\u200b\u6570\u503c\u200b\uff0c\u200b\u5b83\u4eec\u200b\u548c\u200b\u6700\u5c0f\u200b\u683c\u5b50\u200b\u6302\u94a9\u200b\uff0c\u200b\u8fd9\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u5bfc\u81f4\u200b\u4e00\u5b9a\u200b\u7684\u200b\u72b6\u6001\u200b\u5b58\u50a8\u200b\u5f00\u9500\u200b\uff0c\u200b\u5c24\u5176\u200b\u5bf9\u4e8e\u200b\u5927\u89c4\u6a21\u200b\u7684\u200b\u7cfb\u7edf\u200b\u3002</li> </ul> </li> </ul>","tags":["java"]},{"location":"blog/backend/Java/FrequencyControl/#2_2","title":"2. \u200b\u9002\u7528\u200b\u573a\u666f","text":"<p>\u200b\u9009\u62e9\u200b\u573a\u666f\u200b\u524d\u200b\uff0c\u200b\u4f9d\u7136\u200b\u8981\u200b\u4e86\u89e3\u200b\u5b83\u200b\u7684\u200b\u4f18\u7f3a\u70b9\u200b\uff0c\u200b\u624d\u200b\u77e5\u9053\u200b\u600e\u4e48\u200b\u53bb\u200b\u9002\u914d\u200b\u573a\u666f\u200b\u3002\u200b\u6ed1\u52a8\u200b\u7a97\u53e3\u200b\u6700\u5927\u200b<code>\u200b\u4f18\u70b9\u200b</code>\u200b\u662f\u200b\u5e73\u6ed1\u200b\u3002\u200b\u80fd\u591f\u200b\u5141\u8bb8\u200b\u5076\u5c14\u200b\u7a81\u53d1\u200b\u7684\u200b\u8bf7\u6c42\u200b\uff0c\u200b\u4f46\u662f\u200b\u4f1a\u200b\u9650\u5236\u200b\u7a97\u53e3\u200b\u5185\u200b\u7684\u200b\u603b\u200b\u6b21\u6570\u200b\uff0c\u200b\u9002\u5408\u200b\u9700\u8981\u200b\u4fdd\u8bc1\u200b\u5e73\u5747\u200b\u901f\u7387\u200b\u7684\u200b\u573a\u666f\u200b\u3002<code>\u200b\u7f3a\u70b9\u200b</code>\u200b\u662f\u200b\u4ed6\u200b\u9700\u8981\u200b\u4fdd\u5b58\u200b\u7a97\u53e3\u200b\u5185\u200b\u6bcf\u4e2a\u200b\u8bf7\u6c42\u200b\u7684\u200b\u65f6\u95f4\u200b\u5206\u5e03\u200b\u72b6\u6001\u200b\uff0c\u200b\u6bd4\u8f83\u200b\u5360\u7528\u200b\u5185\u5b58\u200b\u3002\u200b\u6b63\u662f\u200b\u56e0\u4e3a\u200b\u8fd9\u6837\u200b\u7684\u200b\u72b6\u6001\u200b\u3002\u200b\u6ed1\u52a8\u200b\u7a97\u53e3\u200b\u6700\u597d\u200b\u662f\u200b\u7528\u4e8e\u200b\u5168\u5c40\u200b\u7684\u200b\u9650\u6d41\u200b\u3002\u200b\u5982\u679c\u200b\u7528\u4e8e\u200b\u7528\u6237\u200b\u7ea7\u522b\u200b\u7684\u200b\u9650\u6d41\u200b\uff0c\u200b\u90a3\u200b\u5c31\u200b\u4f1a\u200b\u4e3a\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u7528\u6237\u200b\u90fd\u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u6ed1\u52a8\u200b\u7a97\u53e3\u200b\uff0c\u200b\u6bd4\u8f83\u200b\u6d88\u8017\u200b\u5185\u5b58\u200b\u3002</p> <ul> <li>api\u200b\u9650\u6d41\u200b</li> </ul> <p>\u200b\u9488\u5bf9\u200b\u63a5\u53e3\u200b\u9650\u6d41\u200b\uff0c\u200b\u6211\u4eec\u200b\u4e00\u822c\u200b\u4f1a\u200b\u901a\u8fc7\u200b\u538b\u6d4b\u200b\u9884\u4f30\u200b\u63a5\u53e3\u200b\u7684\u200bqps\u3002\u200b\u4e86\u89e3\u200b\u4e86\u200b\u8fd9\u4e2a\u200b\u4e4b\u540e\u200b\u3002\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u5bf9\u63a5\u53e3\u200b\u8fdb\u884c\u200b\u6700\u5927\u200bqps90%\u200b\u7684\u200b\u901f\u7387\u200b\u9650\u5236\u200b\u3002\u200b\u8fd9\u65f6\u5019\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u7528\u200b\u6ed1\u52a8\u200b\u7a97\u53e3\u200b\u9650\u6d41\u200b\u3002\u200b\u4ed6\u200b\u53ef\u4ee5\u200b\u5e73\u6ed1\u200b\u7684\u200b\u4fdd\u8bc1\u200b\u6bcf\u79d2\u200b\u7684\u200b\u8bf7\u6c42\u200b\u91cf\u200b\u4e0d\u200b\u8d85\u8fc7\u200b\u6211\u4eec\u200b\u914d\u7f6e\u200b\u7684\u200b\u6700\u5927\u200bqps\u3002</p> <ul> <li>sentinel\u200b\u9650\u6d41\u200b\u6846\u67b6\u200b\u5e95\u5c42\u200b</li> </ul> <p>\u200b\u6b63\u662f\u200b\u7531\u4e8e\u200b\u6ed1\u52a8\u200b\u7a97\u53e3\u200b\u7684\u200b\u72b6\u6001\u200b\u7279\u6027\u200b\u3002\u200b\u4ed6\u200b\u80fd\u200b\u4fdd\u5b58\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u8bf7\u6c42\u200b\u7684\u200b\u65f6\u95f4\u200b\u5206\u5e03\u200b\u8fd9\u200b\u7c7b\u200b\u539f\u59cb\u200b\u4fe1\u606f\u200b\u3002\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5f88\u200b\u5bb9\u6613\u200b\u7684\u200b\u7edf\u8ba1\u200b\u51fa\u200b1s\uff0c5s\uff0c10s\u200b\u5185\u200b\u7684\u200b\u8bf7\u6c42\u200b\u6570\u91cf\u200b\uff0c\u200b\u6210\u529f\u200b\u6570\u91cf\u200b\uff0c\u200b\u9650\u6d41\u200b\u6570\u91cf\u200b\u3002sentinel\u200b\u5e95\u5c42\u200b\u6b63\u662f\u200b\u7528\u200b\u6ed1\u52a8\u200b\u7a97\u53e3\u200b\u6765\u200b\u5b9e\u73b0\u200b\u8fd9\u4e9b\u200b\u72b6\u6001\u200b\u7684\u200b\u8bb0\u5f55\u200b\u4e0e\u200b\u9650\u6d41\u200b\u3002</p>","tags":["java"]},{"location":"blog/backend/Java/FrequencyControl/#3_2","title":"3. \u200b\u4ee3\u7801\u200b\u5b9e\u73b0","text":"<p>\u200b\u4ee3\u7801\u200b\u4f4d\u7f6e\u200b\uff1a <code>com.iflove.starter.frequencycontrol.service.frequencycontrol.strategy.SlidingWindowFrequencyController</code></p> <p>\u200b\u6838\u5fc3\u200b\u4ee3\u7801\u200b\uff1a</p> Java<pre><code>@Override\nprotected boolean reachRateLimit(Map&lt;String, SlidingWindowDTO&gt; frequencyControlMap) {\n    List&lt;String&gt; frequencyKeys = new ArrayList&lt;&gt;(frequencyControlMap.keySet());\n    for (String key : frequencyKeys) {\n        SlidingWindowDTO dto = frequencyControlMap.get(key);\n        // \u200b\u83b7\u53d6\u200b\u6ed1\u52a8\u200b\u7a97\u53e3\u200b\u5185\u200b\u8ba1\u6570\u200b\n        Long count = RedisUtil.zCard(dto.getKey());\n        int frequencyControlCountLimit = dto.getCount();\n        // \u200b\u5224\u65ad\u200b\uff1a\u200b\u5230\u8fbe\u200b\u9650\u6d41\u200b\u9608\u503c\u200b\n        if (Objects.nonNull(count) &amp;&amp; count &gt;= frequencyControlCountLimit) {\n            log.warn(\"frequenctControl limit key:{}, count:{}\", key, count);\n            return true;\n        }\n    }\n    return false;\n}\n\n@Override\nprotected void addFrequencyControlStatisticsCount(Map&lt;String, SlidingWindowDTO&gt; frequencyControlMap) {\n    List&lt;String&gt; frequencyKeys = new ArrayList&lt;&gt;(frequencyControlMap.keySet());\n    for (String key : frequencyKeys) {\n        SlidingWindowDTO dto = frequencyControlMap.get(key);\n        // \u200b\u8ba1\u7b97\u200b\u6700\u5c0f\u200b\u7a97\u53e3\u200b\u5468\u671f\u200b\uff0c\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u6beb\u79d2\u200b\u7ea7\u522b\u200b\n        long period = dto.getUnit().toMillis(dto.getPeriod());\n        long current = System.currentTimeMillis();\n        // \u200b\u8ba1\u7b97\u200b\u7a97\u53e3\u200b\u5927\u5c0f\u200b\uff0c\u200b\u4e5f\u200b\u662f\u200b\u8fc7\u671f\u200b\u65f6\u95f4\u200b\n        long length = period * dto.getWindowSize();\n        long start = current - length;\n        // \u200b\u6dfb\u52a0\u200b\u5f53\u524d\u200b\u65f6\u95f4\u200b\uff0c\u200b\u540c\u65f6\u200b\u5220\u9664\u200b\u7a97\u53e3\u200b\u5927\u5c0f\u200b\u5916\u200b\u7684\u200b\u65e7\u200b\u6570\u636e\u200b\n        RedisUtil.zAddAndExpire(key, start, length, current);\n    }\n}\n</code></pre> <p>\u200b\u5177\u4f53\u200b\u5b9e\u73b0\u200b\u65b9\u9762\u200b\uff1a\u200b\u6211\u200b\u9009\u62e9\u200b<code>Redis</code>\u200b\u7684\u200b <code>Zset</code> \u200b\u6570\u636e\u7ed3\u6784\u200b \u200b\u5b9e\u73b0\u200b \u200b\u6ed1\u52a8\u200b\u7a97\u53e3\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u6839\u636e\u200b\u65f6\u95f4\u200b\u8303\u56f4\u200b\u7cbe\u786e\u200b\u5730\u200b\u505a\u200b\u8303\u56f4\u200b\u7b5b\u9009\u200b</p> <ul> <li> <p><code>#reachRateLimit</code></p> <p>\u200b\u529f\u80fd\u200b\uff1a\u200b\u5224\u65ad\u200b\u662f\u5426\u200b\u8fbe\u5230\u200b\u9650\u6d41\u200b\u9608\u503c\u200b</p> <ol> <li>\u200b\u6279\u91cf\u200b\u83b7\u53d6\u200b\uff1a\u200b\u5c06\u200b\u6240\u6709\u200b\u9650\u6d41\u200b\u952e\u200b\u63d0\u53d6\u200b\u4e3a\u200b <code>List</code>\uff0c\u200b\u5e76\u200b\u4f7f\u7528\u200b <code>RedisUtil.mget</code>\u200b\u65b9\u6cd5\u200b\u4ece\u200b <code>Redis</code> \u200b\u4e2d\u200b\u6279\u91cf\u200b\u83b7\u53d6\u200b\u8fd9\u4e9b\u200b\u952e\u200b\u7684\u200b\u8ba1\u200b\u6570\u503c\u200b\u3002</li> <li>\u200b\u83b7\u53d6\u200b\u8ba1\u6570\u200b\uff1a\u200b\u904d\u5386\u200b <code>frequencyControlMap</code> \u200b\u4e2d\u200b\u7684\u200b\u9650\u6d41\u200b\u952e\u200b\uff0c\u200b\u5e76\u200b\u4f7f\u7528\u200b <code>Redis</code> \u200b\u7684\u200b <code>zCard</code> \u200b\u65b9\u6cd5\u200b\u83b7\u53d6\u200b\u6bcf\u4e2a\u200b\u952e\u200b\u5bf9\u5e94\u200b\u7684\u200b\u6ed1\u52a8\u200b\u7a97\u53e3\u200b\u5185\u8ba1\u200b\u6570\u503c\u200b\u3002</li> <li>\u200b\u9650\u6d41\u200b\u5224\u65ad\u200b\uff1a\u200b\u5bf9\u200b\u6bcf\u4e2a\u200b\u952e\u200b\u7684\u200b\u8ba1\u200b\u6570\u503c\u200b\u8fdb\u884c\u200b\u9650\u6d41\u200b\u68c0\u67e5\u200b\uff0c\u200b\u82e5\u200b\u8fbe\u5230\u200b\u6216\u200b\u8d85\u8fc7\u200b\u8bbe\u5b9a\u200b\u9608\u503c\u200b\uff0c\u200b\u5219\u200b\u8bb0\u5f55\u200b\u65e5\u5fd7\u200b\u5e76\u200b\u8fd4\u56de\u200b <code>true</code> \u200b\u8868\u793a\u200b\u9650\u6d41\u200b\u3002</li> <li>\u200b\u8fd4\u56de\u200b\u7ed3\u679c\u200b\uff1a\u200b\u5982\u679c\u200b\u6240\u6709\u200b\u952e\u200b\u90fd\u200b\u672a\u200b\u8fbe\u5230\u200b\u9650\u6d41\u200b\u9608\u503c\u200b\uff0c\u200b\u8fd4\u56de\u200b <code>false</code> \u200b\u8868\u793a\u200b\u672a\u200b\u9650\u6d41\u200b\u3002</li> </ol> </li> <li> <p><code>#addFrequencyControlStatisticsCount</code></p> <p>\u200b\u529f\u80fd\u200b\uff1a\u200b\u589e\u52a0\u200b\u6bcf\u4e2a\u200b\u9650\u6d41\u200b\u952e\u200b\u7684\u200b\u8ba1\u6570\u200b\uff0c\u200b\u5e76\u200b\u8bbe\u7f6e\u200b\u952e\u200b\u7684\u200b\u8fc7\u671f\u200b\u65f6\u95f4\u200b\u3002</p> </li> </ul> <p>\u200b\u6ed1\u52a8\u200b\u7a97\u53e3\u200b\u76f8\u5173\u200b\u5b9e\u73b0\u200b\u76f8\u5bf9\u200b\u590d\u6742\u200b\uff0c\u200b\u9996\u5148\u200b\u6765\u770b\u200b<code>\u200b\u6ed1\u52a8\u200b\u7a97\u53e3\u200b\u5b9e\u4f53\u7c7b\u200b(SlidingWindowDTO)</code>\u200b\u662f\u200b\u5982\u4f55\u200b\u5b9a\u4e49\u200b\u7684\u200b   </p> Java<pre><code>public class SlidingWindowDTO extends FrequencyControlDTO {\n    /**\n     * \u200b\u7a97\u53e3\u200b\u5927\u5c0f\u200b\uff0c\u200b\u9ed8\u8ba4\u200b 10 s\n     */\n    private int windowSize;\n    /**\n     * \u200b\u7a97\u53e3\u200b\u6700\u5c0f\u200b\u5468\u671f\u200b 1s (\u200b\u7a97\u53e3\u200b\u5927\u5c0f\u200b\u662f\u200b 10s\uff0c 1s\u200b\u4e00\u4e2a\u200b\u5c0f\u683c\u5b50\u200b\uff0c-\u200b\u5171\u200b10\u200b\u4e2a\u200b\u683c\u5b50\u200b)\n     */\n    private int period;\n}\n</code></pre> <p>\u200b\u5b9a\u4e49\u200b\u65b9\u9762\u200b\uff0c\u200b\u9996\u5148\u200b\u7ee7\u627f\u200b\u4e86\u200b\u9891\u63a7\u200b\u57fa\u7c7b\u200b <code>FrequencyControlDTO</code> \uff0c\u200b\u5b9a\u4e49\u200b\u4e86\u200b\u9891\u63a7\u200b\u7684\u200b\u4e00\u4e9b\u200b\u57fa\u672c\u200b\u5c5e\u6027\u200b</p> Java<pre><code>public class FrequencyControlDTO {\n    /**\n     * \u200b\u4ee3\u8868\u200b\u9891\u63a7\u200b\u7684\u200bKey \u200b\u5982\u679c\u200btarget\u200b\u4e3a\u200bKey\u200b\u7684\u8bdd\u200b \u200b\u8fd9\u91cc\u200b\u8981\u200b\u4f20\u503c\u200b\u7528\u4e8e\u200b\u6784\u5efa\u200bredis\u200b\u7684\u200bKey target\u200b\u4e3a\u200bIp\u200b\u6216\u8005\u200bUID\u200b\u7684\u8bdd\u200b\u4f1a\u200b\u4ece\u200b\u4e0a\u4e0b\u6587\u200b\u53d6\u503c\u200b Key\u200b\u5b57\u200b\u6bb5\u200b\u65e0\u9700\u200b\u4f20\u503c\u200b\n     */\n    private String key;\n\n    /**\n     * \u200b\u9891\u63a7\u200b\u65f6\u95f4\u200b\u5355\u4f4d\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u79d2\u200b\n     *\n     * @return \u200b\u5355\u4f4d\u200b\n     */\n    private TimeUnit unit;\n\n    /**\n     * \u200b\u5355\u4f4d\u200b\u65f6\u95f4\u200b\u5185\u200b\u6700\u5927\u200b\u8bbf\u95ee\u200b\u6b21\u6570\u200b\n     *\n     * @return \u200b\u6b21\u6570\u200b\n     */\n    private Integer count;\n}\n</code></pre> <p>\u200b\u800c\u200b\u5b50\u7c7b\u200b\u5b9e\u73b0\u200b\u4e0a\u200b\u5b9a\u4e49\u200b\u4e86\u200b \u200b\u6ed1\u52a8\u200b\u7a97\u53e3\u200b\u7279\u6709\u200b\u7684\u200b\u5c5e\u6027\u200b\uff1a<code>windowSize</code> \u200b\u548c\u200b <code>period</code></p> <ul> <li><code>windowSize</code> \u200b\u8868\u793a\u200b \u200b\u6ed1\u52a8\u200b\u7a97\u53e3\u200b\u603b\u200b\u5927\u5c0f\u200b(\u200b\u6570\u636e\u200b\u8303\u56f4\u200b) \uff0c\u200b\u540c\u65f6\u200b\u4e5f\u200b\u4ee3\u8868\u200b\u7740\u200bRedis\u200b\u5b58\u50a8\u200b\u7684\u200b\u8fc7\u671f\u200b\u65f6\u95f4\u200b</li> <li><code>period</code> \u200b\u8868\u793a\u200b\u7a97\u53e3\u200b\u6700\u5c0f\u200b\u5468\u671f\u200b\uff0c\u200b\u4ee3\u8868\u200b\u65f6\u95f4\u200b\u7c92\u5ea6\u200b\u5927\u5c0f\u200b</li> </ul> <p>\u200b\u91cd\u70b9\u200b\u5173\u6ce8\u200b\u65b9\u6cd5\u200b\u4e2d\u200b\u7684\u200b\u6ed1\u52a8\u200b\u7a97\u53e3\u200b\u8ba1\u7b97\u200b\u903b\u8f91\u200b\uff1a</p> Java<pre><code>SlidingWindowDTO dto = frequencyControlMap.get(key);\n // \u200b\u8ba1\u7b97\u200b\u6700\u5c0f\u200b\u7a97\u53e3\u200b\u5468\u671f\u200b\uff0c\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u6beb\u79d2\u200b\u7ea7\u522b\u200b\nlong period = dto.getUnit().toMillis(dto.getPeriod());\nlong current = System.currentTimeMillis();\n// \u200b\u8ba1\u7b97\u200b\u7a97\u53e3\u200b\u5927\u5c0f\u200b\uff0c\u200b\u4e5f\u200b\u662f\u200b\u8fc7\u671f\u200b\u65f6\u95f4\u200b\nlong length = period * dto.getWindowSize();\nlong start = current - length;\n// \u200b\u6dfb\u52a0\u200b\u5f53\u524d\u200b\u65f6\u95f4\u200b\uff0c\u200b\u540c\u65f6\u200b\u5220\u9664\u200b\u7a97\u53e3\u200b\u5927\u5c0f\u200b\u5916\u200b\u7684\u200b\u65e7\u200b\u6570\u636e\u200b\nRedisUtil.zAddAndExpire(key, start, length, current);\n</code></pre> <p>\u200b\u6838\u5fc3\u601d\u60f3\u200b\u662f\u200b\uff1a\u200b\u6bcf\u6b21\u200b\u8bf7\u6c42\u200b\u90fd\u200b\u6dfb\u52a0\u200b\u4e00\u4e2a\u200b\u5f53\u524d\u200b\u65f6\u95f4\u200b\u6233\u200b\u5230\u200b Redis \u200b\u7684\u200b\u6709\u5e8f\u200b\u96c6\u5408\u200b\u4e2d\u200b\uff0c\u200b\u540c\u65f6\u200b\u5220\u9664\u200b\u7a97\u53e3\u200b\u8303\u56f4\u200b\u4e4b\u5916\u200b\u7684\u200b\u65e7\u200b\u6570\u636e\u200b\uff0c\u200b\u4ee5\u200b\u4fdd\u6301\u200b\u8ba1\u6570\u200b\u6570\u636e\u200b\u53ea\u200b\u53cd\u6620\u200b\u5f53\u524d\u200b\u6ed1\u52a8\u200b\u7a97\u53e3\u200b\u5185\u200b\u7684\u200b\u8bf7\u6c42\u200b\u6570\u200b\u3002</p> <p>\u200b\u518d\u200b\u6765\u770b\u200bRedis\u200b\u4e2d\u662f\u200b\u5982\u4f55\u200b\u5b9e\u73b0\u200b\u7684\u200b\uff1a</p> Java<pre><code>public static void zAddAndExpire(String key, long startTime, long expireTime, long currentTime) {\n    // \u200b\u6dfb\u52a0\u200b\u5f53\u524d\u200b\u65f6\u95f4\u200b\n    template.opsForZSet().add(key, String.valueOf(currentTime), currentTime);\n    // \u200b\u5220\u9664\u200b\u5468\u671f\u200b\u4e4b\u524d\u200b\u7684\u200b\u6570\u636e\u200b\n    template.opsForZSet().removeRangeByScore(key, 0, startTime);\n    // \u200b\u8fc7\u671f\u200b\u65f6\u95f4\u200b\u7a97\u53e3\u200b\u957f\u5ea6\u200b+\u200b\u65f6\u95f4\u200b\u95f4\u9694\u200b\n    template.expire(key, expireTime, TimeUnit.MICROSECONDS);\n}\n</code></pre> <p>\u200b\u505a\u200b\u4e86\u200b\u4ee5\u4e0b\u200b\u64cd\u4f5c\u200b\uff1a</p> <ol> <li>\u200b\u6dfb\u52a0\u200b\u5f53\u524d\u200b\u65f6\u95f4\u200b\u6233\u200b\uff1a\u200b\u8bb0\u5f55\u200b\u5f53\u524d\u200b\u8bf7\u6c42\u200b\u7684\u200b\u65f6\u95f4\u200b\u3002</li> <li>\u200b\u5220\u9664\u200b\u65e7\u200b\u6570\u636e\u200b\uff1a\u200b\u53ea\u200b\u4fdd\u7559\u200b\u5f53\u524d\u200b\u6ed1\u52a8\u200b\u7a97\u53e3\u200b\u5185\u200b\u7684\u200b\u65f6\u95f4\u200b\u6233\u200b\u6570\u636e\u200b\uff0c\u200b\u4fdd\u8bc1\u200b\u9650\u6d41\u200b\u5224\u65ad\u200b\u7684\u200b\u51c6\u786e\u6027\u200b\u3002</li> <li>\u200b\u8bbe\u7f6e\u200b\u8fc7\u671f\u200b\u65f6\u95f4\u200b\uff1a\u200b\u63a7\u5236\u200b\u96c6\u5408\u200b\u7684\u200b\u751f\u5b58\u200b\u65f6\u95f4\u200b\uff0c\u200b\u4ee5\u4fbf\u200b\u5728\u200b\u6ca1\u6709\u200b\u65b0\u200b\u8bf7\u6c42\u200b\u65f6\u200b\u81ea\u52a8\u200b\u6e05\u9664\u200b\u6570\u636e\u200b\uff0c\u200b\u8282\u7701\u200b Redis \u200b\u5185\u5b58\u200b\u3002</li> </ol>","tags":["java"]},{"location":"blog/backend/Java/FrequencyControl/#54","title":"5.4 \u200b\u6f0f\u6876\u200b\u7b97\u6cd5","text":"","tags":["java"]},{"location":"blog/backend/Java/FrequencyControl/#1_3","title":"1. \u200b\u57fa\u672c\u200b\u4ecb\u7ecd","text":"<p>\u200b\u6f0f\u6876\u200b\u7b97\u6cd5\u200b\u6b63\u5982\u200b\u5176\u540d\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u60f3\u8c61\u200b\u5c31\u662f\u200b\u4e00\u4e2a\u200b\u5e95\u90e8\u200b\u7834\u200b\u4e86\u200b\u6d1e\u200b\u7684\u200b\u6876\u200b\uff0c\u200b\u65e0\u8bba\u200b\u4f60\u200b\u4ee5\u200b\u4ec0\u4e48\u6837\u200b\u7684\u200b\u4e0d\u200b\u786e\u5b9a\u200b\u9891\u7387\u200b\u53bb\u200b\u6dfb\u52a0\u200b\u6c34\u200b\u3002\u200b\u6c34\u90fd\u4f1a\u200b\u4ece\u200b\u5e95\u90e8\u200b\u4ee5\u200b\u56fa\u5b9a\u200b\u7684\u200b\u9891\u7387\u200b\u6d41\u51fa\u200b\uff0c\u200b\u5176\u4f59\u200b\u7684\u200b\u6c34\u84c4\u200b\u5728\u200b\u6f0f\u6876\u200b\u4e2d\u200b\uff0c\u200b\u76f4\u5230\u200b\u6f0f\u6876\u200b\u6ee1\u200b\u4e86\u200b\u88ab\u200b\u4e22\u5f03\u200b\u3002</p> <p>\u200b\u6bd4\u5982\u200b\u671f\u671b\u200b1S\u200b\u5185\u200b\u6700\u200b\u591a\u200b\u5904\u7406\u200b4\u200b\u6b21\u200b\u8bf7\u6c42\u200b\uff0c\u200b\u90a3\u4e48\u200b\u6d41\u51fa\u200b\u901f\u5ea6\u200b\u5c31\u662f\u200b\u6bcf\u200b0.25S\u200b\u4e00\u4e2a\u200b\u8bf7\u6c42\u200b.\u200b\u5e76\u4e14\u200b\u6f0f\u6876\u200b\u6700\u5927\u200b\u5bb9\u91cf\u200b\u4e3a\u200b10\u200b\u4e2a\u200b\u8bf7\u6c42\u200b\u3002</p> <p></p> <p>\u200b\u4e0d\u89c4\u5219\u200b\u7684\u200b\u8bf7\u6c42\u200b\u968f\u610f\u200b\u7684\u200b\u6295\u9012\u200b\u5230\u200b\u6211\u4eec\u200b\u7684\u200b\u6876\u200b\u91cc\u200b\uff0c\u200b\u7136\u540e\u200b\u4f1a\u200b\u6709\u200b\u56fa\u5b9a\u200b\u7684\u200b\u9891\u7387\u200b\u53bb\u200b\u6d88\u8d39\u200b\u5b83\u200b\uff0c\u200b\u5982\u679c\u200b\u8d85\u8fc7\u200b\u6876\u200b\u7684\u200b\u6700\u5927\u200b\u5bb9\u91cf\u200b10\uff0c\u200b\u90a3\u4e48\u200b\u8bf7\u6c42\u200b\u5c06\u4f1a\u200b\u88ab\u200b\u4e22\u5f03\u200b\u3002 \u200b\u6f0f\u6876\u200b\u9650\u6d41\u200b\u7b97\u6cd5\u200b\u6700\u5927\u200b\u7684\u200b\u7279\u70b9\u200b\u5c31\u662f\u200b\u6d41\u91cf\u200b\u6574\u578b\u200b\u3002\u200b\u8ba9\u200b\u4e0d\u89c4\u5219\u200b\u7684\u200b\u8bf7\u6c42\u200b\u9891\u7387\u200b\uff0c\u200b\u8f6c\u4e3a\u200b\u89c4\u5219\u200b\u7684\u200b\u9891\u7387\u200b\u8fdb\u884c\u200b\u6d88\u8d39\u200b\u3002</p> <ul> <li> <p>\u200b\u4f18\u70b9\u200b\uff1a</p> <ul> <li>\u200b\u53ef\u4ee5\u200b\u4e25\u683c\u200b\u9650\u5236\u200b\u8bf7\u6c42\u200b\u7684\u200b\u5904\u7406\u901f\u5ea6\u200b\uff0c\u200b\u907f\u514d\u200b\u77ac\u95f4\u200b\u8bf7\u6c42\u200b\u8fc7\u591a\u200b\u5bfc\u81f4\u7cfb\u7edf\u200b\u5d29\u6e83\u200b\u6216\u8005\u200b\u96ea\u5d29\u200b\u3002</li> </ul> </li> <li> <p>\u200b\u7f3a\u70b9\u200b\uff1a</p> <ul> <li>\u200b\u9700\u8981\u200b\u5bf9\u200b\u8bf7\u6c42\u200b\u8fdb\u884c\u200b\u7f13\u5b58\u200b\uff0c\u200b\u4f1a\u200b\u589e\u52a0\u200b\u670d\u52a1\u5668\u200b\u7684\u200b\u5185\u5b58\u200b\u6d88\u8017\u200b\u3002</li> <li>\u200b\u9762\u5bf9\u200b\u7a81\u53d1\u200b\u6d41\u91cf\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u4f18\u70b9\u200b\u540c\u65f6\u200b\u4e5f\u200b\u4f1a\u200b\u662f\u200b\u7f3a\u70b9\u200b\u3002\u200b\u65e0\u6cd5\u200b\u9002\u5e94\u200b\u77ac\u65f6\u200b\u7684\u200b\u7a81\u589e\u200b\u6d41\u91cf\u200b</li> </ul> </li> </ul>","tags":["java"]},{"location":"blog/backend/Java/FrequencyControl/#2_3","title":"2. \u200b\u4e0d\u200b\u9002\u5408\u200b\u573a\u666f","text":"<p>\u200b\u6f0f\u6876\u200b\u7b97\u6cd5\u200b\u4e0d\u592a\u200b\u9002\u5408\u200bC\u200b\u7aef\u200b\u63a5\u53e3\u200b\u7684\u200b\u9650\u6d41\u200b\u3002\u200b\u56e0\u4e3a\u200b\u5bf9\u4e8e\u200b\u90fd\u200b\u5230\u200b\u4e86\u200b\u9650\u6d41\u200b\u7684\u200b\u573a\u666f\u200b\u4e86\u200b\u3002\u200b\u5e76\u53d1\u200b\u5df2\u7ecf\u200b\u6bd4\u8f83\u200b\u9ad8\u200b\u4e86\u200b\u3002\u200b\u6211\u4eec\u200b\u5e0c\u671b\u200b\u7684\u200b\u662f\u200b\u8d85\u8fc7\u200b\u9650\u5236\u200b\u7684\u200b\u8bf7\u6c42\u200b\uff0c\u200b\u7acb\u9a6c\u200b\u5c31\u200b\u7ed9\u200b\u4ed6\u200b\u5feb\u901f\u200b\u5931\u8d25\u200b\u8fd4\u56de\u200b\u4e86\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u505c\u200b\u5728\u200b\u6876\u200b\u91cc\u200b\u4f11\u7720\u200b\u7b49\u5f85\u200b\u54cd\u5e94\u200b\u3002\u200b\u8fd9\u6837\u200b\u6574\u4f53\u200b\u7684\u200b\u54cd\u5e94\u200b\u65f6\u95f4\u200b\u4f1a\u200b\u5f88\u200b\u9ad8\u200b\uff0c\u200b\u540c\u65f6\u200b\u8fd8\u200b\u5360\u7528\u200b\u7684\u200b\u8bf7\u6c42\u200b\u8fde\u63a5\u6c60\u200b\u3002</p> <p>\u200b\u6545\u4e0d\u5bf9\u200b\u6f0f\u6876\u200b\u7b97\u6cd5\u200b\u505a\u200b\u4ee3\u7801\u200b\u5b9e\u73b0\u200b</p>","tags":["java"]},{"location":"blog/backend/Java/FrequencyControl/#55","title":"5.5 \u200b\u4ee4\u724c\u200b\u6876","text":"","tags":["java"]},{"location":"blog/backend/Java/FrequencyControl/#1_4","title":"1. \u200b\u57fa\u672c\u200b\u4ecb\u7ecd","text":"<p>\u200b\u4ee4\u724c\u200b\u6876\u200b\u7b97\u6cd5\u200b\u7ef4\u62a4\u200b\u4e00\u4e2a\u200b\u56fa\u5b9a\u200b\u5bb9\u91cf\u200b\u7684\u200b\u4ee4\u724c\u200b\u6876\u200b\uff0c\u200b\u6bcf\u79d2\u949f\u200b\u4f1a\u200b\u5411\u200b\u4ee4\u724c\u200b\u6876\u200b\u4e2d\u200b\u653e\u5165\u200b\u4e00\u5b9a\u200b\u6570\u91cf\u200b\u7684\u200b\u4ee4\u724c\u200b\u3002\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u8bf7\u6c42\u200b\u90fd\u200b\u9700\u8981\u200b\u6d88\u8017\u200b\u4e00\u4e2a\u200b\u4ee4\u724c\u200b\u624d\u80fd\u200b\u653e\u884c\u200b\u3002\u200b\u4f60\u200b\u4f1a\u200b\u53d1\u73b0\u200b\u4ed6\u200b\u548c\u200b\u6f0f\u6876\u200b\u7b97\u6cd5\u200b\u5f88\u200b\u50cf\u200b\uff0c\u200b\u90fd\u200b\u6709\u200b\u4e2a\u200b\u5bb9\u91cf\u200b\u56fa\u5b9a\u200b\u7684\u200b\u6876\u200b\u3002   - \u200b\u4e00\u4e2a\u200b\u662f\u200b\u5300\u901f\u200b\u6d41\u51fa\u200b\u8bf7\u6c42\u200b\uff0c\u200b\u4e00\u4e2a\u200b\u662f\u200b\u5300\u901f\u200b\u653e\u5165\u200b\u4ee4\u724c\u200b\u3002   - \u200b\u4e00\u4e2a\u200b\u79ef\u7d2f\u200b\u7684\u200b\u662f\u200b\u8bf7\u6c42\u200b\uff0c\u200b\u4e00\u4e2a\u200b\u79ef\u7d2f\u200b\u7684\u200b\u662f\u200b\u53ef\u200b\u653e\u884c\u200b\u7684\u200b\u4ee4\u724c\u200b\u3002</p> <p>\u200b\u6bd4\u5982\u200b\u671f\u671b\u200b1S\u200b\u5185\u200b\u6700\u200b\u591a\u200b\u5904\u7406\u200b4\u200b\u6b21\u200b\u8bf7\u6c42\u200b\uff0c\u200b\u90a3\u4e48\u200b\u4ee4\u724c\u200b\u653e\u5165\u200b\u901f\u5ea6\u200b\u5c31\u662f\u200b\u6bcf\u200b0.25S\u200b\u4e00\u4e2a\u200b\u4ee4\u724c\u200b.\u200b\u5e76\u4e14\u200b\u6876\u200b\u6700\u5927\u200b\u5bb9\u91cf\u200b\u4e3a\u200b10\u200b\u4e2a\u200b\u4ee4\u724c\u200b\u3002</p> <p>\u200b\u5728\u200b\u8bf7\u6c42\u200b\u5f88\u591a\u200b\u7684\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c\u200b\u4ed6\u200b\u5176\u5b9e\u200b\u548c\u200b\u6f0f\u6876\u200b\u7b97\u6cd5\u200b\u7684\u200b\u6548\u679c\u200b\u662f\u200b\u4e00\u6837\u200b\u7684\u200b\u3002\u200b\u6700\u5927\u200b\u7684\u200b\u5dee\u522b\u200b\u5c31\u662f\u200b\u5728\u200b\u8bf7\u6c42\u200b\u4e0d\u591a\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u5b83\u200b\u80fd\u200b\u5b58\u50a8\u200b\u4ee4\u724c\u200b\uff0c\u200b\u7528\u6765\u200b\u5e94\u5bf9\u200b\u7a81\u589e\u200b\u6d41\u91cf\u200b\u3002</p> <ul> <li> <p>\u200b\u4f18\u70b9\u200b\uff1a</p> <ul> <li>\u200b\u7cbe\u5ea6\u9ad8\u200b\uff1a\u200b\u4ee4\u724c\u200b\u6876\u200b\u7b97\u6cd5\u200b\u53ef\u4ee5\u200b\u6839\u636e\u200b\u5b9e\u9645\u200b\u60c5\u51b5\u200b\u52a8\u6001\u200b\u8c03\u6574\u200b\u751f\u6210\u200b\u4ee4\u724c\u200b\u7684\u200b\u901f\u7387\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5b9e\u73b0\u200b\u8f83\u200b\u9ad8\u7cbe\u5ea6\u200b\u7684\u200b\u9650\u6d41\u200b\u3002</li> <li>\u200b\u5f39\u6027\u200b\u597d\u200b\uff1a\u200b\u76f8\u6bd4\u200b\u6f0f\u6876\u200b\u7b97\u6cd5\u200b\uff0c\u200b\u4ee4\u724c\u200b\u6876\u200b\u7b97\u6cd5\u200b\u53ef\u4ee5\u200b\u5904\u7406\u200b\u7a81\u53d1\u200b\u6d41\u91cf\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5728\u200b\u77ed\u65f6\u95f4\u200b\u5185\u200b\u63d0\u4f9b\u200b\u66f4\u200b\u591a\u200b\u7684\u200b\u5904\u7406\u200b\u80fd\u529b\u200b\uff0c\u200b\u4ee5\u200b\u5904\u7406\u200b\u7a81\u53d1\u200b\u6d41\u91cf\u200b\u3002</li> <li>\u200b\u65e0\u200b\u72b6\u6001\u200b\u6027\u200b\uff1a\u200b\u76f8\u8f83\u200b\u4e8e\u200b\u6ed1\u52a8\u200b\u7a97\u53e3\u200b\u7b97\u6cd5\u200b\u7b49\u200b\u9700\u8981\u200b\u7ef4\u62a4\u200b\u72b6\u6001\u200b\u4fe1\u606f\u200b\u7684\u200b\u7b97\u6cd5\u200b\uff0c\u200b\u4ee4\u724c\u200b\u6876\u200b\u7b97\u6cd5\u200b\u4e0d\u200b\u9700\u8981\u200b\u6301\u7eed\u200b\u7ef4\u62a4\u200b\u5927\u91cf\u200b\u7684\u200b\u72b6\u6001\u200b\u4fe1\u606f\u200b\uff0c\u200b\u4f7f\u200b\u5176\u200b\u66f4\u5177\u200b\u6269\u5c55\u6027\u200b\u548c\u200b\u9ad8\u6548\u6027\u200b\u3002</li> </ul> </li> <li> <p>\u200b\u7f3a\u70b9\u200b\uff1a</p> <ul> <li>\u200b\u5b9e\u73b0\u200b\u590d\u6742\u200b\uff1a\u200b\u4ee4\u724c\u200b\u6876\u200b\u7b97\u6cd5\u200b\u9700\u8981\u200b\u5728\u200b\u56fa\u5b9a\u200b\u7684\u200b\u65f6\u95f4\u200b\u95f4\u9694\u200b\u5185\u200b\u751f\u6210\u200b\u4ee4\u724c\u200b\uff0c\u200b\u9700\u8981\u200b\u5f00\u542f\u200b\u4e00\u4e2a\u200b\u7ebf\u7a0b\u200b\u3002\u200b\u5f53\u7136\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u7528\u200b\u7279\u6b8a\u200b\u624b\u6bb5\u200b\u4e0d\u200b\u9700\u8981\u200b\u7ebf\u7a0b\u200b\uff0c\u200b\u4f46\u662f\u200b\u5b9e\u73b0\u200b\u5c31\u200b\u66f4\u52a0\u200b\u590d\u6742\u200b\u3002</li> <li>\u200b\u9700\u8981\u200b\u9884\u70ed\u200b\uff1a\u200b\u5728\u200b\u521a\u200b\u542f\u52a8\u200b\u65f6\u200b\uff0c\u200b\u6876\u200b\u4e2d\u200b\u53ef\u80fd\u200b\u6ca1\u6709\u200b\u8db3\u591f\u200b\u7684\u200b\u4ee4\u724c\u200b\uff0c\u200b\u8fd9\u65f6\u5019\u200b\u9000\u5316\u200b\u6210\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u6ca1\u6876\u200b\u7684\u200b\u6f0f\u6876\u200b\uff0c\u200b\u5f88\u200b\u53ef\u80fd\u200b\u5728\u200b\u4e00\u200b\u5f00\u59cb\u200b\u5bf9\u200b\u8bf7\u6c42\u200b\u4ea7\u751f\u200b\u8f83\u5927\u200b\u7684\u200b\u9650\u5236\u200b\u3002</li> </ul> </li> </ul>","tags":["java"]},{"location":"blog/backend/Java/FrequencyControl/#2_4","title":"2. \u200b\u9002\u7528\u200b\u573a\u666f","text":"<p>\u200b\u76f8\u6bd4\u200b\u8d77\u6f0f\u200b\u6876\u200b\uff0c\u200b\u4ee4\u724c\u200b\u6876\u200b\u7b97\u6cd5\u200b\u66f4\u52a0\u200b\u9002\u5408\u200b\u5e94\u5bf9\u200b\u7a81\u53d1\u200b\u7684\u200b\u6d41\u91cf\u200b\u3002\u200b\u6d41\u91cf\u200b\u8fbe\u5230\u200b\u6781\u9650\u200b\u540e\u200b\uff0c\u200b\u5c31\u200b\u4f1a\u200b\u9000\u5316\u200b\u6210\u6ca1\u6876\u200b\u7684\u200b\u6f0f\u6876\u200b\uff0c\u200b\u901f\u7387\u200b\u53d8\u6210\u200b\u4e86\u200b\u4e25\u683c\u63a7\u5236\u200b\u3002\u200b\u9002\u7528\u200b\u4e8e\u200b\u6d41\u91cf\u200b\u6574\u4f53\u200b\u5e73\u6ed1\u200b\u7684\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c\u200b\u540c\u65f6\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u6ee1\u8db3\u200b\u4e00\u5b9a\u200b\u7684\u200b\u7a81\u53d1\u200b\u6d41\u7a0b\u200b\u573a\u666f\u200b</p> <p>\u200b\u4ed6\u200b\u7684\u200b\u4e00\u4e2a\u200b\u5f88\u5927\u200b\u7684\u200b<code>\u200b\u7f3a\u70b9\u200b</code>\uff0c\u200b\u5c31\u662f\u200b\u4ed6\u200b\u7684\u200b\u9884\u70ed\u200b\u95ee\u9898\u200b\u3002\u200b\u521a\u200b\u521b\u5efa\u200b\u7684\u200b\u4ee4\u724c\u200b\u6876\u200b\uff0c\u200b\u8fd9\u65f6\u5019\u200b\u6ca1\u6709\u200b\u4ee4\u724c\u200b\uff0c\u200b\u8bf7\u6c42\u200b\u521a\u200b\u8fdb\u6765\u200b\uff0c\u200b\u53c8\u200b\u7531\u4e8e\u200b\u5b83\u200b\u6ca1\u6709\u200b\u6876\u200b\uff0c\u200b\u76f4\u63a5\u200b\u5c31\u200b\u628a\u200b\u8bf7\u6c42\u200b\u4e22\u5f03\u200b\u4e86\u200b\u3002</p>","tags":["java"]},{"location":"blog/backend/Java/FrequencyControl/#3_3","title":"3. \u200b\u4ee3\u7801\u200b\u5b9e\u73b0","text":"<p>\u200b\u4ee3\u7801\u200b\u4f4d\u7f6e\u200b\uff1a <code>com.iflove.starter.frequencycontrol.service.frequencycontrol.strategy.TokenBucketFrequencyController</code></p> <p>\u200b\u6838\u5fc3\u200b\u4ee3\u7801\u200b\uff1a</p> Java<pre><code>@Override\nprotected boolean reachRateLimit(Map&lt;String, TokenBucketDTO&gt; frequencyControlMap) {\n    List&lt;String&gt; frequencyKeys = new ArrayList&lt;&gt;(frequencyControlMap.keySet());\n    for (String key : frequencyKeys) {\n        // \u200b\u5c1d\u8bd5\u200b\u83b7\u53d6\u200b1\u200b\u4e2a\u200b\u4ee4\u724c\u200b(\u200b\u4e0d\u200b\u6263\u51cf\u200b)\uff0c\u200b\u5982\u679c\u200b\u5931\u8d25\u200b\uff0c\u200b\u8bf4\u660e\u200b\u4ee4\u724c\u200b\u4e3a\u7a7a\u200b\uff0c\u200b\u9700\u8981\u200b\u9650\u6d41\u200b\n        if (!tokenBucketManager.tryAcquire(key, 1)) {\n            return true;\n        }\n    }\n    return false;\n}\n\n@Override\nprotected void addFrequencyControlStatisticsCount(Map&lt;String, TokenBucketDTO&gt; frequencyControlMap) {\n    List&lt;String&gt; frequencyKeys = new ArrayList&lt;&gt;(frequencyControlMap.keySet());\n    for (String key : frequencyKeys) {\n        TokenBucketDTO dto = frequencyControlMap.get(key);\n        // \u200b\u521b\u5efa\u200b\u4ee4\u724c\u200b\u6876\u200b\uff0c\u200b\u5982\u679c\u200b\u4e0d\u200b\u5b58\u5728\u200b\n        tokenBucketManager.createTokenBucket(key, dto.getCapacity(), dto.getRate());\n        // \u200b\u6263\u51cf\u200b\u4e00\u4e2a\u200b\u4ee4\u724c\u200b\n        tokenBucketManager.deductionToken(key, 1);\n    }\n}\n</code></pre> <ul> <li> <p><code>#reachRateLimit</code></p> <p>\u200b\u529f\u80fd\u200b\uff1a\u200b\u5224\u65ad\u200b\u662f\u5426\u200b\u8fbe\u5230\u200b\u9650\u6d41\u200b\u9608\u503c\u200b</p> <ol> <li>\u200b\u83b7\u53d6\u200b\u9891\u7387\u200b\u63a7\u5236\u952e\u200b\u5217\u8868\u200b\uff1a\u200b\u5c06\u200b <code>frequencyControlMap</code> \u200b\u7684\u200b\u952e\u200b\u5b58\u5165\u200b <code>frequencyKeys</code> \u200b\u5217\u8868\u200b\u4e2d\u200b\u3002</li> <li>\u200b\u9010\u4e2a\u200b\u68c0\u67e5\u200b\u4ee4\u724c\u200b\u6876\u200b\uff1a<ul> <li>\u200b\u904d\u5386\u200b\u6bcf\u4e2a\u200b\u9891\u7387\u200b\u63a7\u5236\u952e\u200b <code>key</code>\u3002</li> <li>\u200b\u8c03\u7528\u200b <code>tokenBucketManager.tryAcquire(key, 1)</code> \u200b\u5c1d\u8bd5\u200b\u83b7\u53d6\u200b\u4e00\u4e2a\u200b\u4ee4\u724c\u200b\uff0c\u200b\u4e0d\u200b\u6263\u51cf\u200b\u6876\u200b\u4e2d\u200b\u5df2\u6709\u200b\u7684\u200b\u4ee4\u724c\u200b\u3002</li> <li>\u200b\u5982\u679c\u200b\u8fd4\u56de\u200b <code>false</code>\uff0c\u200b\u8868\u793a\u200b\u5f53\u524d\u200b\u4ee4\u724c\u200b\u6876\u200b\u4e3a\u200b\u7a7a\u200b\uff0c\u200b\u9700\u8981\u200b\u8fdb\u884c\u200b\u9650\u6d41\u200b\uff0c\u200b\u4e8e\u662f\u200b\u76f4\u63a5\u200b\u8fd4\u56de\u200b <code>true</code>\u3002</li> </ul> </li> <li>\u200b\u6ca1\u6709\u200b\u8fbe\u5230\u200b\u9650\u6d41\u200b\uff1a\u200b\u5982\u679c\u200b\u6240\u6709\u200b\u952e\u200b\u7684\u200b\u4ee4\u724c\u200b\u6876\u200b\u4e2d\u200b\u5747\u200b\u6709\u200b\u8db3\u591f\u200b\u7684\u200b\u4ee4\u724c\u200b\uff0c\u200b\u5219\u200b\u8fd4\u56de\u200b <code>false</code>\u3002</li> </ol> </li> <li> <p><code>#addFrequencyControlStatisticsCount</code></p> <p>\u200b\u529f\u80fd\u200b\uff1a\u200b\u589e\u52a0\u200b\u6bcf\u4e2a\u200b\u9650\u6d41\u200b\u952e\u200b\u7684\u200b\u8ba1\u6570\u200b\u3002</p> <ol> <li>\u200b\u904d\u5386\u200b <code>frequencyKeys</code> \u200b\u4e2d\u200b\u7684\u200b\u6bcf\u4e2a\u200b key\u3002</li> <li>\u200b\u83b7\u53d6\u200b\u4ee4\u724c\u200b\u6876\u200b\u914d\u7f6e\u200b\u4fe1\u606f\u200b <code>dto</code>\uff0c\u200b\u5305\u62ec\u200b\u6876\u200b\u7684\u200b\u5bb9\u91cf\u200b\u548c\u200b\u4ee4\u724c\u200b\u586b\u5145\u200b\u901f\u7387\u200b\u3002 </li> <li>\u200b\u8c03\u7528\u200b <code>tokenBucketManager.createTokenBucket(key, dto.getCapacity(), dto.getRate())</code> \u200b\u521b\u5efa\u200b\u4ee4\u724c\u200b\u6876\u200b\uff08\u200b\u5982\u679c\u200b\u4e0d\u200b\u5b58\u5728\u200b\uff09\u3002</li> <li>\u200b\u6263\u51cf\u200b\u4e00\u4e2a\u200b\u4ee4\u724c\u200b\uff0c\u200b\u901a\u8fc7\u200b <code>deductionToken(key, 1)</code> \u200b\u8868\u793a\u200b\u8bf7\u6c42\u200b\u6d88\u8017\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u4ee4\u724c\u200b\u3002</li> </ol> </li> </ul> <p>\u200b\u5e95\u5c42\u200b\u4f7f\u7528\u200b <code>ConcurrentHashMap</code> \u200b\u5b9e\u73b0\u200b key \u200b\u548c\u200b \u200b\u4ee4\u724c\u200b\u6876\u200b \u200b\u7684\u200b\u5b58\u50a8\u200b</p> <p>\u200b\u76f8\u5173\u200b\u4ee3\u7801\u200b\u5b9e\u73b0\u200b\u4e8e\u200b\uff1a<code>com.iflove.starter.frequencycontrol.manager.TokenBucketManager</code></p>","tags":["java"]},{"location":"blog/backend/spring/Spring%20AOP/","title":"Spring AOP","text":"<p> \u200b\u7ea6\u200b 4161 \u200b\u4e2a\u200b\u5b57\u200b  959 \u200b\u884c\u200b\u4ee3\u7801\u200b  6 \u200b\u5f20\u200b\u56fe\u7247\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b 26 \u200b\u5206\u949f\u200b</p> <p>AOP \u200b\u5207\u70b9\u200b\u8868\u8fbe\u5f0f\u200b\u548c\u200b\u4f7f\u7528\u200b\u4ee5\u53ca\u200b\u57fa\u4e8e\u200b JDK \u200b\u548c\u200b CGLIB \u200b\u7684\u200b\u52a8\u6001\u200b\u4ee3\u7406\u200b\u7c7b\u200b\u5173\u7cfb\u200b\uff1a</p> <p></p> <p><code>Joinpoint</code>\uff0c\u200b\u7ec7\u5165\u200b\u70b9\u200b\uff0c\u200b\u6307\u200b\u9700\u8981\u200b\u6267\u884c\u200b\u4ee3\u7406\u200b\u64cd\u4f5c\u200b\u7684\u200b\u67d0\u4e2a\u200b\u7c7b\u200b\u7684\u200b\u67d0\u4e2a\u200b\u65b9\u6cd5\u200b(\u200b\u4ec5\u200b\u652f\u6301\u200b\u65b9\u6cd5\u200b\u7ea7\u522b\u200b\u7684\u200b<code>JoinPoint</code>)\uff1b<code>Pointcut</code>\u200b\u662f\u200b<code>JoinPoint</code>\u200b\u7684\u200b\u8868\u8ff0\u200b\u65b9\u5f0f\u200b\uff0c\u200b\u80fd\u200b\u6355\u83b7\u200b<code>JoinPoint</code>\u3002</p> <p>\u200b\u6700\u200b\u5e38\u7528\u200b\u7684\u200b\u5207\u70b9\u200b\u8868\u8fbe\u5f0f\u200b\u662f\u200b<code>AspectJ</code>\u200b\u7684\u200b\u5207\u70b9\u200b\u8868\u8fbe\u5f0f\u200b\u3002</p> <ul> <li>\u200b\u9700\u8981\u200b\u5339\u914d\u200b\u7c7b\u200b\uff0c\u200b\u5b9a\u4e49\u200b<code>ClassFilter</code>\u200b\u63a5\u53e3\u200b</li> <li>\u200b\u5339\u914d\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u5b9a\u4e49\u200b<code>MethodMatcher</code>\u200b\u63a5\u53e3\u200b</li> </ul> <p><code>PointCut</code>\u200b\u9700\u8981\u200b\u540c\u65f6\u200b\u5339\u914d\u200b\u7c7b\u200b\u548c\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u5305\u542b\u200b<code>ClassFilter</code>\u200b\u548c\u200b<code>MethodMatcher</code>, <code>AspectJExpressionPointcut</code>\u200b\u662f\u200b\u652f\u6301\u200b<code>AspectJ</code>\u200b\u5207\u70b9\u200b\u8868\u8fbe\u5f0f\u200b\u7684\u200b<code>PointCut</code>\u200b\u5b9e\u73b0\u200b\uff0c\u200b\u7b80\u5355\u200b\u5b9e\u73b0\u200b\u4ec5\u200b\u652f\u6301\u200b<code>execution</code>\u200b\u51fd\u6570\u200b\u3002</p> <p><code>AdvisedSupport</code> \u200b\u662f\u200b\u4e00\u4e2a\u200b\u6838\u5fc3\u200b\u7c7b\u200b\uff0c\u200b\u7528\u4e8e\u200b\u652f\u6301\u200b\u548c\u200b\u7ba1\u7406\u200b\u4ee3\u7406\u200b\u5bf9\u8c61\u200b\u7684\u200b\u914d\u7f6e\u200b\u548c\u200b\u529f\u80fd\u200b</p> <p><code>AdvisedSupport</code> \u200b\u7684\u200b\u4e3b\u8981\u200b\u529f\u80fd\u200b\u662f\u200b\uff1a</p> <ol> <li>\u200b\u5b58\u50a8\u200b AOP \u200b\u914d\u7f6e\u200b\u5143\u200b\u4fe1\u606f\u200b\uff1a<ul> <li>\u200b\u76ee\u6807\u200b\u5bf9\u8c61\u200b\uff08\u200b\u88ab\u200b\u4ee3\u7406\u200b\u5bf9\u8c61\u200b\uff09\u3002</li> <li>\u200b\u4ee3\u7406\u200b\u7684\u200b\u63a5\u53e3\u200b\u5217\u8868\u200b\u3002</li> <li>\u200b\u5e94\u7528\u200b\u7684\u200b\u62e6\u622a\u5668\u200b\u94fe\u200b\u6216\u200b\u901a\u77e5\u200b\uff08Advices\uff09\u3002</li> </ul> </li> <li>\u200b\u7ba1\u7406\u200b\u4ee3\u7406\u200b\u884c\u4e3a\u200b\uff1a<ul> <li>\u200b\u51b3\u5b9a\u200b\u4ee3\u7406\u200b\u662f\u200b JDK \u200b\u52a8\u6001\u200b\u4ee3\u7406\u200b\u8fd8\u662f\u200b CGLIB \u200b\u52a8\u6001\u200b\u4ee3\u7406\u200b\u3002</li> <li>\u200b\u8d1f\u8d23\u200b\u63a7\u5236\u200b\u4ee3\u7406\u200b\u5bf9\u8c61\u200b\u7684\u200b\u751f\u547d\u5468\u671f\u200b\u3002</li> </ul> </li> <li>\u200b\u652f\u6301\u200b\u8fd0\u884c\u200b\u65f6\u200b\u52a8\u6001\u200b\u4fee\u6539\u200b\uff1a<ul> <li>\u200b\u53ef\u4ee5\u200b\u5728\u200b\u8fd0\u884c\u200b\u65f6\u200b\u52a8\u6001\u200b\u6dfb\u52a0\u200b\u6216\u200b\u79fb\u9664\u200b\u901a\u77e5\u200b\uff08Advice\uff09\u3002</li> </ul> </li> </ol>","tags":["spring","java"]},{"location":"blog/backend/spring/Spring%20AOP/#jdk","title":"JDK\u200b\u52a8\u6001\u200b\u4ee3\u7406","text":"<p><code>AopProxy</code>\u200b\u662f\u200b\u83b7\u53d6\u200b\u4ee3\u7406\u200b\u5bf9\u8c61\u200b\u7684\u200b\u62bd\u8c61\u200b\u63a5\u53e3\u200b\uff0c<code>JdkDynamicAopProxy</code>\u200b\u7684\u200b\u57fa\u4e8e\u200bJDK\u200b\u52a8\u6001\u200b\u4ee3\u7406\u200b\u7684\u200b\u5177\u4f53\u200b\u5b9e\u73b0\u200b\u3002</p> <p><code>TargetSource</code>\uff0c\u200b\u88ab\u200b\u4ee3\u7406\u200b\u5bf9\u8c61\u200b\u7684\u200b\u5c01\u88c5\u200b\u3002</p> <p><code>MethodInterceptor</code>\uff0c\u200b\u65b9\u6cd5\u200b\u62e6\u622a\u5668\u200b\uff0c\u200b\u662f\u200b<code>AOP Alliance</code>\u200b\u7684\u200b\"\u200b\u516c\u6c11\u200b\"\uff0c\u200b\u987e\u540d\u601d\u4e49\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u62e6\u622a\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u53ef\u200b\u5728\u200b\u88ab\u200b\u4ee3\u7406\u200b\u6267\u884c\u200b\u7684\u200b\u65b9\u6cd5\u200b\u524d\u540e\u200b\u589e\u52a0\u200b\u4ee3\u7406\u200b\u884c\u4e3a\u200b\u3002</p> \u200b\u6d4b\u8bd5\u4ee3\u7801\u200b Java<pre><code>public class AopTest {\n\n    @Test\n    public void testJdkDynamicProxy() throws Exception {\n        WorldService worldService = new WorldServiceImpl();\n\n        AdvisedSupport advisedSupport = new AdvisedSupport();\n        TargetSource targetSource = new TargetSource(worldService);\n        WorldServiceInterceptor methodInterceptor = new WorldServiceInterceptor();\n        MethodMatcher methodMatcher = new AspectJExpressionPointcut(\"execution(* test.aop.bean.WorldService.explode(..))\").getMethodMatcher();\n        advisedSupport.setTargetSource(targetSource);\n        advisedSupport.setMethodInterceptor(methodInterceptor);\n        advisedSupport.setMethodMatcher(methodMatcher);\n\n        WorldService proxy = (WorldService) new JdkDynamicAopProxy(advisedSupport).getProxy();\n        proxy.explode();\n    }\n}\n</code></pre> Java<pre><code>public class WorldServiceInterceptor implements MethodInterceptor {\n    @Override\n    public Object invoke(MethodInvocation methodInvocation) throws Throwable {\n        System.out.println(\"do something before the Earth explodes\");\n        Object res = methodInvocation.proceed();\n        System.out.println(\"do something after the Earth explodes\");\n        return res;\n    }\n}\n</code></pre>","tags":["spring","java"]},{"location":"blog/backend/spring/Spring%20AOP/#1-jdk","title":"1. JDK\u200b\u52a8\u6001\u200b\u4ee3\u7406\u200b\u6e90\u7801","text":"<p>\u200b\u4ee3\u7801\u200b\u4f4d\u7f6e\u200b\uff1a<code>com.iflove.simplespring.aop.framework.JdkDynamicAopProxy</code></p> Java<pre><code>@Override\npublic Object getProxy() {\n    return Proxy.newProxyInstance(Thread.currentThread().getContextClassLoader(), advised.getTargetSource().getTargetClass(), this);\n}\n\n@Override\npublic Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\n    if (advised.getMethodMatcher().matches(method, advised.getTargetSource().getTarget().getClass())) {\n        // \u200b\u542f\u52a8\u200b\u4ee3\u7406\u200b\u65b9\u6cd5\u200b \n        MethodInterceptor methodInterceptor = advised.getMethodInterceptor();\n        return methodInterceptor.invoke(new ReflectiveMethodInvocation(advised.getTargetSource().getTarget(), method, args));\n    }\n    return method.invoke(advised.getTargetSource().getTarget(), args);\n}\n</code></pre> <p>\u200b\u91cd\u70b9\u200b\u5173\u6ce8\u200b\u4ee5\u4e0a\u200b\u4e24\u4e2a\u200b\u6838\u5fc3\u200b\u65b9\u6cd5\u200b</p> <ol> <li><code>getProxy()</code><ul> <li><code>getProxy()</code> \u200b\u65b9\u6cd5\u200b\u7528\u4e8e\u200b\u521b\u5efa\u200b\u4ee3\u7406\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b\u57fa\u4e8e\u200b Java \u200b\u52a8\u6001\u200b\u4ee3\u7406\u200b\u7684\u200b\u4ee3\u7406\u200b\u5b9e\u4f8b\u200b\u3002</li> </ul> </li> <li><code>invoke()</code><ul> <li><code>invoke()</code> \u200b\u65b9\u6cd5\u200b\u7528\u4e8e\u200b\u5904\u7406\u200b\u4ee3\u7406\u200b\u5bf9\u8c61\u200b\u4e0a\u200b\u7684\u200b\u65b9\u6cd5\u200b\u8c03\u7528\u200b\uff0c\u200b\u5224\u65ad\u200b\u662f\u5426\u200b\u9700\u8981\u200b\u5e94\u7528\u200b\u4ee3\u7406\u200b\u903b\u8f91\u200b\u3002\u200b\u5982\u679c\u200b\u65b9\u6cd5\u200b\u5339\u914d\u200b\u5207\u9762\u200b\u6761\u4ef6\u200b\uff0c\u200b\u5219\u200b\u6267\u884c\u200b\u589e\u5f3a\u200b\u903b\u8f91\u200b\uff1b\u200b\u5426\u5219\u200b\u76f4\u63a5\u200b\u8c03\u7528\u200b\u76ee\u6807\u200b\u65b9\u6cd5\u200b\u3002</li> </ul> </li> </ol>","tags":["spring","java"]},{"location":"blog/backend/spring/Spring%20AOP/#2","title":"2. \u200b\u8fd0\u884c\u200b\u6d4b\u8bd5\u4ee3\u7801","text":"<p>\u200b\u5728\u200b\u6d4b\u8bd5\u4ee3\u7801\u200b\u7684\u200b\u672b\u5c3e\u200b\u52a0\u4e0a\u200b</p> Java<pre><code>System.out.println(proxy.getClass());\nwhile (true) {}\n</code></pre> <p>\u200b\u4fdd\u8bc1\u200b\u7a0b\u5e8f\u200b\u59cb\u7ec8\u200b\u8fd0\u884c\u200b</p> <p>\u200b\u4e0b\u8f7d\u200b arthas \u200b\u5e76\u200b\u542f\u52a8\u200b</p> Bash<pre><code>java -jar arthas-boot.jar\n</code></pre> <p>\u200b\u9009\u62e9\u200b\u5bf9\u5e94\u200b\u8fdb\u7a0b\u200b</p> <p></p> <p>\u200b\u8f93\u5165\u200b Bash<pre><code>jad com.sun.proxy.$Proxy2\n</code></pre></p> <p></p> <p>\u200b\u83b7\u5f97\u200b\u4ee3\u7406\u200b\u7c7b\u200b\u4fe1\u606f\u200b\u5982\u4e0b\u200b\uff1a</p> Java<pre><code>/*\n * Decompiled with CFR.\n *\n * Could not load the following classes:\n *  test.aop.bean.WorldService\n */\npackage com.sun.proxy;\n\nimport java.lang.reflect.InvocationHandler;\nimport java.lang.reflect.Method;\nimport java.lang.reflect.Proxy;\nimport java.lang.reflect.UndeclaredThrowableException;\nimport test.aop.bean.WorldService;\n\npublic final class $Proxy2\nextends Proxy\nimplements WorldService {\n    private static Method m1;\n    private static Method m2;\n    private static Method m0;\n    private static Method m3;\n\n    public $Proxy2(InvocationHandler invocationHandler) {\n        super(invocationHandler);\n    }\n\n    static {\n        try {\n            m1 = Class.forName(\"java.lang.Object\").getMethod(\"equals\", Class.forName(\"java.lang.Object\"));\n            m2 = Class.forName(\"java.lang.Object\").getMethod(\"toString\", new Class[0]);\n            m0 = Class.forName(\"java.lang.Object\").getMethod(\"hashCode\", new Class[0]);\n            m3 = Class.forName(\"test.aop.bean.WorldService\").getMethod(\"explode\", new Class[0]);\n            return;\n        }\n        catch (NoSuchMethodException noSuchMethodException) {\n            throw new NoSuchMethodError(noSuchMethodException.getMessage());\n        }\n        catch (ClassNotFoundException classNotFoundException) {\n            throw new NoClassDefFoundError(classNotFoundException.getMessage());\n        }\n    }\n\n    public final boolean equals(Object object) {\n        try {\n            return (Boolean)this.h.invoke(this, m1, new Object[]{object});\n        }\n        catch (Error | RuntimeException throwable) {\n            throw throwable;\n        }\n        catch (Throwable throwable) {\n            throw new UndeclaredThrowableException(throwable);\n        }\n    }\n\n    public final String toString() {\n        try {\n            return (String)this.h.invoke(this, m2, null);\n        }\n        catch (Error | RuntimeException throwable) {\n            throw throwable;\n        }\n        catch (Throwable throwable) {\n            throw new UndeclaredThrowableException(throwable);\n        }\n    }\n\n    public final int hashCode() {\n        try {\n            return (Integer)this.h.invoke(this, m0, null);\n        }\n        catch (Error | RuntimeException throwable) {\n            throw throwable;\n        }\n        catch (Throwable throwable) {\n            throw new UndeclaredThrowableException(throwable);\n        }\n    }\n\n    public final void explode() {\n        try {\n            this.h.invoke(this, m3, null);\n            return;\n        }\n        catch (Error | RuntimeException throwable) {\n            throw throwable;\n        }\n        catch (Throwable throwable) {\n            throw new UndeclaredThrowableException(throwable);\n        }\n    }\n}\n</code></pre> <p>\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b\u4ee3\u7406\u200b\u7c7b\u200b\u4fe1\u606f\u200b\u5982\u4e0b\u200b <code>public final class $Proxy2 extends Proxy implements WorldService</code></p> <p>\u200b\u7ee7\u627f\u200b\u4e86\u200b <code>Proxy</code>\uff0c\u200b\u5b9e\u73b0\u200b\u4e86\u200b <code>WorldService</code> \u200b\u63a5\u53e3\u200b</p> <p>\u200b\u4e0a\u8ff0\u200b\u4fe1\u606f\u200b\u5370\u8bc1\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u91cd\u8981\u200b\u7684\u200b\u6982\u5ff5\u200b\uff0c\u200b\u5373\u200b\uff1a</p> <p>\u200b\u77e5\u8bc6\u70b9\u200b</p> <p>JDK \u200b\u52a8\u6001\u200b\u4ee3\u7406\u200b\u751f\u6210\u200b\u7684\u200b\u4ee3\u7406\u200b\u7c7b\u200b\u548c\u200b\u4ee3\u7406\u200b\u5bf9\u8c61\u200b\u4e3a\u200b\u5144\u5f1f\u200b\u5173\u7cfb\u200b\uff0c\u200b\u9700\u8981\u200b\u4e00\u4e2a\u200b\u5171\u540c\u200b\u7684\u200b\u63a5\u53e3\u200b</p> <p>\u200b\u63a5\u4e0b\u6765\u200b\u770b\u200b\u4ee3\u7406\u200b\u7c7b\u200b\u5b9e\u73b0\u200b\u7684\u200b <code>explode</code> \u200b\u65b9\u6cd5\u200b</p> Java<pre><code>public final void explode() {\n    try {\n        this.h.invoke(this, m3, null);\n        return;\n    }\n    catch (Error | RuntimeException throwable) {\n        throw throwable;\n    }\n    catch (Throwable throwable) {\n        throw new UndeclaredThrowableException(throwable);\n    }\n}\n</code></pre> <p>\u200b\u5176\u4ed6\u200b\u90fd\u200b\u5f88\u200b\u597d\u200b\u7406\u89e3\u200b\uff0c\u200b\u95ee\u9898\u200b\u662f\u200b\uff1a\u200b\u8fd9\u91cc\u200b\u7684\u200b <code>h</code> \u200b\u662f\u200b\u4ec0\u4e48\u200b\uff1f</p> <p>\u200b\u5148\u200b\u7ed9\u51fa\u200b\u89e3\u7b54\u200b\uff1a<code>h</code> \u200b\u662f\u200b <code>InvocationHandler</code></p> <p>\u200b\u63a5\u4e0b\u6765\u200b\uff0c\u200b\u4e00\u6b65\u200b\u4e00\u6b65\u200b\u4ece\u200b\u6e90\u7801\u200b\u89d2\u5ea6\u200b\u5206\u6790\u200b</p> <p>\u200b\u9996\u5148\u200b\uff0c\u200b\u8fd9\u4e2a\u200b\u4ee3\u7406\u200b\u7c7b\u200b\u662f\u200b\u901a\u8fc7\u200b <code>JdkDynamicAopProxy</code> \u200b\u7684\u200b <code>getProxy</code> \u200b\u65b9\u6cd5\u200b\u83b7\u53d6\u200b\u7684\u200b</p> <p>\u200b\u5b9a\u4e49\u200b\u5982\u4e0b\u200b</p> Java<pre><code>@Override\npublic Object getProxy() {\n    return Proxy.newProxyInstance(Thread.currentThread().getContextClassLoader(), advised.getTargetSource().getTargetClass(), this);\n}\n</code></pre> <p>\u200b\u4ee5\u53ca\u200b <code>Proxy.newProxyInstance</code> \u200b\u7684\u200b\u65b9\u6cd5\u200b\u7b7e\u540d\u200b</p> Java<pre><code>public static Object newProxyInstance(ClassLoader loader,\n                                          Class&lt;?&gt;[] interfaces,\n                                          InvocationHandler h)\n</code></pre> <p>\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b\u5728\u200b <code>getProxy</code> \u200b\u65b9\u6cd5\u200b\u4e2d\u200b\u8fd4\u56de\u200b\u4ee3\u7406\u200b\u5bf9\u8c61\u200b\u7684\u200b\u6700\u540e\u200b\u4e00\u4e2a\u200b\u53c2\u6570\u200b\u4e3a\u200b <code>this</code>\uff0c\u200b\u5373\u200b <code>JdkDynamicAopProxy</code> \u200b\u672c\u8eab\u200b\uff0c\u200b\u800c\u200b <code>JdkDynamicAopProxy</code> \u200b\u8fd9\u4e2a\u200b\u7c7b\u200b\u5b9e\u73b0\u200b\u4e86\u200b <code>InvocationHandler</code> \u200b\u63a5\u53e3\u200b\uff0c\u200b\u6240\u4ee5\u200b\u5728\u200b\u52a8\u6001\u200b\u751f\u6210\u200b\u7684\u200b\u4ee3\u7406\u200b\u7c7b\u4e2d\u200b\u8c03\u7528\u200b\u7684\u200b <code>this.h.invoke</code> \u200b\u5176\u5b9e\u200b\u5c31\u662f\u200b <code>JdkDynamicAopProxy</code> \u200b\u7684\u200b <code>invoke</code> \u200b\u65b9\u6cd5\u200b\u3002</p> <p>\u200b\u6700\u540e\u200b\u518d\u200b\u6765\u770b\u200b <code>invoke</code> \u200b\u65b9\u6cd5\u200b</p> Java<pre><code>@Override\npublic Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\n    if (advised.getMethodMatcher().matches(method, advised.getTargetSource().getTarget().getClass())) {\n        // \u200b\u542f\u52a8\u200b\u4ee3\u7406\u200b\u65b9\u6cd5\u200b\n        MethodInterceptor methodInterceptor = advised.getMethodInterceptor();\n        return methodInterceptor.invoke(new ReflectiveMethodInvocation(advised.getTargetSource().getTarget(), method, args));\n    }\n    return method.invoke(advised.getTargetSource().getTarget(), args);\n}\n</code></pre> <p>\u200b\u6838\u5fc3\u200b\u903b\u8f91\u200b\u5982\u4e0b\u200b\uff1a</p> <ol> <li> <p>\u200b\u65b9\u6cd5\u200b\u5339\u914d\u200b\uff1a</p> <ul> <li>\u200b\u8c03\u7528\u200b <code>advised.getMethodMatcher().matches(...)</code> \u200b\u5224\u65ad\u200b\u5f53\u524d\u200b\u65b9\u6cd5\u200b\u662f\u5426\u200b\u7b26\u5408\u200b\u5207\u9762\u200b\u6761\u4ef6\u200b\u3002</li> <li>\u200b\u5982\u679c\u200b\u5339\u914d\u200b\uff0c\u200b\u6267\u884c\u200b\u4ee3\u7406\u200b\u903b\u8f91\u200b\uff1b\u200b\u5426\u5219\u200b\u76f4\u63a5\u200b\u8c03\u7528\u200b\u76ee\u6807\u200b\u65b9\u6cd5\u200b\u3002</li> </ul> </li> <li> <p>\u200b\u4ee3\u7406\u200b\u903b\u8f91\u200b\uff1a</p> <ul> <li>\u200b\u83b7\u53d6\u200b <code>MethodInterceptor</code> \u200b\u5bf9\u8c61\u200b\uff0c\u200b\u5c01\u88c5\u200b\u4e86\u200b\u589e\u5f3a\u200b\u903b\u8f91\u200b\u3002</li> <li>\u200b\u8c03\u7528\u200b <code>MethodInterceptor.invoke(...)</code>\uff0c\u200b\u4f20\u5165\u200b\u4e00\u4e2a\u200b<code>ReflectiveMethodInvocation</code> \u200b\u5bf9\u8c61\u200b\u3002</li> <li><code>ReflectiveMethodInvocation</code> \u200b\u662f\u200b <code>Spring AOP</code> \u200b\u7684\u200b\u6838\u5fc3\u200b\u7c7b\u200b\uff0c\u200b\u7528\u4e8e\u200b\u5c01\u88c5\u200b\u65b9\u6cd5\u200b\u8c03\u7528\u200b\u7684\u200b\u4e0a\u4e0b\u6587\u200b\uff08\u200b\u76ee\u6807\u200b\u5bf9\u8c61\u200b\u3001\u200b\u65b9\u6cd5\u200b\u3001\u200b\u53c2\u6570\u200b\u7b49\u200b\uff09\u3002</li> </ul> </li> <li> <p>\u200b\u76f4\u63a5\u200b\u8c03\u7528\u200b\u76ee\u6807\u200b\u65b9\u6cd5\u200b\uff1a</p> <ul> <li>\u200b\u5982\u679c\u200b\u65b9\u6cd5\u200b\u4e0d\u200b\u5339\u914d\u200b\u4ee3\u7406\u200b\u6761\u4ef6\u200b\uff0c\u200b\u76f4\u63a5\u200b\u8c03\u7528\u200b\u76ee\u6807\u200b\u5bf9\u8c61\u200b\u7684\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u4f7f\u7528\u200b\u53cd\u5c04\u200b\u673a\u5236\u200b\u3002</li> </ul> </li> </ol>","tags":["spring","java"]},{"location":"blog/backend/spring/Spring%20AOP/#cglib","title":"Cglib \u200b\u52a8\u6001\u200b\u4ee3\u7406","text":"<p>\u200b\u4e0e\u200b\u57fa\u4e8e\u200bJDK\u200b\u7684\u200b\u52a8\u6001\u200b\u4ee3\u7406\u200b\u5728\u200b\u8fd0\u884c\u200b\u671f\u95f4\u200b\u4e3a\u200b\u63a5\u53e3\u200b\u751f\u6210\u200b\u5bf9\u8c61\u200b\u7684\u200b\u4ee3\u7406\u200b\u5bf9\u8c61\u200b\u4e0d\u540c\u200b</p> <p>\u200b\u57fa\u4e8e\u200bCGLIB\u200b\u7684\u200b\u52a8\u6001\u200b\u4ee3\u7406\u200b\u80fd\u200b\u5728\u200b\u8fd0\u884c\u200b\u671f\u95f4\u200b\u52a8\u6001\u200b\u6784\u5efa\u200b\u5b57\u8282\u200b\u7801\u200b\u7684\u200bclass\u200b\u6587\u4ef6\u200b\uff0c\u200b\u4e3a\u7c7b\u200b\u751f\u6210\u200b\u5b50\u7c7b\u200b\uff0c\u200b\u56e0\u6b64\u200b\u88ab\u200b\u4ee3\u7406\u200b\u7c7b\u200b\u4e0d\u200b\u9700\u8981\u200b\u7ee7\u627f\u200b\u81ea\u200b\u4efb\u4f55\u200b\u63a5\u53e3\u200b\u3002</p> <p>\u200b\u91cd\u8981\u200b\u6982\u5ff5\u200b</p> <p>cglib \u200b\u4e0d\u200b\u8981\u6c42\u200b\u76ee\u6807\u200b\u5b9e\u73b0\u200b\u63a5\u53e3\u200b\uff0c\u200b\u5b83\u200b\u751f\u6210\u200b\u7684\u200b\u4ee3\u7406\u200b\u7c7b\u200b\u662f\u200b\u76ee\u6807\u200b\u7684\u200b\u5b50\u7c7b\u200b\uff0c\u200b\u56e0\u6b64\u200b\u4ee3\u7406\u200b\u4e0e\u200b\u76ee\u6807\u200b\u4e4b\u95f4\u200b\u662f\u200b\u5b50\u7236\u200b\u5173\u7cfb\u200b</p> \u200b\u6d4b\u8bd5\u4ee3\u7801\u200b Java<pre><code>private AdvisedSupport advisedSupport;\n\n@Before\npublic void setup() {\n    WorldService worldService = new WorldServiceImpl();\n\n    advisedSupport = new AdvisedSupport();\n    TargetSource targetSource = new TargetSource(worldService);\n    WorldServiceInterceptor methodInterceptor = new WorldServiceInterceptor();\n    MethodMatcher methodMatcher = new AspectJExpressionPointcut(\"execution(* test.aop.bean.WorldService.explode(..))\").getMethodMatcher();\n    advisedSupport.setTargetSource(targetSource);\n    advisedSupport.setMethodInterceptor(methodInterceptor);\n    advisedSupport.setMethodMatcher(methodMatcher);\n}\n</code></pre> Java<pre><code>@Test\npublic void testCglibDynamicProxy1() throws Exception {\n    WorldService proxy = (WorldService) new CglibAopProxy(advisedSupport).getProxy();\n    proxy.explode();\n}\n</code></pre> Java<pre><code>@Test\npublic void testCglibDynamicProxy2() throws Exception {\n    WorldServiceImpl proxy = (WorldServiceImpl) new CglibAopProxy(advisedSupport).getProxy();\n    proxy.explode();\n}\n</code></pre> <p>\u200b\u8fd0\u884c\u200b\u4e0a\u8ff0\u200b\u4ee3\u7801\u200b\u5747\u200b\u65e0\u200b\u62a5\u9519\u200b\uff0c\u200b\u5373\u200b\u9a8c\u8bc1\u200b\u4e86\u200b \u200b\u4ee3\u7406\u200b\u4e0e\u200b\u76ee\u6807\u200b\u4e4b\u95f4\u200b\u662f\u200b\u5b50\u7236\u200b\u5173\u7cfb\u200b </p>","tags":["spring","java"]},{"location":"blog/backend/spring/Spring%20AOP/#1-cglib","title":"1. Cglib \u200b\u52a8\u6001\u200b\u4ee3\u7406\u200b\u6e90\u7801","text":"<p>\u200b\u4ee3\u7801\u200b\u4f4d\u7f6e\u200b\uff1a<code>com.iflove.simplespring.aop.framework.CglibAopProxy</code></p> Java<pre><code>public class CglibAopProxy implements AopProxy {\n\n    private final AdvisedSupport advised;\n\n    public CglibAopProxy(AdvisedSupport advised) {\n        this.advised = advised;\n    }\n\n    @Override\n    public Object getProxy() {\n        Enhancer enhancer = new Enhancer();\n        Class&lt;?&gt; aClass = advised.getTargetSource().getTarget().getClass();\n        aClass = ClassUtils.isCglibProxyClass(aClass)? aClass.getSuperclass() : aClass;\n        enhancer.setSuperclass(aClass);\n        enhancer.setInterfaces(advised.getTargetSource().getTargetClass());\n        enhancer.setCallback(new DynamicAdvisedInterceptor(advised));\n        return enhancer.create();\n    }\n\n    private static class DynamicAdvisedInterceptor implements MethodInterceptor {\n\n        private final AdvisedSupport advised;\n\n        public DynamicAdvisedInterceptor(AdvisedSupport advised) {\n            this.advised = advised;\n        }\n\n        @Override\n        public Object intercept(Object o, Method method, Object[] objects, MethodProxy methodProxy) throws Throwable {\n            CglibMethodInvocation methodInvocation = new CglibMethodInvocation(advised.getTargetSource().getTarget(), method, objects, methodProxy);\n            if (advised.getMethodMatcher().matches(method, advised.getTargetSource().getTarget().getClass())) {\n                return advised.getMethodInterceptor().invoke(methodInvocation);\n            }\n            return methodInvocation.proceed();\n        }\n    }\n\n    private static class CglibMethodInvocation extends ReflectiveMethodInvocation {\n\n        private final MethodProxy methodProxy;\n\n        public CglibMethodInvocation(Object target, Method method, Object[] arguments, MethodProxy methodProxy) {\n            super(target, method, arguments);\n            this.methodProxy = methodProxy;\n        }\n\n        @Override\n        public Object proceed() throws Throwable {\n            return this.methodProxy.invoke(this.target, this.arguments);\n        }\n\n    }\n}\n</code></pre> <p>\u200b\u4e0e\u200b <code>JDK</code> \u200b\u52a8\u6001\u200b\u4ee3\u7406\u200b\u4e0d\u540c\u200b\u7684\u200b\u662f\u200b\uff0c<code>Cglib</code> \u200b\u52a8\u6001\u200b\u4ee3\u7406\u200b\u62e5\u6709\u200b\u4e24\u4e2a\u200b\u7279\u522b\u200b\u7684\u200b\u5185\u90e8\u200b\u7c7b\u200b <code>DynamicAdvisedInterceptor</code> \u200b\u548c\u200b <code>CglibMethodInvocation</code> </p> <ul> <li><code>CglibMethodInvocation</code> \u200b\u6269\u5c55\u200b <code>ReflectiveMethodInvocation</code> \u200b\u7c7b\u4ee5\u200b\u652f\u6301\u200b <code>CGLIB</code> \u200b\u4ee3\u7406\u200b</li> <li>\u200b\u4e3b\u8981\u200b\u662f\u200b\u8986\u76d6\u200b\u4e86\u200b <code>invokeJoinpoint()</code> \u200b\u65b9\u6cd5\u200b\uff0c\u200b\u5982\u679c\u200b\u6709\u200b <code>MethodProxy</code> \u200b\u5bf9\u8c61\u200b,\u200b\u5219\u200b\u901a\u8fc7\u200b\u8c03\u7528\u200b <code>MethodProxy#invoke</code> \u200b\u65b9\u6cd5\u200b\uff0c\u200b\u5426\u5219\u200b\u901a\u8fc7\u200b\u53cd\u5c04\u200b\u8c03\u7528\u200b</li> </ul> <p>\u200b\u90a3\u4e48\u200b\u95ee\u9898\u200b\u6765\u200b\u4e86\u200b\uff0c<code>methodProxy</code> \u200b\u7a76\u7adf\u200b\u662f\u200b\u4ec0\u4e48\u200b\uff1f\u200b\u4e0d\u200b\u4f7f\u7528\u200b <code>methodProxy</code> \u200b\u884c\u4e0d\u884c\u200b\uff1f</p> <p>\u200b\u9996\u5148\u200b\u56de\u7b54\u200b \u200b\u4e0d\u200b\u4f7f\u7528\u200b <code>methodProxy</code> \u200b\u884c\u4e0d\u884c\u200b\uff1f \u200b\u8fd9\u4e2a\u200b\u95ee\u9898\u200b</p> <p>\u200b\u7b54\u6848\u200b\u662f\u200b \u200b\u53ef\u4ee5\u200b\uff01</p> <p>\u200b\u5982\u679c\u200b\u628a\u200b <code>proceed</code> \u200b\u65b9\u6cd5\u200b\u4e2d\u200b\u7684\u200b <code>methodProxy</code> \u200b\u66ff\u6362\u200b\u4e3a\u200b <code>method</code>\uff0c\u200b\u4ee3\u7406\u200b\u4f9d\u7136\u200b\u751f\u6548\u200b\uff0c\u200b\u4e14\u200b\u4e0d\u4f1a\u200b\u62a5\u9519\u200b</p> <p>\u200b\u63a5\u4e0b\u6765\u200b\uff0c\u200b\u4ece\u200b\u6e90\u7801\u200b\u89d2\u5ea6\u200b\u5206\u6790\u200b <code>methodProxy</code> \u200b\u7a76\u7adf\u200b\u662f\u200b\u4ec0\u4e48\u200b\uff1f</p>","tags":["spring","java"]},{"location":"blog/backend/spring/Spring%20AOP/#2-cglib","title":"2. CGLIB \u200b\u52a8\u6001\u200b\u4ee3\u7406\u200b\u539f\u7406\u200b\u4e0e\u200b\u6027\u80fd\u200b\u4f18\u5316","text":"<p><code>MethodProxy</code> \u200b\u662f\u200b CGLIB \u200b\u4e2d\u200b\u4e00\u4e2a\u200b\u5173\u952e\u200b\u7684\u200b\u7c7b\u200b\uff0c\u200b\u7528\u4e8e\u200b\u6267\u884c\u200b\u4ee3\u7406\u200b\u65b9\u6cd5\u200b\u3002\u200b\u5b83\u200b\u901a\u8fc7\u200b ASM \u200b\u5b57\u8282\u200b\u7801\u200b\u6846\u67b6\u200b\u751f\u6210\u200b\u52a8\u6001\u200b\u4ee3\u7406\u200b\u7c7b\u200b\uff0c\u200b\u4ee5\u200b\u63d0\u9ad8\u200b\u65b9\u6cd5\u200b\u8c03\u7528\u200b\u7684\u200b\u6027\u80fd\u200b\u3002\u200b\u4e0e\u200b\u4f20\u7edf\u200b\u7684\u200b\u53cd\u5c04\u200b\u65b9\u5f0f\u200b\u76f8\u6bd4\u200b\uff0c<code>MethodProxy</code> \u200b\u80fd\u200b\u907f\u514d\u200b\u9891\u7e41\u200b\u53cd\u5c04\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u4ece\u800c\u200b\u4f18\u5316\u200b\u6027\u80fd\u200b\u3002</p> <p>\u200b\u8fdb\u5165\u200b <code>proceed</code> \u200b\u65b9\u6cd5\u200b\u4e2d\u200b\u7684\u200b <code>invoke</code> \u200b\u65b9\u6cd5\u200b\uff0c\u200b\u6e90\u7801\u200b\u5982\u4e0b\u200b</p> Java<pre><code>public Object invoke(Object obj, Object[] args) throws Throwable {\n    try {\n        this.init();\n        FastClassInfo fci = this.fastClassInfo;\n        return fci.f1.invoke(fci.i1, obj, args);\n    } catch (InvocationTargetException var4) {\n        InvocationTargetException e = var4;\n        throw e.getTargetException();\n    } catch (IllegalArgumentException var5) {\n        IllegalArgumentException e = var5;\n        if (this.fastClassInfo.i1 &lt; 0) {\n            throw new IllegalArgumentException(\"Protected method: \" + this.sig1);\n        } else {\n            throw e;\n        }\n    }\n}\n</code></pre> <p>\u200b\u7ee7\u7eed\u200b\u8fdb\u5165\u200b\u8be5\u200b\u65b9\u6cd5\u200b\u4e0b\u200b\u7684\u200b <code>init</code> \u200b\u65b9\u6cd5\u200b</p> Java<pre><code>private void init() {\n    if (this.fastClassInfo == null) {\n        synchronized(this.initLock) {\n            if (this.fastClassInfo == null) {\n                CreateInfo ci = this.createInfo;\n                FastClassInfo fci = new FastClassInfo();\n                fci.f1 = helper(ci, ci.c1);\n                fci.f2 = helper(ci, ci.c2);\n                fci.i1 = fci.f1.getIndex(this.sig1);\n                fci.i2 = fci.f2.getIndex(this.sig2);\n                this.fastClassInfo = fci;\n                this.createInfo = null;\n            }\n        }\n    }\n\n}\n</code></pre> <p>\u200b\u5728\u200b <code>init</code> \u200b\u65b9\u6cd5\u200b\u4e0b\u200b\uff0c\u200b\u6709\u200b\u4e24\u4e2a\u200b\u7279\u6b8a\u200b\u7684\u200b\u7c7b\u200b <code>f1</code> \u200b\u548c\u200b <code>f2</code>\uff0c\u200b\u8fd9\u200b\u4e24\u4e2a\u200b\u5176\u5b9e\u200b\u5c31\u662f\u200b <code>FastClass</code></p> <p>\u200b\u5c06\u200b\u6e90\u7801\u200b\u62c9\u200b\u5230\u200b\u5e95\u90e8\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b <code>FastClass</code> \u200b\u5b9a\u4e49\u200b\u5982\u4e0b\u200b\uff1a</p> Java<pre><code>private static class FastClassInfo {\n    FastClass f1;\n    FastClass f2;\n    int i1;\n    int i2;\n\n    private FastClassInfo() {\n    }\n}\n</code></pre> <ul> <li><code>F1</code> \u200b\u8868\u793a\u200b\u5df2\u7ecf\u200b\u521b\u5efa\u200b\u7684\u200b\u4ee3\u7406\u200b\u7c7b\u200b\uff0c\u200b\u5305\u542b\u200b\u4ee3\u7406\u200b\u903b\u8f91\u200b</li> <li><code>F2</code> \u200b\u8868\u793a\u200b\u539f\u59cb\u200b\u7c7b\u200b\u7684\u200b\u65b9\u6cd5\u200b\u5c01\u88c5\u200b\uff0c\u200b\u52a0\u901f\u200b\u539f\u751f\u200b\u7c7b\u200b\u65b9\u6cd5\u200b\u8c03\u7528\u200b</li> </ul> <p>\u200b\u65e0\u8bba\u662f\u200b\u4ee3\u7406\u200b\u7c7b\u200b\u8fd8\u662f\u200b\u539f\u751f\u200b\u7684\u200b\u7c7b\u200b, \u200b\u5728\u200b\u521b\u5efa\u200b\u4ee3\u7406\u200b\u3001\u200b\u6267\u884c\u200b\u4ee3\u7406\u200b\u5185\u90e8\u200b\u7684\u200b\u4e00\u4e9b\u200b\u65b9\u6cd5\u200b\u4ee5\u53ca\u200b\u8c03\u7528\u200b\u4e00\u4e9b\u200b\u503c\u200b\u7684\u200b\u65f6\u5019\u200b, \u200b\u5982\u679c\u200b\u8981\u200b\u4f7f\u7528\u200b\u5230\u200b\u539f\u751f\u200b\u7c7b\u4e2d\u200b\u7684\u200b\u65b9\u6cd5\u200b\u7684\u8bdd\u200b\uff0c\u200b\u662f\u200b\u9700\u8981\u200b\u901a\u8fc7\u200b\u53cd\u5c04\u200b\u7684\u200b\u65b9\u5f0f\u200b\u53bb\u200b\u6267\u884c\u200b\u7684\u200b\u3002</p> <p>\u200b\u53ef\u4ee5\u200b\u5f80\u200b\u6781\u7aef\u200b\u4e00\u70b9\u200b\u7684\u200b\u65b9\u5411\u200b\u601d\u8003\u200b\uff0c\u200b\u5982\u679c\u200b\u539f\u751f\u200b\u7c7b\u4e2d\u200b\u88ab\u200b\u8c03\u7528\u200b\u7684\u200b\u65b9\u6cd5\u200b\u975e\u5e38\u200b\u591a\u200b\u7684\u8bdd\u200b\uff0c\u200b\u4f1a\u200b\u5bfc\u81f4\u200b <code>java</code> \u200b\u8fdb\u884c\u200b\u9891\u7e41\u200b\u7684\u200b\u53cd\u5c04\u200b\uff0c\u200b\u800c\u200b\u4f7f\u7528\u200b\u53cd\u5c04\u200b\uff0c\u200b\u53c8\u200b\u4f1a\u200b\u5bfc\u81f4\u200b <code>JVM</code> \u200b\u673a\u5236\u200b\u8fdb\u884c\u200b\u53cd\u5c04\u200b\u7684\u200b\u68c0\u67e5\u200b\uff0c\u200b\u6240\u4ee5\u200b\u8fd9\u6837\u200b\u505a\u200b\u662f\u200b\u76f8\u5f53\u200b\u727a\u7272\u200b\u6027\u80fd\u200b\u7684\u200b\u3002</p> <p>\u200b\u4e3a\u4e86\u200b\u89e3\u51b3\u200b\u8fd9\u4e2a\u200b\u95ee\u9898\u200b\uff0c<code>Cglib</code> \u200b\u521b\u5efa\u200b\u4e86\u200b\u4e00\u4e2a\u200b <code>MethodProxy</code> \u200b\u7c7b\u200b\uff0c\u200b\u5c06\u200b\u539f\u751f\u200b\u7c7b\u4e2d\u200b\u6240\u6709\u200b\u9700\u8981\u200b\u4ee3\u7406\u200b\u7684\u200b\u65b9\u6cd5\u200b\u5b58\u5165\u200b\u8fd9\u4e2a\u200b\u7c7b\u4e2d\u200b\uff0c\u200b\u90a3\u4e48\u200b\u5728\u200b\u9700\u8981\u200b\u4f7f\u7528\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u76f4\u63a5\u200b\u6267\u884c\u200b\u5373\u53ef\u200b\uff0c\u200b\u76f8\u5f53\u4e8e\u200b\u4e00\u4e2a\u200b\u7f13\u5b58\u200b\u7684\u200b\u4f5c\u7528\u200b\uff0c\u200b\u597d\u5904\u200b\u5c31\u662f\u200b\u53ef\u4ee5\u200b\u63d0\u9ad8\u200b\u6027\u80fd\u200b\u3002</p> <p></p> <p>\u200b\u5728\u200b <code>MethodProxy</code> \u200b\u7c7b\u4e2d\u200b\u8fd8\u6709\u200b\u4e00\u4e2a\u200b\u7279\u522b\u200b\u7684\u200b\u65b9\u6cd5\u200b <code>invokeSuper</code>\uff0c\u200b\u8fd9\u4e2a\u200b\u65b9\u6cd5\u200b\u4ee3\u8868\u200b\u76f4\u63a5\u200b\u8c03\u7528\u200b\u539f\u59cb\u200b\u7c7b\u200b\u7684\u200b\u65b9\u6cd5\u200b</p> Java<pre><code>methodProxy.invokeSuper(this.target, this.arguments);\n</code></pre> <p>\u200b\u90a3\u4e48\u200b\u987e\u540d\u601d\u4e49\u200b\uff0c<code>invoke</code> \u200b\u65b9\u6cd5\u200b\uff0c\u200b\u5c31\u662f\u200b\u8c03\u7528\u200b\u4ee3\u7406\u200b\u7c7b\u200b\u7684\u200b\u4ee3\u7406\u200b\u65b9\u6cd5\u200b</p>","tags":["spring","java"]},{"location":"blog/backend/spring/Spring%20AOP/#3-cglib","title":"3. Cglib \u200b\u52a8\u6001\u200b\u4ee3\u7406\u200b\u7c7b","text":"<p>\u200b\u7c7b\u4f3c\u200b\u4e0a\u6587\u200b\u83b7\u53d6\u200b JDK \u200b\u52a8\u6001\u200b\u4ee3\u7406\u200b\u7c7b\u200b\u7684\u200b\u65b9\u6cd5\u200b</p> <p>\u200b\u5728\u200b\u6d4b\u8bd5\u4ee3\u7801\u200b\u7684\u200b\u672b\u5c3e\u200b\u52a0\u4e0a\u200b</p> Java<pre><code>System.out.println(proxy.getClass());\nwhile (true) {}\n</code></pre> <p>\u200b\u4fdd\u8bc1\u200b\u7a0b\u5e8f\u200b\u59cb\u7ec8\u200b\u8fd0\u884c\u200b</p> <p>\u200b\u4e0b\u8f7d\u200b arthas \u200b\u5e76\u200b\u542f\u52a8\u200b</p> Bash<pre><code>java -jar arthas-boot.jar\n</code></pre> <p>\u200b\u83b7\u53d6\u200b\u52a8\u6001\u200b\u4ee3\u7406\u200b\u7c7b\u200b\u4ee3\u7801\u200b\u5982\u4e0b\u200b(\u200b\u6709\u70b9\u200b\u5c0f\u957f\u200b)\uff1a</p> \u200b\u52a8\u6001\u200b\u4ee3\u7406\u200b\u7c7b\u200b Java<pre><code>/*\n * Decompiled with CFR.\n *\n * Could not load the following classes:\n *  test.aop.bean.WorldService\n *  test.aop.bean.WorldServiceImpl\n */\npackage test.aop.bean;\n\nimport java.lang.reflect.Method;\nimport net.sf.cglib.core.ReflectUtils;\nimport net.sf.cglib.core.Signature;\nimport net.sf.cglib.proxy.Callback;\nimport net.sf.cglib.proxy.Factory;\nimport net.sf.cglib.proxy.MethodInterceptor;\nimport net.sf.cglib.proxy.MethodProxy;\nimport test.aop.bean.WorldService;\nimport test.aop.bean.WorldServiceImpl;\n\npublic class WorldServiceImpl$$EnhancerByCGLIB$$81790592\nextends WorldServiceImpl\nimplements WorldService,\nFactory {\n    private boolean CGLIB$BOUND;\n    public static Object CGLIB$FACTORY_DATA;\n    private static final ThreadLocal CGLIB$THREAD_CALLBACKS;\n    private static final Callback[] CGLIB$STATIC_CALLBACKS;\n    private MethodInterceptor CGLIB$CALLBACK_0;\n    private static Object CGLIB$CALLBACK_FILTER;\n    private static final Method CGLIB$explode$0$Method;\n    private static final MethodProxy CGLIB$explode$0$Proxy;\n    private static final Object[] CGLIB$emptyArgs;\n    private static final Method CGLIB$equals$1$Method;\n    private static final MethodProxy CGLIB$equals$1$Proxy;\n    private static final Method CGLIB$toString$2$Method;\n    private static final MethodProxy CGLIB$toString$2$Proxy;\n    private static final Method CGLIB$hashCode$3$Method;\n    private static final MethodProxy CGLIB$hashCode$3$Proxy;\n    private static final Method CGLIB$clone$4$Method;\n    private static final MethodProxy CGLIB$clone$4$Proxy;\n\n    public WorldServiceImpl$$EnhancerByCGLIB$$81790592() {\n        WorldServiceImpl$$EnhancerByCGLIB$$81790592 worldServiceImpl$$EnhancerByCGLIB$$81790592 = this;\n        WorldServiceImpl$$EnhancerByCGLIB$$81790592.CGLIB$BIND_CALLBACKS(worldServiceImpl$$EnhancerByCGLIB$$81790592);\n    }\n\n    static {\n        WorldServiceImpl$$EnhancerByCGLIB$$81790592.CGLIB$STATICHOOK1();\n    }\n\n    public final boolean equals(Object object) {\n        MethodInterceptor methodInterceptor = this.CGLIB$CALLBACK_0;\n        if (methodInterceptor == null) {\n            WorldServiceImpl$$EnhancerByCGLIB$$81790592.CGLIB$BIND_CALLBACKS(this);\n            methodInterceptor = this.CGLIB$CALLBACK_0;\n        }\n        if (methodInterceptor != null) {\n            Object object2 = methodInterceptor.intercept(this, CGLIB$equals$1$Method, new Object[]{object}, CGLIB$equals$1$Proxy);\n            return object2 == null ? false : (Boolean)object2;\n        }\n        return super.equals(object);\n    }\n\n    public final String toString() {\n        MethodInterceptor methodInterceptor = this.CGLIB$CALLBACK_0;\n        if (methodInterceptor == null) {\n            WorldServiceImpl$$EnhancerByCGLIB$$81790592.CGLIB$BIND_CALLBACKS(this);\n            methodInterceptor = this.CGLIB$CALLBACK_0;\n        }\n        if (methodInterceptor != null) {\n            return (String)methodInterceptor.intercept(this, CGLIB$toString$2$Method, CGLIB$emptyArgs, CGLIB$toString$2$Proxy);\n        }\n        return super.toString();\n    }\n\n    public final int hashCode() {\n        MethodInterceptor methodInterceptor = this.CGLIB$CALLBACK_0;\n        if (methodInterceptor == null) {\n            WorldServiceImpl$$EnhancerByCGLIB$$81790592.CGLIB$BIND_CALLBACKS(this);\n            methodInterceptor = this.CGLIB$CALLBACK_0;\n        }\n        if (methodInterceptor != null) {\n            Object object = methodInterceptor.intercept(this, CGLIB$hashCode$3$Method, CGLIB$emptyArgs, CGLIB$hashCode$3$Proxy);\n            return object == null ? 0 : ((Number)object).intValue();\n        }\n        return super.hashCode();\n    }\n\n    protected final Object clone() throws CloneNotSupportedException {\n        MethodInterceptor methodInterceptor = this.CGLIB$CALLBACK_0;\n        if (methodInterceptor == null) {\n            WorldServiceImpl$$EnhancerByCGLIB$$81790592.CGLIB$BIND_CALLBACKS(this);\n            methodInterceptor = this.CGLIB$CALLBACK_0;\n        }\n        if (methodInterceptor != null) {\n            return methodInterceptor.intercept(this, CGLIB$clone$4$Method, CGLIB$emptyArgs, CGLIB$clone$4$Proxy);\n        }\n        return super.clone();\n    }\n\n    @Override\n    public Object newInstance(Callback[] callbackArray) {\n        WorldServiceImpl$$EnhancerByCGLIB$$81790592.CGLIB$SET_THREAD_CALLBACKS(callbackArray);\n        WorldServiceImpl$$EnhancerByCGLIB$$81790592 worldServiceImpl$$EnhancerByCGLIB$$81790592 = new WorldServiceImpl$$EnhancerByCGLIB$$81790592();\n        WorldServiceImpl$$EnhancerByCGLIB$$81790592.CGLIB$SET_THREAD_CALLBACKS(null);\n        return worldServiceImpl$$EnhancerByCGLIB$$81790592;\n    }\n\n    @Override\n    public Object newInstance(Callback callback) {\n        WorldServiceImpl$$EnhancerByCGLIB$$81790592.CGLIB$SET_THREAD_CALLBACKS(new Callback[]{callback});\n        WorldServiceImpl$$EnhancerByCGLIB$$81790592 worldServiceImpl$$EnhancerByCGLIB$$81790592 = new WorldServiceImpl$$EnhancerByCGLIB$$81790592();\n        WorldServiceImpl$$EnhancerByCGLIB$$81790592.CGLIB$SET_THREAD_CALLBACKS(null);\n        return worldServiceImpl$$EnhancerByCGLIB$$81790592;\n    }\n\n    @Override\n    public Object newInstance(Class[] classArray, Object[] objectArray, Callback[] callbackArray) {\n        WorldServiceImpl$$EnhancerByCGLIB$$81790592 worldServiceImpl$$EnhancerByCGLIB$$81790592;\n        WorldServiceImpl$$EnhancerByCGLIB$$81790592.CGLIB$SET_THREAD_CALLBACKS(callbackArray);\n        Class[] classArray2 = classArray;\n        switch (classArray.length) {\n            case 0: {\n                worldServiceImpl$$EnhancerByCGLIB$$81790592 = new WorldServiceImpl$$EnhancerByCGLIB$$81790592();\n                break;\n            }\n            default: {\n                throw new IllegalArgumentException(\"Constructor not found\");\n            }\n        }\n        WorldServiceImpl$$EnhancerByCGLIB$$81790592.CGLIB$SET_THREAD_CALLBACKS(null);\n        return worldServiceImpl$$EnhancerByCGLIB$$81790592;\n    }\n\n    public final void explode() {\n        MethodInterceptor methodInterceptor = this.CGLIB$CALLBACK_0;\n        if (methodInterceptor == null) {\n            WorldServiceImpl$$EnhancerByCGLIB$$81790592.CGLIB$BIND_CALLBACKS(this);\n            methodInterceptor = this.CGLIB$CALLBACK_0;\n        }\n        if (methodInterceptor != null) {\n            Object object = methodInterceptor.intercept(this, CGLIB$explode$0$Method, CGLIB$emptyArgs, CGLIB$explode$0$Proxy);\n            return;\n        }\n        super.explode();\n    }\n\n    @Override\n    public Callback[] getCallbacks() {\n        WorldServiceImpl$$EnhancerByCGLIB$$81790592.CGLIB$BIND_CALLBACKS(this);\n        WorldServiceImpl$$EnhancerByCGLIB$$81790592 worldServiceImpl$$EnhancerByCGLIB$$81790592 = this;\n        return new Callback[]{this.CGLIB$CALLBACK_0};\n    }\n\n    static void CGLIB$STATICHOOK1() {\n        CGLIB$THREAD_CALLBACKS = new ThreadLocal();\n        CGLIB$emptyArgs = new Object[0];\n        Class&lt;?&gt; clazz = Class.forName(\"test.aop.bean.WorldServiceImpl$$EnhancerByCGLIB$$81790592\");\n        Class&lt;?&gt; clazz2 = Class.forName(\"test.aop.bean.WorldServiceImpl\");\n        CGLIB$explode$0$Method = ReflectUtils.findMethods(new String[]{\"explode\", \"()V\"}, clazz2.getDeclaredMethods())[0];\n        CGLIB$explode$0$Proxy = MethodProxy.create(clazz2, clazz, \"()V\", \"explode\", \"CGLIB$explode$0\");\n        clazz2 = Class.forName(\"java.lang.Object\");\n        Method[] methodArray = ReflectUtils.findMethods(new String[]{\"equals\", \"(Ljava/lang/Object;)Z\", \"toString\", \"()Ljava/lang/String;\", \"hashCode\", \"()I\", \"clone\", \"()Ljava/lang/Object;\"}, clazz2.getDeclaredMethods());\n        CGLIB$equals$1$Method = methodArray[0];\n        CGLIB$equals$1$Proxy = MethodProxy.create(clazz2, clazz, \"(Ljava/lang/Object;)Z\", \"equals\", \"CGLIB$equals$1\");\n        CGLIB$toString$2$Method = methodArray[1];\n        CGLIB$toString$2$Proxy = MethodProxy.create(clazz2, clazz, \"()Ljava/lang/String;\", \"toString\", \"CGLIB$toString$2\");\n        CGLIB$hashCode$3$Method = methodArray[2];\n        CGLIB$hashCode$3$Proxy = MethodProxy.create(clazz2, clazz, \"()I\", \"hashCode\", \"CGLIB$hashCode$3\");\n        CGLIB$clone$4$Method = methodArray[3];\n        CGLIB$clone$4$Proxy = MethodProxy.create(clazz2, clazz, \"()Ljava/lang/Object;\", \"clone\", \"CGLIB$clone$4\");\n    }\n\n    final String CGLIB$toString$2() {\n        return super.toString();\n    }\n\n    private static final void CGLIB$BIND_CALLBACKS(Object object) {\n        block2: {\n            Object object2;\n            block3: {\n                WorldServiceImpl$$EnhancerByCGLIB$$81790592 worldServiceImpl$$EnhancerByCGLIB$$81790592 = (WorldServiceImpl$$EnhancerByCGLIB$$81790592)object;\n                if (worldServiceImpl$$EnhancerByCGLIB$$81790592.CGLIB$BOUND) break block2;\n                worldServiceImpl$$EnhancerByCGLIB$$81790592.CGLIB$BOUND = true;\n                object2 = CGLIB$THREAD_CALLBACKS.get();\n                if (object2 != null) break block3;\n                object2 = CGLIB$STATIC_CALLBACKS;\n                if (CGLIB$STATIC_CALLBACKS == null) break block2;\n            }\n            worldServiceImpl$$EnhancerByCGLIB$$81790592.CGLIB$CALLBACK_0 = (MethodInterceptor)((Callback[])object2)[0];\n        }\n    }\n\n    final boolean CGLIB$equals$1(Object object) {\n        return super.equals(object);\n    }\n\n    final void CGLIB$explode$0() {\n        super.explode();\n    }\n\n    final int CGLIB$hashCode$3() {\n        return super.hashCode();\n    }\n\n    @Override\n    public void setCallback(int n, Callback callback) {\n        switch (n) {\n            case 0: {\n                this.CGLIB$CALLBACK_0 = (MethodInterceptor)callback;\n                break;\n            }\n        }\n    }\n\n    @Override\n    public void setCallbacks(Callback[] callbackArray) {\n        Callback[] callbackArray2 = callbackArray;\n        WorldServiceImpl$$EnhancerByCGLIB$$81790592 worldServiceImpl$$EnhancerByCGLIB$$81790592 = this;\n        this.CGLIB$CALLBACK_0 = (MethodInterceptor)callbackArray[0];\n    }\n\n    public static MethodProxy CGLIB$findMethodProxy(Signature signature) {\n        String string = ((Object)signature).toString();\n        switch (string.hashCode()) {\n            case -508378822: {\n                if (!string.equals(\"clone()Ljava/lang/Object;\")) break;\n                return CGLIB$clone$4$Proxy;\n            }\n            case 1741417204: {\n                if (!string.equals(\"explode()V\")) break;\n                return CGLIB$explode$0$Proxy;\n            }\n            case 1826985398: {\n                if (!string.equals(\"equals(Ljava/lang/Object;)Z\")) break;\n                return CGLIB$equals$1$Proxy;\n            }\n            case 1913648695: {\n                if (!string.equals(\"toString()Ljava/lang/String;\")) break;\n                return CGLIB$toString$2$Proxy;\n            }\n            case 1984935277: {\n                if (!string.equals(\"hashCode()I\")) break;\n                return CGLIB$hashCode$3$Proxy;\n            }\n        }\n        return null;\n    }\n\n    final Object CGLIB$clone$4() throws CloneNotSupportedException {\n        return super.clone();\n    }\n\n    @Override\n    public Callback getCallback(int n) {\n        MethodInterceptor methodInterceptor;\n        WorldServiceImpl$$EnhancerByCGLIB$$81790592.CGLIB$BIND_CALLBACKS(this);\n        switch (n) {\n            case 0: {\n                methodInterceptor = this.CGLIB$CALLBACK_0;\n                break;\n            }\n            default: {\n                methodInterceptor = null;\n            }\n        }\n        return methodInterceptor;\n    }\n\n    public static void CGLIB$SET_STATIC_CALLBACKS(Callback[] callbackArray) {\n        CGLIB$STATIC_CALLBACKS = callbackArray;\n    }\n\n    public static void CGLIB$SET_THREAD_CALLBACKS(Callback[] callbackArray) {\n        CGLIB$THREAD_CALLBACKS.set(callbackArray);\n    }\n}\n</code></pre> <p>\u200b\u4e3b\u8981\u200b\u5173\u6ce8\u200b\u52a8\u6001\u200b\u4ee3\u7406\u200b\u540e\u200b\u7684\u200b <code>explode</code> \u200b\u65b9\u6cd5\u200b\u505a\u200b\u4e86\u200b\u4ec0\u4e48\u200b\uff1f</p> Java<pre><code>public final void explode() {\n    MethodInterceptor methodInterceptor = this.CGLIB$CALLBACK_0;\n    if (methodInterceptor == null) {\n        WorldServiceImpl$$EnhancerByCGLIB$$81790592.CGLIB$BIND_CALLBACKS(this);\n        methodInterceptor = this.CGLIB$CALLBACK_0;\n    }\n    if (methodInterceptor != null) {\n        Object object = methodInterceptor.intercept(this, CGLIB$explode$0$Method, CGLIB$emptyArgs, CGLIB$explode$0$Proxy);\n        return;\n    }\n    super.explode();\n}\n</code></pre> <p>\u200b\u9996\u5148\u200b\u83b7\u53d6\u200b <code>MethodInterceptor</code>\uff0c\u200b\u5982\u679c\u200b\u4e0d\u4e3a\u200b\u7a7a\u200b\uff0c\u200b\u5219\u200b\u8c03\u7528\u200b <code>MethodInterceptor</code> \u200b\u7684\u200b <code>intercept</code> \u200b\u65b9\u6cd5\u200b</p> <p>\u200b\u5373\u200b <code>DynamicAdvisedInterceptor</code> \u200b\u7c7b\u200b\u7684\u200b <code>intercept</code> \u200b\u65b9\u6cd5\u200b\uff0c\u200b\u6267\u884c\u200b\u52a8\u6001\u200b\u4ee3\u7406\u200b\u7684\u200b\u65b9\u6cd5\u200b</p>","tags":["spring","java"]},{"location":"blog/backend/spring/Spring%20AOP/#aop","title":"AOP \u200b\u4ee3\u7406\u200b\u5de5\u5382","text":"","tags":["spring","java"]},{"location":"blog/backend/spring/Spring%20AOP/#1","title":"1. \u200b\u6d4b\u8bd5\u4ee3\u7801","text":"Java<pre><code>@Test\npublic void testProxyFactory() {\n    // \u200b\u4f7f\u7528\u200b JDK \u200b\u52a8\u6001\u200b\u4ee3\u7406\u200b\n    advisedSupport.setProxyTargetClass(false);\n    WorldService proxy = (WorldService) new ProxyFactory(advisedSupport).getProxy();\n    proxy.explode();\n\n    // \u200b\u4f7f\u7528\u200b Cglib \u200b\u52a8\u6001\u200b\u4ee3\u7406\u200b\n    advisedSupport.setProxyTargetClass(true);\n    proxy = (WorldService) new ProxyFactory(advisedSupport).getProxy();\n    proxy.explode();\n}\n</code></pre>","tags":["spring","java"]},{"location":"blog/backend/spring/Spring%20AOP/#2-aop","title":"2. AOP \u200b\u4ee3\u7406\u200b\u5de5\u5382\u200b\u4ee3\u7801","text":"Java<pre><code>public class ProxyFactory {\n    private AdvisedSupport advisedSupport;\n\n    public ProxyFactory(AdvisedSupport advisedSupport) {\n        this.advisedSupport = advisedSupport;\n    }\n\n    public Object getProxy() {\n        return createAopProxy().getProxy();\n    }\n\n    private AopProxy createAopProxy() {\n        if (advisedSupport.isProxyTargetClass()) {\n            return new CglibAopProxy(advisedSupport);\n        }\n\n        return new JdkDynamicAopProxy(advisedSupport);\n    }\n}\n</code></pre> <p>\u200b\u6ce8\u610f\u200b\u5230\u200b\u5207\u6362\u200b <code>JDK</code> \u200b\u548c\u200b <code>Cglib</code> \u200b\u52a8\u6001\u200b\u4ee3\u7406\u200b\u4e4b\u95f4\u200b\u7684\u200b\u5173\u952e\u200b\u662f\u200b <code>AdvisedSupport</code> \u200b\u7684\u200b <code>proxyTargetClass</code> \u200b\u53c2\u6570\u200b</p> <ul> <li><code>proxyTargetClass</code> \u200b\u4e3a\u200b <code>false</code> \u200b\u4ee3\u8868\u200b\u4f7f\u7528\u200b <code>JDK</code> \u200b\u52a8\u6001\u200b\u4ee3\u7406\u200b</li> <li><code>proxyTargetClass</code> \u200b\u4e3a\u200b <code>true</code> \u200b\u4ee3\u8868\u200b\u4f7f\u7528\u200b <code>Cglib</code> \u200b\u52a8\u6001\u200b\u4ee3\u7406\u200b</li> </ul> <p>\u200b\u800c\u200b <code>AdvisedSupport</code> \u200b\u7684\u200b <code>proxyTargetClass</code> \u200b\u53c2\u6570\u200b \u200b\u9ed8\u8ba4\u503c\u200b \u200b\u4e3a\u200b <code>false</code>\uff0c\u200b\u5373\u200b\u9ed8\u8ba4\u200b\u4f7f\u7528\u200b <code>JDK</code> \u200b\u52a8\u6001\u200b\u4ee3\u7406\u200b</p>","tags":["spring","java"]},{"location":"blog/backend/spring/Spring%20AOP/#advicebeforeadviceafteradviceafterreturningadvicethrowsadvice","title":"\u51e0\u79cd\u200b\u5e38\u7528\u200b\u7684\u200bAdvice\uff1aBeforeAdvice/AfterAdvice/AfterReturningAdvice/ThrowsAdvice...","text":"<p><code>Spring</code> \u200b\u5c06\u200b <code>AOP</code> \u200b\u8054\u76df\u200b\u4e2d\u200b\u7684\u200b <code>Advice</code> \u200b\u7ec6\u5316\u200b\u51fa\u200b\u5404\u79cd\u7c7b\u578b\u200b\u7684\u200b <code>Advice</code>\uff0c\u200b\u5e38\u7528\u200b\u7684\u200b\u6709\u200b<code>BeforeAdvice/AfterAdvice/AfterReturningAdvice/ThrowsAdvice</code>\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u6269\u5c55\u200b<code>MethodInterceptor</code>\u200b\u6765\u200b\u5b9e\u73b0\u200b\u3002</p> <p>\u200b\u6d4b\u8bd5\u4ee3\u7801\u200b</p> Java<pre><code>public class WorldServiceBeforeAdvice implements MethodBeforeAdvice {\n\n    @Override\n    public void before(Method method, Object[] args, Object target) throws Throwable {\n        System.out.println(\"BeforeAdvice: do something before the earth explodes\");\n    }\n}\n</code></pre> Java<pre><code>@Test\npublic void testBeforeAdvice() throws Exception {\n    //\u200b\u8bbe\u7f6e\u200bBeforeAdvice\n    WorldServiceBeforeAdvice beforeAdvice = new WorldServiceBeforeAdvice();\n    MethodBeforeAdviceInterceptor methodInterceptor = new MethodBeforeAdviceInterceptor(beforeAdvice);\n    advisedSupport.setMethodInterceptor(methodInterceptor);\n\n    WorldService proxy = (WorldService) new ProxyFactory(advisedSupport).getProxy();\n    proxy.explode();\n}\n</code></pre> <p>\u200b\u7b80\u5355\u200b\u6765\u8bf4\u200b\uff0c\u200b\u5c31\u662f\u200b\u901a\u8fc7\u200b\u89c4\u8303\u200b <code>Interceptor</code> \u200b\u5206\u7c7b\u200b\uff0c\u200b\u6839\u636e\u200b\u9700\u8981\u200b\u7684\u200b\u4ee3\u7406\u200b\u65f6\u673a\u200b\u9009\u62e9\u200b\u5bf9\u5e94\u200b\u7684\u200b <code>Advice</code> \u200b\u548c\u200b <code>Interceptor</code> \u200b\u5373\u53ef\u200b\uff0c\u200b\u76f8\u5bf9\u200b\u7b80\u5355\u200b\uff0c\u200b\u4e0d\u8fc7\u200b\u591a\u200b\u8d58\u8ff0\u200b</p>","tags":["spring","java"]},{"location":"blog/backend/spring/Spring%20AOP/#spring-aop_1","title":"Spring AOP \u200b\u62e6\u622a\u5668\u200b\u94fe","text":"<p>\u200b\u867d\u7136\u200b\u5728\u200b\u524d\u9762\u200b\u6211\u4eec\u200b\u5b8c\u6210\u200b\u4e86\u200b\u5bf9\u200b\u65b9\u6cd5\u200b\u7684\u200b\u589e\u5f3a\u200b\uff0c\u200b\u4f46\u200b\u5e76\u200b\u4e0d\u200b\u5b8c\u7f8e\u200b\u3002\u200b\u6211\u4eec\u200b\u7684\u200b\u76ee\u524d\u200b\u7684\u200b\u4ee3\u7801\u200b\u53ea\u80fd\u200b\u652f\u6301\u200b\u5bf9\u200b\u65b9\u6cd5\u200b\u7684\u200b\u5355\u4e2a\u200b\u589e\u5f3a\u200b\u3002\u200b\u4f5c\u4e3a\u200bspring\u200b\u7684\u200b\u6838\u5fc3\u200b\u529f\u80fd\u200b\u5982\u679c\u200b\u4e0d\u200b\u652f\u6301\u200b\u591a\u200b\u5207\u9762\u200b\u7684\u8bdd\u200b\u6709\u70b9\u200b\u592a\u200b\u522b\u626d\u200b\u4e86\u200b\u3002<code>spring</code>\u200b\u5229\u7528\u200b\u4e86\u200b\u62e6\u622a\u5668\u200b\u94fe\u6765\u200b\u5b8c\u6210\u200b\u4e86\u200b\u5bf9\u200b\u591a\u4e2a\u200b\u5207\u9762\u200b\u7684\u200b\u652f\u6301\u200b\u3002</p>","tags":["spring","java"]},{"location":"blog/backend/spring/Spring%20AOP/#proxyfactory","title":"ProxyFactory","text":"<p>\u200b\u8ba9\u200b\u6211\u4eec\u200b\u4ece\u200b <code>ProxyFactory</code> \u200b\u5f00\u59cb\u200b\uff0c\u200b\u6765\u770b\u200b\u4e00\u4e0b\u200b\u4ee3\u7406\u200b\u5bf9\u8c61\u200b\u7684\u200b\u6574\u4e2a\u200b\u521b\u5efa\u200b\u6d41\u7a0b\u200b\u3002\u200b\u81f3\u4e8e\u200b\u4e3a\u4ec0\u4e48\u200b\u4ece\u200b <code>ProxyFactory</code>\u200b\u5f00\u200b\uff0c\u200b\u8fd9\u200b\u662f\u56e0\u4e3a\u200b\u4ee3\u7406\u200b\u5bf9\u8c61\u200b\u6700\u7ec8\u200b\u662f\u200b\u7528\u200b <code>ProxyFactory</code> \u200b\u7684\u200b <code>getProxy()</code> \u200b\u51fd\u6570\u200b\u6765\u200b\u83b7\u5f97\u200b\u7684\u200b\u3002</p> Java<pre><code>public class ProxyFactory extends AdvisedSupport{\n\n\n    public ProxyFactory() {\n    }\n\n    public Object getProxy() {\n        return createAopProxy().getProxy();\n    }\n\n    private AopProxy createAopProxy() {\n        if (this.isProxyTargetClass()||this.getTargetSource().getTargetClass().length==0) {\n            return new CglibAopProxy(this);\n        }\n        return new JdkDynamicAopProxy(this);\n    }\n}\n</code></pre> <p>\u200b\u4e3a\u4e86\u200b\u66f4\u200b\u8d34\u5408\u200b<code>spring</code>\u200b\u7684\u200b\u5b9e\u73b0\u200b\uff0c\u200b\u8fd9\u91cc\u200b\u66f4\u6539\u200b\u4e86\u200b <code>ProxyFactory</code> \u200b\u4f7f\u200b\u5176\u200b\u7ee7\u627f\u200b\u4e86\u200b <code>AdvisedSupport</code>\uff0c\u200b\u6b63\u5982\u200bspring\u200b\u6e90\u7801\u200b\u4e2d\u200b\u505a\u200b\u7684\u200b\u90a3\u6837\u200b\u3002</p>","tags":["spring","java"]},{"location":"blog/backend/spring/Spring%20AOP/#jdk_1","title":"\u57fa\u4e8e\u200bJDK\u200b\u52a8\u6001\u200b\u4ee3\u7406","text":"<p><code>ProxyFactory</code> \u200b\u53ea\u662f\u200b\u7b80\u5355\u200b\u7684\u200b\u505a\u200b\u4e86\u200b\u4e0b\u200b\u9009\u62e9\u200b\uff0c\u200b\u5f53\u200b\u6211\u4eec\u200b\u8bbe\u7f6e\u200b <code>proxyTargetClass</code> \u200b\u5c5e\u6027\u200b\u6216\u8005\u200b\u88ab\u200b\u4ee3\u7406\u200b\u5bf9\u8c61\u200b\u6ca1\u6709\u200b\u63a5\u53e3\u200b\u65f6\u4f1a\u200b\u8c03\u7528\u200b <code>cjlib</code> \u200b\u52a8\u6001\u200b\u4ee3\u7406\u200b\uff0c\u200b\u5426\u5219\u200b\u8c03\u7528\u200b <code>jdk</code> \u200b\u52a8\u6001\u200b\u4ee3\u7406\u200b\u3002\u200b\u4e8c\u8005\u200b\u5b9e\u73b0\u200b\u5e76\u200b\u6ca1\u6709\u200b\u592a\u200b\u5927\u200b\u533a\u522b\u200b\uff0c\u200b\u8fd9\u91cc\u200b\u53ea\u200b\u8d34\u200b\u51fa\u200bjdk\u200b\u52a8\u6001\u200b\u4ee3\u7406\u200b\u7684\u200b\u5b9e\u73b0\u200b\u3002</p> Java<pre><code>    public Object getProxy() {\n        return Proxy.newProxyInstance(getClass().getClassLoader(), advised.getTargetSource().getTargetClass(), this);\n    }\n\n    @Override\n    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\n        // \u200b\u83b7\u53d6\u200b\u76ee\u6807\u200b\u5bf9\u8c61\u200b\n        Object target=advised.getTargetSource().getTarget();\n        Class&lt;?&gt; targetClass = target.getClass();\n        Object retVal = null;\n        // \u200b\u83b7\u53d6\u200b\u62e6\u622a\u5668\u200b\u94fe\u200b\n        List&lt;Object&gt; chain = this.advised.getInterceptorsAndDynamicInterceptionAdvice(method, targetClass);\n        if(chain==null||chain.isEmpty()){\n            return method.invoke(target, args);\n        }else{\n            // \u200b\u5c06\u200b\u62e6\u622a\u5668\u200b\u7edf\u4e00\u200b\u5c01\u88c5\u200b\u6210\u200bReflectiveMethodInvocation\n            MethodInvocation invocation =\n                    new ReflectiveMethodInvocation(proxy, target, method, args, targetClass, chain);\n            // Proceed to the joinpoint through the interceptor chain.\n            // \u200b\u6267\u884c\u200b\u62e6\u622a\u5668\u200b\u94fe\u200b\n            retVal = invocation.proceed();\n        }\n        return retVal;\n    }\n</code></pre> <p>jdk\u200b\u52a8\u6001\u200b\u4ee3\u7406\u200b\u53ef\u4ee5\u200b\u5206\u4e3a\u200b\u83b7\u53d6\u200b\u62e6\u622a\u5668\u200b\u94fe\u200b\uff0c\u200b\u5c06\u200b\u62e6\u622a\u5668\u200b\u7edf\u4e00\u200b\u5c01\u88c5\u200b\u6210\u200b <code>ReflectiveMethodInvocation</code>\uff0c\u200b\u6267\u884c\u200b\u62e6\u622a\u5668\u200b\u94fe\u4e09\u200b\u90e8\u5206\u200b\u3002\u200b\u6211\u4eec\u200b\u6765\u200b\u9010\u4e00\u200b\u770b\u200b\u4e00\u4e0b\u200b\u8fd9\u4e09\u200b\u90e8\u5206\u200b\u3002</p>","tags":["spring","java"]},{"location":"blog/backend/spring/Spring%20AOP/#1_1","title":"1. \u200b\u83b7\u53d6\u200b\u62e6\u622a\u5668\u200b\u94fe","text":"<p>\u200b\u9996\u5148\u200b\u5c06\u200b\u83b7\u53d6\u200b\u5230\u200b\u6240\u6709\u200b\u4e0e\u200b\u5f53\u524d\u200b<code>method</code>\u200b\u5339\u914d\u200b\u7684\u200b<code>advice</code>(\u200b\u589e\u5f3a\u200b)\uff0c\u200b\u8ddf\u8e2a\u200b<code>getInterceptorsAndDynamicInterceptionAdvice</code>\u200b\u4ee3\u7801\u200b\uff0c\u200b\u6211\u4eec\u200b\u53d1\u73b0\u200b<code>Spring AOP</code>\u200b\u4e5f\u200b\u4f7f\u7528\u200b\u7f13\u5b58\u200b\u8fdb\u884c\u200b\u63d0\u9ad8\u200b\u6027\u80fd\u200b\uff0c\u200b\u5982\u679c\u200b\u8be5\u200b\u65b9\u6cd5\u200b\u5df2\u7ecf\u200b\u83b7\u53d6\u200b\u8fc7\u200b\u62e6\u622a\u5668\u200b\uff0c\u200b\u5219\u200b\u76f4\u63a5\u200b\u53d6\u200b\u7f13\u5b58\u200b\uff0c\u200b\u5426\u5219\u200b\u901a\u8fc7\u200b<code>advisorChainFactory</code>\u200b\u83b7\u53d6\u200b\u62e6\u622a\u5668\u200b\u94fe\u200b\u3002</p> <p><code>AdvisorChainFactory</code>\u200b\u662f\u200b\u7528\u6765\u200b\u83b7\u5f97\u200b\u62e6\u622a\u5668\u200b\u94fe\u63a5\u200b\u53e3\u200b\u3002\u200b\u5b83\u200b\u7684\u200b\u4e00\u4e2a\u200b\u5b9e\u73b0\u200b\u7c7b\u4e3a\u200b<code>DefaultAdvisorChainFactory</code></p> <p><code>AdvisedSupport#getInterceptorsAndDynamicInterceptionAdvice</code>\uff1a</p> Java<pre><code>    public List&lt;Object&gt; getInterceptorsAndDynamicInterceptionAdvice(Method method, Class&lt;?&gt; targetClass) {\n        Integer cacheKey=method.hashCode();\n        List&lt;Object&gt; cached = this.methodCache.get(cacheKey);\n        if (cached == null) {\n            cached = this.advisorChainFactory.getInterceptorsAndDynamicInterceptionAdvice(\n                    this, method, targetClass);\n            this.methodCache.put(cacheKey, cached);\n        }\n        return cached;\n    }\n</code></pre> <p></p> <p>\u200b\u63a5\u4e0b\u6765\u200b\uff0c\u200b\u5bf9\u200b<code>advisorChainFactory</code>\u200b\u83b7\u53d6\u200b\u62e6\u622a\u5668\u200b\u94fe\u200b\u8fdb\u884c\u200b\u89e3\u8bfb\u200b\u3002</p> <p>\u200b\u6574\u4f53\u200b\u4ee3\u7801\u200b\u5e76\u200b\u4e0d\u200b\u590d\u6742\u200b\uff0c\u200b\u9996\u5148\u200b\u83b7\u53d6\u200b\u6240\u6709\u200b<code>Advisor</code>(\u200b\u5207\u9762\u200b)\uff0c\u200b\u901a\u8fc7\u200b<code>pointcutAdvisor.getPointcut().getClassFilter().matches(actualClass)</code>\u200b\u6821\u9a8c\u200b\u5f53\u524d\u200b\u4ee3\u7406\u200b\u5bf9\u8c61\u200b\u662f\u5426\u200b\u5339\u914d\u200b\u8be5\u200b<code>Advisor</code>\uff0c\u200b\u518d\u200b\u901a\u8fc7\u200b<code>pointcutAdvisor.getPointcut().getMethodMatcher()</code>\u200b\u6821\u9a8c\u200b\u662f\u5426\u200b\u5339\u914d\u200b\u5f53\u524d\u200b\u8c03\u7528\u200b<code>method</code>\u3002</p> <p>\u200b\u5982\u679c\u200b\u901a\u8fc7\u200b\u6821\u9a8c\u200b\uff0c\u200b\u5219\u200b\u63d0\u53d6\u200b<code>advisor</code>\u200b\u4e2d\u200b\u7684\u200b<code>interceptors</code>\u200b\u589e\u5f3a\u200b\uff0c\u200b\u6dfb\u52a0\u200b\u5230\u200b<code>interceptorList</code>\u200b\u4e2d\u200b\u3002</p> <p>\u200b\u8fd9\u91cc\u200b\u53ef\u80fd\u200b\u6709\u200b\u8bfb\u8005\u200b\u4f1a\u200b\u7591\u60d1\u200b\uff0c\u200b\u660e\u660e\u200b\u662f\u200b\u8981\u200b\u83b7\u53d6\u200b<code>MethodInterceptor</code>\uff0c\u200b\u53ef\u200b<code>AdvisedSupport</code>\u200b\u7684\u200b<code>getAdvice()</code>\u200b\u8fd4\u56de\u200b\u7684\u200b\u662f\u200b<code>Advice</code>(\u200b\u589e\u5f3a\u200b),\u200b\u5176\u5b9e\u200b\u5982\u679c\u200b\u6211\u4eec\u200b\u70b9\u5f00\u200b<code>MethodInterceptor</code>\u200b\u7684\u200b\u6e90\u7801\u200b\uff0c\u200b\u6211\u4eec\u200b\u4f1a\u200b\u53d1\u73b0\u200b<code>MethodInterceptor</code>\u200b\u7ee7\u627f\u200b\u4e86\u200b<code>Interceptor</code>\u200b\u63a5\u53e3\u200b\uff0c\u200b\u800c\u200b<code>Interceptor</code>\u200b\u53c8\u200b\u7ee7\u627f\u200b\u4e86\u200b<code>Advice</code>\u200b\u63a5\u53e3\u200b\u3002\u200b\u56e0\u4e3a\u200b\u8fd9\u91cc\u200b\u7684\u200b<code>Advice</code>\u200b\u548c\u200b<code>MethodInterceptor</code>\u200b\u6211\u4eec\u200b\u90fd\u200b\u662f\u200b\u7528\u200b\u7684\u200b<code>AOP</code>\u200b\u8054\u76df\u200b\u7684\u200b\u63a5\u53e3\u200b\uff0c\u200b\u6240\u4ee5\u200b\u7279\u6b64\u8bf4\u660e\u200b\u4e00\u4e0b\u200b\u3002</p> <p><code>DefultAdvisorChainFactory#getInterceptorsAndDynamicInterceptionAdvice</code></p> Java<pre><code>public List&lt;Object&gt; getInterceptorsAndDynamicInterceptionAdvice(AdvisedSupport config, Method method, Class&lt;?&gt; targetClass) {\n        Advisor[] advisors = config.getAdvisors().toArray(new Advisor[0]);\n        List&lt;Object&gt; interceptorList = new ArrayList&lt;&gt;(advisors.length);\n        Class&lt;?&gt; actualClass = (targetClass != null ? targetClass : method.getDeclaringClass());\n        for (Advisor advisor : advisors) {\n            if (advisor instanceof PointcutAdvisor) {\n                // Add it conditionally.\n                PointcutAdvisor pointcutAdvisor = (PointcutAdvisor) advisor;\n                // \u200b\u6821\u9a8c\u200b\u5f53\u524d\u200bAdvisor\u200b\u662f\u5426\u200b\u9002\u7528\u200b\u4e8e\u200b\u5f53\u524d\u200b\u5bf9\u8c61\u200b\n                if (pointcutAdvisor.getPointcut().getClassFilter().matches(actualClass)) {\n                    MethodMatcher mm = pointcutAdvisor.getPointcut().getMethodMatcher();\n                    boolean match;\n                    // \u200b\u6821\u9a8c\u200bAdvisor\u200b\u662f\u5426\u200b\u5e94\u7528\u200b\u5230\u200b\u5f53\u524d\u200b\u65b9\u6cd5\u200b\u4e0a\u200b\n                    match = mm.matches(method,actualClass);\n                    if (match) {\n                        MethodInterceptor interceptor = (MethodInterceptor) advisor.getAdvice();\n                            interceptorList.add(interceptor);\n                    }\n                }\n            }\n        }\n        return interceptorList;\n    }\n</code></pre>","tags":["spring","java"]},{"location":"blog/backend/spring/Spring%20AOP/#2reflectivemethodinvocation","title":"2.\u200b\u5c06\u200b\u62e6\u622a\u5668\u200b\u5c01\u88c5\u200b\u6210\u200bReflectiveMethodInvocation","text":"<p>\u200b\u8fd9\u91cc\u200b\u4e5f\u200b\u662f\u200b\u91cd\u5199\u200b\u4e86\u200b<code>ReflectiveMethodInvocation</code>\u200b\u7684\u200b\u5b9e\u73b0\u200b\uff0c\u200b\u6765\u200b\u652f\u6301\u200b\u591a\u200b\u5207\u9762\u200b\u3002</p> Java<pre><code>    public ReflectiveMethodInvocation(Object proxy,Object target, Method method, Object[] arguments,Class&lt;?&gt; targetClass,List&lt;Object&gt; chain) {\n        this.proxy=proxy;\n        this.target = target;\n        this.method = method;\n        this.arguments = arguments;\n        this.targetClass=targetClass;\n        this.interceptorsAndDynamicMethodMatchers=chain;\n    }\n</code></pre>","tags":["spring","java"]},{"location":"blog/backend/spring/Spring%20AOP/#3","title":"3.\u200b\u6267\u884c\u200b\u62e6\u622a\u5668\u200b\u94fe","text":"<p>spring\u200b\u80fd\u591f\u200b\u4fdd\u8bc1\u200b\u591a\u4e2a\u200b\u5207\u9762\u200b\u540c\u65f6\u200b\u5339\u914d\u200b\u540c\u4e00\u200b\u65b9\u6cd5\u200b\u7684\u200b\u800c\u200b\u4e0d\u200b\u51fa\u73b0\u200b\u4e71\u5e8f\u200b\u7684\u200b\u5173\u952e\u200b\u5c31\u200b\u5728\u200b\u4e0b\u9762\u200b\u4e00\u6bb5\u200b\u4ee3\u7801\u200b\u4e86\u200b\u3002</p> <p><code>ReflectiveMethodInvocation#proceed()</code></p> Java<pre><code>    public Object proceed() throws Throwable {\n        // \u200b\u521d\u59cb\u200bcurrentInterceptorIndex\u200b\u4e3a\u200b-1\uff0c\u200b\u6bcf\u200b\u8c03\u7528\u200b\u4e00\u6b21\u200bproceed\u200b\u5c31\u200b\u628a\u200bcurrentInterceptorIndex+1\n        if (this.currentInterceptorIndex == this.interceptorsAndDynamicMethodMatchers.size() - 1) {\n            // \u200b\u5f53\u200b\u8c03\u7528\u200b\u6b21\u6570\u200b = \u200b\u62e6\u622a\u5668\u200b\u4e2a\u6570\u200b\u65f6\u200b\n            // \u200b\u89e6\u53d1\u200b\u5f53\u524d\u200bmethod\u200b\u65b9\u6cd5\u200b\n            return method.invoke(this.target, this.arguments);\n        }\n\n        Object interceptorOrInterceptionAdvice =\n                this.interceptorsAndDynamicMethodMatchers.get(++this.currentInterceptorIndex);\n        // \u200b\u666e\u901a\u200b\u62e6\u622a\u5668\u200b\uff0c\u200b\u76f4\u63a5\u200b\u89e6\u53d1\u200b\u62e6\u622a\u5668\u200binvoke\u200b\u65b9\u6cd5\u200b\n        return ((MethodInterceptor) interceptorOrInterceptionAdvice).invoke(this);\n    }\n</code></pre> <p>\u200b\u6211\u4eec\u200b\u770b\u5230\u200b\uff0c<code>MethodInvocation</code>\u200b\u53ea\u662f\u200b\u7b80\u5355\u200b\u7684\u200b\u5c06\u200b\u62e6\u622a\u5668\u200b\u94fe\u200b\u7684\u200b\u6240\u6709\u200b\u62e6\u622a\u5668\u200b\u4e00\u4e00\u200b\u6267\u884c\u200b\uff0c\u200b\u6700\u540e\u200b\u518d\u200b\u89e6\u53d1\u200b\u5f53\u524d\u200b\u7684\u200b<code>method</code>\u200b\u65b9\u6cd5\u200b\u3002</p> <p>\u200b\u8fd9\u200b\u662f\u200b\u5f88\u200b\u7b80\u5355\u200b\u9ad8\u6548\u200b\u7684\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u4f46\u200b\u95ee\u9898\u200b\u662f\u200b\u6211\u4eec\u200b\u5e0c\u671b\u200b\u67d0\u4e9b\u200b\u589e\u5f3a\u200b\u6bd4\u5982\u200b<code>AfterReturningAdvice</code>\u200b\u80fd\u591f\u200b\u5728\u200b\u65b9\u6cd5\u200b\u6267\u884c\u200b\u5b8c\u624d\u200b\u88ab\u200b\u6267\u884c\u200b\uff0c\u200b\u8fd9\u200b\u5c31\u200b\u6d89\u53ca\u200b\u5230\u200b\u4e0d\u540c\u200b\u589e\u5f3a\u200b\u7684\u200b\u6267\u884c\u200b\u987a\u5e8f\u200b\u7684\u200b\u95ee\u9898\u200b\u4e86\u200b\u3002</p> <p>\u200b\u800c\u200b<code>MethodInvocation</code>\u200b\u663e\u7136\u200b\u6ca1\u6709\u200b\u8003\u8651\u200b\u987a\u5e8f\u200b\u7684\u200b\u95ee\u9898\u200b\uff0c\u200b\u4e00\u4e2a\u200b<code>AfterReturningAdvice</code>\u200b\u5f88\u200b\u53ef\u80fd\u200b\u5728\u200b<code>BeforeAdvice</code>\u200b\u4e4b\u524d\u200b\u88ab\u200b\u8c03\u7528\u200b\u3002\u200b\u90a3\u4e48\u200b\u8be5\u200b\u5982\u4f55\u200b\u4fdd\u8bc1\u200b\u987a\u5e8f\u200b\u95ee\u9898\u200b\u5462\u200b\uff1f</p> <p>\u200b\u7b54\u6848\u200b\u662f\u200b\uff0c\u200b\u63a7\u5236\u200b\u589e\u5f3a\u200b\u7684\u200b\u8c03\u7528\u200b\u987a\u5e8f\u200b\u5176\u5b9e\u200b\u7531\u200b\u6bcf\u4e2a\u200b\u62e6\u622a\u5668\u200b\u8d1f\u8d23\u200b\uff0c\u200b\u6240\u4ee5\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u5206\u6790\u200b<code>MethodBeforeAdviceInterceptor</code>\u200b\u548c\u200b<code>AfterReturningAdviceInterceptor</code></p> Java<pre><code>public class MethodBeforeAdviceInterceptor implements MethodInterceptor, BeforeAdvice {\n\n    private MethodBeforeAdvice advice;\n\n    public MethodBeforeAdviceInterceptor() {\n    }\n\n    public MethodBeforeAdviceInterceptor(MethodBeforeAdvice advice) {\n        this.advice = advice;\n    }\n\n    public void setAdvice(MethodBeforeAdvice advice) {\n        this.advice = advice;\n    }\n\n    @Override\n    public Object invoke(MethodInvocation mi) throws Throwable {\n        this.advice.before(mi.getMethod(), mi.getArguments(), mi.getThis());\n        return mi.proceed();\n    }\n}\n</code></pre> Java<pre><code>public class AfterReturningAdviceInterceptor implements MethodInterceptor, AfterAdvice {\n\n    private AfterReturningAdvice advice;\n\n    public AfterReturningAdviceInterceptor() {\n    }\n\n    public AfterReturningAdviceInterceptor(AfterReturningAdvice advice) {\n        this.advice = advice;\n    }\n\n    @Override\n    public Object invoke(MethodInvocation methodInvocation) throws Throwable {\n       Object retVal = methodInvocation.proceed();\n       this.advice.afterReturning(retVal, methodInvocation.getMethod(), methodInvocation.getArguments(), methodInvocation.getThis());\n       return retVal;\n    }\n}\n</code></pre> <p>\u200b\u770b\u200b\u4e86\u200b\u6e90\u7801\u200b\u5927\u5bb6\u200b\u5e94\u8be5\u200b\u5c31\u200b\u6e05\u695a\u200b\u4e86\u200b\uff0c\u200b\u62e6\u622a\u5668\u200b\u94fe\u200b\u6267\u884c\u200b\u7684\u200b\u987a\u5e8f\u200b\u6b63\u65f6\u200b\u5728\u200b\u5404\u4e2a\u200b\u62e6\u622a\u5668\u200b\u7684\u200b<code>invoke</code>\u200b\u65b9\u6cd5\u200b\u4e2d\u200b\u5b9e\u73b0\u200b\u7684\u200b\u3002<code>before</code>\u200b\u4f1a\u5148\u200b\u6267\u884c\u200b<code>advice</code>\u200b\u589e\u5f3a\u200b\u65b9\u6cd5\u200b\u518d\u200b\u94fe\u5f0f\u200b\u8c03\u7528\u200b\uff0c\u200b\u800c\u200b<code>after</code>\u200b\u5219\u200b\u662f\u200b\u5148\u200b\u6267\u884c\u200b\u94fe\u5f0f\u200b\u8c03\u7528\u200b\uff0c\u200b\u518d\u200b\u8c03\u7528\u200b<code>advice</code>\u200b\u589e\u5f3a\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u4e5f\u200b\u5c31\u662f\u200b\u4e00\u4e2a\u200b\u9012\u5f52\u200b\u7684\u200b\u8fc7\u7a0b\u200b\u3002\u200b\u548c\u200b\u4e8c\u53c9\u6811\u200b\u7684\u200b\u904d\u5386\u200b\u6709\u4e9b\u200b\u5f02\u66f2\u540c\u5de5\u200b\u4e4b\u200b\u5904\u200b\u3002</p> <p></p>","tags":["spring","java"]},{"location":"blog/backend/spring/Spring%20AOP/#_1","title":"\u6d4b\u8bd5","text":"Java<pre><code>@Before\npublic void setup() {\n    WorldService worldService = new WorldServiceImpl();\n    advisedSupport = new ProxyFactory();\n    //Advisor\u200b\u662f\u200bPointcut\u200b\u548c\u200bAdvice\u200b\u7684\u200b\u7ec4\u5408\u200b\n    String expression = \"execution(* test.aop.bean.WorldService.explode(..))\";\n    AspectJExpressionPointcutAdvisor advisor = new AspectJExpressionPointcutAdvisor();\n    advisor.setExpression(expression);\n    AfterReturningAdviceInterceptor methodInterceptor = new AfterReturningAdviceInterceptor(new WorldServiceAfterReturnAdvice());\n    advisor.setAdvice(methodInterceptor);\n    TargetSource targetSource = new TargetSource(worldService);\n    advisedSupport.setTargetSource(targetSource);\n    advisedSupport.addAdvisor(advisor);\n}\n\n@Test\npublic void testBeforeAdvice() throws Exception {\n    //\u200b\u8bbe\u7f6e\u200bBeforeAdvice\n    String expression = \"execution(* test.aop.bean.WorldService.explode(..))\";\n    AspectJExpressionPointcutAdvisor advisor = new AspectJExpressionPointcutAdvisor();\n    advisor.setExpression(expression);\n    MethodBeforeAdviceInterceptor methodInterceptor = new MethodBeforeAdviceInterceptor(new WorldServiceBeforeAdvice());\n    advisor.setAdvice(methodInterceptor);\n    advisedSupport.addAdvisor(advisor);\n    ProxyFactory factory = (ProxyFactory) advisedSupport;\n    WorldService proxy = (WorldService) factory.getProxy();\n    proxy.explode();\n}\n</code></pre>","tags":["spring","java"]},{"location":"blog/backend/spring/Spring%20AOP/#pointcutadvisorpointcutadvice","title":"PointcutAdvisor\uff1aPointcut\u200b\u548c\u200bAdvice\u200b\u7684\u200b\u7ec4\u5408","text":"<p><code>Advisor</code>\u200b\u662f\u200b\u5305\u542b\u200b\u4e00\u4e2a\u200b<code>Pointcut</code>\u200b\u548c\u200b\u4e00\u4e2a\u200b<code>Advice</code>\u200b\u7684\u200b\u7ec4\u5408\u200b\uff0c<code>Pointcut</code>\u200b\u7528\u4e8e\u200b\u6355\u83b7\u200b<code>JoinPoint</code>\uff0c<code>Advice</code>\u200b\u51b3\u5b9a\u200b\u5728\u200b<code>JoinPoint</code>\u200b\u6267\u884c\u200b\u67d0\u79cd\u200b\u64cd\u4f5c\u200b\u3002\u200b\u5b9e\u73b0\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u652f\u6301\u200b<code>aspectj</code>\u200b\u8868\u8fbe\u5f0f\u200b\u7684\u200b<code>AspectJExpressionPointcutAdvisor</code>\u3002</p> Java<pre><code>public class DynamicProxyTest {\n\n    @Test\n    public void testAdvisor() throws Exception {\n        WorldService worldService = new WorldServiceImpl();\n\n        //Advisor\u200b\u662f\u200bPointcut\u200b\u548c\u200bAdvice\u200b\u7684\u200b\u7ec4\u5408\u200b\n        String expression = \"execution(* org.springframework.test.service.WorldService.explode(..))\";\n        AspectJExpressionPointcutAdvisor advisor = new AspectJExpressionPointcutAdvisor();\n        advisor.setExpression(expression);\n        MethodBeforeAdviceInterceptor methodInterceptor = new MethodBeforeAdviceInterceptor(new WorldServiceBeforeAdvice());\n        advisor.setAdvice(methodInterceptor);\n\n        ClassFilter classFilter = advisor.getPointcut().getClassFilter();\n        if (classFilter.matches(worldService.getClass())) {\n            AdvisedSupport advisedSupport = new AdvisedSupport();\n            TargetSource targetSource = new TargetSource(worldService);\n            advisedSupport.setTargetSource(targetSource);\n            advisedSupport.setMethodInterceptor((MethodInterceptor) advisor.getAdvice());\n            advisedSupport.setMethodMatcher(advisor.getPointcut().getMethodMatcher());\n//          advisedSupport.setProxyTargetClass(true);   //JDK or CGLIB\n\n            WorldService proxy = (WorldService) new ProxyFactory(advisedSupport).getProxy();\n            proxy.explode();\n        }\n    }\n}\n</code></pre>","tags":["spring","java"]},{"location":"blog/backend/spring/Spring%20AOP/#bean","title":"\u52a8\u6001\u200b\u4ee3\u7406\u200b\u878d\u5165\u200bBean\u200b\u7684\u200b\u751f\u547d\u5468\u671f","text":"<p><code>BeanPostProcessor</code>\u200b\u5904\u7406\u200b\u9636\u6bb5\u200b\u53ef\u4ee5\u200b\u4fee\u6539\u200b\u548c\u200b\u66ff\u6362\u200b<code>bean</code>\uff0c\u200b\u6b63\u597d\u200b\u53ef\u4ee5\u200b\u5728\u200b\u6b64\u200b\u9636\u6bb5\u200b\u8fd4\u56de\u200b\u4ee3\u7406\u200b\u5bf9\u8c61\u200b\u66ff\u6362\u200b\u539f\u200b\u5bf9\u8c61\u200b\u3002\u200b\u4e0d\u8fc7\u200b\u6211\u4eec\u200b\u5f15\u5165\u200b\u4e00\u79cd\u200b\u7279\u6b8a\u200b\u7684\u200b<code>BeanPostProcessor</code>\u2014\u2014<code>InstantiationAwareBeanPostProcessor</code>\uff0c\u200b\u7ec7\u5165\u200b\u903b\u8f91\u200b\u4f4d\u4e8e\u200b<code>BeanPostProcessor#postProcessAfterInitialization</code>\uff0c\u200b\u5177\u4f53\u200b\u5b9e\u73b0\u200b\u67e5\u770b\u200b<code>AbstractAutowireCapableBeanFactory#resolveBeforeInstantiation</code>\u3002</p> <p><code>DefaultAdvisorAutoProxyCreator</code>\u200b\u662f\u200b\u5904\u7406\u200b\u6a2a\u5207\u200b\u903b\u8f91\u200b\u7684\u200b\u7ec7\u5165\u200b\u8fd4\u56de\u200b\u4ee3\u7406\u200b\u5bf9\u8c61\u200b\u7684\u200b<code>InstantiationAwareBeanPostProcessor</code>\u200b\u5b9e\u73b0\u200b\u7c7b\u200b\uff0c\u200b\u5f53\u200b\u5bf9\u8c61\u200b\u5b9e\u4f8b\u200b\u5316\u200b\u65f6\u200b\uff0c\u200b\u751f\u6210\u200b\u4ee3\u7406\u200b\u5bf9\u8c61\u200b\u5e76\u200b\u8fd4\u56de\u200b\u3002</p> <p>\u200b\u81f3\u6b64\u200b\uff0cbean\u200b\u7684\u200b\u751f\u547d\u5468\u671f\u200b\u5982\u4e0b\u200b </p> <p></p> <ol> <li>\u200b\u8bfb\u53d6\u200bxml\u200b\u6587\u4ef6\u200b</li> <li>load beandefinition</li> <li>BeanFactoryProcessor \u200b\u4fee\u6539\u200b BeanDefinition</li> <li>InstantiationAwareBeanPostProcessor#postProcessBeforeInstantiation</li> <li>bean\u200b\u5b9e\u4f8b\u200b\u5316\u200b</li> <li>BeanFactoryAware(setBeanFactory, setBeanName, setBeanClassLoader)</li> <li>BeanPostProcessor\u200b\u524d\u7f6e\u200b\u5904\u7406\u200b (\u200b\u4f8b\u200b\uff1aApplicationContextAwareProcessor)</li> <li>\u200b\u6267\u884c\u200b bean \u200b\u7684\u200b\u521d\u59cb\u5316\u200b\u65b9\u6cd5\u200b<ol> <li>InitializingBean#afterPropertiesSet</li> <li>\u200b\u81ea\u5b9a\u4e49\u200b\u521d\u59cb\u5316\u200b\u65b9\u6cd5\u200binit-method</li> </ol> </li> <li>BeanPostProcessor\u200b\u540e\u7f6e\u200b\u5904\u7406\u200b(InstantiationAwareBeanPostProcessor#postProcessAfterInitialization\u200b\u521b\u5efa\u200b\u4ee3\u7406\u200b\u5bf9\u8c61\u200b\u8fd4\u56de\u200b)</li> <li>\u200b\u5982\u679c\u200b\u662f\u200bDisposableBean\u200b\u6ce8\u518c\u200b\u9500\u6bc1\u200b\u65b9\u6cd5\u200b</li> <li>\u200b\u5224\u65ad\u200bscope<ol> <li>\u200b\u5982\u679c\u200b\u662f\u200bsingleton\uff0c\u200b\u653e\u5165\u200b\u7f13\u5b58\u200b</li> <li>\u200b\u5982\u679c\u200b\u662f\u200bprototype\uff0c\u200b\u8fc7\u200b</li> </ol> </li> <li>\u200b\u4f7f\u7528\u200b</li> <li>\u200b\u6267\u884c\u200bbean\u200b\u7684\u200b\u9500\u6bc1\u200b\u65b9\u6cd5\u200b(singleton\uff09<ol> <li>DisposableBean#destroy</li> <li>\u200b\u81ea\u5b9a\u4e49\u200b\u9500\u6bc1\u200b\u65b9\u6cd5\u200bdestroy-metod</li> </ol> </li> </ol>","tags":["spring","java"]},{"location":"blog/backend/spring/Spring%20AOP/#enableaspectjautoproxy","title":"@EnableAspectJAutoProxy","text":"<p>\u200b\u5728\u200b<code>spring</code>\u200b\u4e2d\u200b\u6211\u4eec\u200b\u8981\u200b\u5f00\u542f\u200b\u81ea\u52a8\u200b\u4ee3\u7406\u200b\u7684\u200b\u529f\u80fd\u200b\u9700\u8981\u200b\u5728\u200b\u914d\u7f6e\u200b\u7c7b\u200b\u6dfb\u52a0\u200b\u5982\u4e0b\u200b\u7684\u200b\u6ce8\u89e3\u200b\uff1a</p> Java<pre><code>@EnableAspectJAutoProxy\npublic class AppConfiguration {}\n</code></pre> <p>\u200b\u5f53\u7136\u200b\u5728\u200b<code>xml</code>\u200b\u4e2d\u200b\u914d\u7f6e\u200b\u4e5f\u200b\u53ef\u200b\uff1a</p> XML<pre><code>&lt;aop:aspectj-autoproxy /&gt;\n</code></pre> <p>\u200b\u6ce8\u89e3\u200b\u6e90\u7801\u200b\u5982\u4e0b\u200b\uff1a</p> Java<pre><code>@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\n@Import(AspectJAutoProxyRegistrar.class)\npublic @interface EnableAspectJAutoProxy {\n\n    boolean proxyTargetClass() default false;\n\n    boolean exposeProxy() default false;\n\n}\n</code></pre> <p>\u200b\u5728\u200b\u8be5\u200b\u6ce8\u89e3\u200b\u4e2d\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u914d\u7f6e\u200b<code>proxyTargetClass</code>\u200b\u548c\u200b<code>exposeProxy</code>\u200b\u4e24\u4e2a\u200b\u91cd\u8981\u200b\u5c5e\u6027\u200b\uff0c\u200b\u5b83\u4eec\u200b\u5206\u522b\u200b\u63a7\u5236\u200b\u7740\u200bSpring\u200b\u5982\u4f55\u200b\u521b\u5efa\u200b\u548c\u200b\u4f7f\u7528\u200b\u4ee3\u7406\u200b\u5bf9\u8c61\u200b\u6765\u200b\u5b9e\u73b0\u200b\u5207\u9762\u200b\u529f\u80fd\u200b\u3002</p>","tags":["spring","java"]},{"location":"blog/backend/spring/Spring%20AOP/#proxytargetclass","title":"proxyTargetClass","text":"<p>\u200b\u7528\u4e8e\u200b\u6307\u793a\u200b<code>Spring AOP</code>\u200b\u5e94\u200b\u4f7f\u7528\u200b\u54ea\u200b\u79cd\u200b\u7c7b\u578b\u200b\u7684\u200b\u4ee3\u7406\u200b\u6765\u7ec7\u5165\u200b\u5207\u9762\u200b\uff1a</p> <ul> <li> <p><code>proxyTargetClass = true</code>: \u200b\u6307\u793a\u200bSpring\u200b\u4f7f\u7528\u200b<code>CGLIB</code>\u200b\u5e93\u200b\u751f\u6210\u200b\u57fa\u4e8e\u200b\u7c7b\u200b\u7684\u200b\u4ee3\u7406\u200b\u3002\u200b\u8fd9\u200b\u610f\u5473\u7740\u200bSpring\u200b\u4f1a\u200b\u521b\u5efa\u200b\u76ee\u6807\u200b\u7c7b\u200b\u7684\u200b\u5b50\u7c7b\u200b\uff0c\u200b\u5e76\u200b\u5728\u200b\u5176\u4e2d\u200b\u63d2\u5165\u200b\u5207\u9762\u200b\u903b\u8f91\u200b\u3002\u200b\u8fd9\u79cd\u200b\u4ee3\u7406\u200b\u65b9\u5f0f\u200b\u53ef\u4ee5\u200b\u62e6\u622a\u200b\u7c7b\u200b\u7684\u200b\u6240\u6709\u200b\u65b9\u6cd5\u200b\uff08\u200b\u5305\u62ec\u200b\u975e\u200b\u63a5\u53e3\u200b\u65b9\u6cd5\u200b\u548c\u200bfinal\u200b\u65b9\u6cd5\u200b\uff09\uff0c\u200b\u9002\u7528\u200b\u4e8e\u200b\u90a3\u4e9b\u200b\u6ca1\u6709\u200b\u63a5\u53e3\u200b\u6216\u8005\u200b\u9700\u8981\u200b\u5bf9\u975e\u200b\u516c\u5171\u200b\u65b9\u6cd5\u200b\u8fdb\u884c\u200b\u589e\u5f3a\u200b\u7684\u200b\u573a\u666f\u200b\u3002</p> </li> <li> <p><code>proxyTargetClass = false \u200b\u6216\u200b\u672a\u6307\u5b9a\u200b\uff08\u200b\u9ed8\u8ba4\u200b\u60c5\u51b5\u200b\uff09</code>: Spring\u200b\u5c06\u200b\u4f7f\u7528\u200b\u6807\u51c6\u200b\u7684\u200bJDK\u200b\u52a8\u6001\u200b\u4ee3\u7406\u200b\u6280\u672f\u200b\uff0c\u200b\u5373\u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u5b9e\u73b0\u200b\u4e86\u200b\u76ee\u6807\u200b\u7c7b\u200b\u6240\u6709\u200b\u63a5\u53e3\u200b\u7684\u200b\u65b0\u200b\u4ee3\u7406\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u5e76\u200b\u5728\u200b\u4ee3\u7406\u200b\u5bf9\u8c61\u200b\u7684\u200b\u65b9\u6cd5\u200b\u8c03\u7528\u200b\u4e2d\u200b\u63d2\u5165\u200b\u5207\u9762\u200b\u903b\u8f91\u200b\u3002\u200b\u8fd9\u79cd\u200b\u65b9\u5f0f\u200b\u4ec5\u80fd\u200b\u7528\u4e8e\u200b\u4ee3\u7406\u200b\u5b9e\u73b0\u200b\u4e86\u200b\u81f3\u5c11\u200b\u4e00\u4e2a\u200b\u63a5\u53e3\u200b\u7684\u200b\u76ee\u6807\u200b\u7c7b\u200b\uff0c\u200b\u4e14\u200b\u53ea\u80fd\u200b\u62e6\u622a\u200b\u901a\u8fc7\u200b\u63a5\u53e3\u200b\u58f0\u660e\u200b\u7684\u200b\u65b9\u6cd5\u200b\u3002</p> </li> </ul>","tags":["spring","java"]},{"location":"blog/backend/spring/Spring%20AOP/#exposeproxy","title":"exposeProxy","text":"<p>\u200b\u7528\u4e8e\u200b\u63a7\u5236\u200b\u4ee3\u7406\u200b\u5bf9\u8c61\u200b\u662f\u5426\u200b\u5e94\u200b\u88ab\u200b\u516c\u5f00\u200b\u7ed9\u200b\u88ab\u200b\u4ee3\u7406\u200b\u5bf9\u8c61\u200b\u7684\u200b\u5185\u90e8\u200b\u65b9\u6cd5\u200b\u8bbf\u95ee\u200b\uff1a</p> <ul> <li> <p><code>exposeProxy = true</code>: \u200b\u5f53\u200b\u8bbe\u7f6e\u200b\u4e3a\u200btrue\u200b\u65f6\u200b\uff0c<code>Spring</code>\u200b\u4f1a\u200b\u786e\u4fdd\u200b\u5728\u200bAOP\u200b\u4ee3\u7406\u200b\u5bf9\u8c61\u200b\u4e0a\u4e0b\u6587\u200b\u4e2d\u200b\uff0c\u200b\u901a\u8fc7\u200b <code>AopContext.currentProxy()</code> \u200b\u65b9\u6cd5\u200b\u80fd\u591f\u200b\u83b7\u53d6\u200b\u5230\u200b\u5f53\u524d\u200b\u6b63\u5728\u200b\u6267\u884c\u200b\u7684\u200b\u4ee3\u7406\u200b\u5bf9\u8c61\u200b\u3002 \u200b\u8fd9\u200b\u5bf9\u4e8e\u200b\u5728\u200b\u88ab\u200b\u4ee3\u7406\u200b\u5bf9\u8c61\u200b\u5185\u90e8\u200b\u9700\u8981\u200b\u8c03\u7528\u200b\u81ea\u8eab\u200b\u5176\u4ed6\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u5e76\u200b\u5e0c\u671b\u200b\u8fd9\u4e9b\u200b\u5185\u90e8\u200b\u65b9\u6cd5\u200b\u8c03\u7528\u200b\u4e5f\u200b\u80fd\u200b\u89e6\u53d1\u200b\u5207\u9762\u200b\u903b\u8f91\u200b\u7684\u200b\u60c5\u51b5\u200b\u975e\u5e38\u200b\u6709\u7528\u200b\u3002 \u200b\u4f8b\u5982\u200b\uff0c\u200b\u4e00\u4e2a\u200b\u670d\u52a1\u200b\u7c7b\u4e2d\u200b\u7684\u200b\u67d0\u4e2a\u200b\u65b9\u6cd5\u200b\u53ef\u80fd\u200b\u9700\u8981\u200b\u8c03\u7528\u200b\u53e6\u200b\u4e00\u4e2a\u200b\u79c1\u6709\u200b\u6216\u200b\u53d7\u200b\u4fdd\u62a4\u200b\u7684\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u800c\u200b\u8fd9\u200b\u4e24\u4e2a\u200b\u65b9\u6cd5\u200b\u90fd\u200b\u88ab\u200b\u540c\u4e00\u4e2a\u200b\u5207\u9762\u200b\u6240\u200b\u589e\u5f3a\u200b\u3002\u200b\u5728\u200b\u8fd9\u79cd\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c\u200b\u82e5\u200b\u4e0d\u200b\u66b4\u9732\u200b\u4ee3\u7406\u200b\uff0c\u200b\u5185\u90e8\u200b\u65b9\u6cd5\u200b\u8c03\u7528\u200b\u5c06\u200b\u4e0d\u4f1a\u200b\u7ecf\u8fc7\u200b\u5207\u9762\u200b\u5904\u7406\u200b\uff1b\u200b\u800c\u200b\u66b4\u9732\u200b\u4ee3\u7406\u200b\u540e\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b <code>AopContext.currentProxy().methodToCall()</code> \u200b\u7684\u200b\u65b9\u5f0f\u200b\u786e\u4fdd\u200b\u5185\u90e8\u200b\u65b9\u6cd5\u200b\u8c03\u7528\u200b\u4e5f\u200b\u5f97\u5230\u200b\u5207\u9762\u200b\u7684\u200b\u62e6\u622a\u200b\u3002</p> </li> <li> <p><code>exposeProxy = false \u200b\u6216\u200b\u672a\u6307\u5b9a\u200b\uff08\u200b\u9ed8\u8ba4\u200b\u60c5\u51b5\u200b\uff09</code>\uff1a \u200b\u9ed8\u8ba4\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c<code>Spring</code>\u200b\u4e0d\u4f1a\u200b\u7279\u522b\u200b\u66b4\u9732\u200b\u4ee3\u7406\u200b\u5bf9\u8c61\u200b\uff0c\u200b\u56e0\u6b64\u200b\u5728\u200b\u88ab\u200b\u4ee3\u7406\u200b\u5bf9\u8c61\u200b\u5185\u90e8\u200b\u76f4\u63a5\u200b\u901a\u8fc7\u200b <code>this</code> \u200b\u8c03\u7528\u200b\u5176\u4ed6\u200b\u65b9\u6cd5\u200b\u65f6\u200b\uff0c\u200b\u8fd9\u4e9b\u200b\u65b9\u6cd5\u200b\u8c03\u7528\u200b\u5c06\u200b\u4e0d\u4f1a\u200b\u89e6\u53d1\u200b\u5207\u9762\u200b\u903b\u8f91\u200b\uff0c\u200b\u800c\u662f\u200b\u76f4\u63a5\u200b\u8c03\u7528\u200b\u76ee\u6807\u200b\u7c7b\u200b\u7684\u200b\u539f\u59cb\u200b\u65b9\u6cd5\u200b\u3002</p> </li> </ul> <p>\u200b\u5173\u4e8e\u200b exposeProxy\uff0c\u200b\u6765\u770b\u200b\u4e00\u4e2a\u200b\u4e1a\u52a1\u200b\u4e2d\u200b\u7684\u200b\u5b9e\u9645\u200b\u4f7f\u7528\u200b\u573a\u666f\u200b (\u200b\u6211\u200b\u7684\u200b IM \u200b\u9879\u76ee\u200b\u4e2d\u200b\u7528\u5230\u200b\u4e86\u200b)</p> <p>\u200b\u4ee5\u4e0b\u200b\u662f\u200b\u4e00\u6bb5\u200b\u5904\u7406\u200b\u597d\u53cb\u200b\u7533\u8bf7\u200b\u7684\u200b\u4e1a\u52a1\u200b\u903b\u8f91\u200b</p> Java<pre><code>/**\n * \u200b\u7533\u8bf7\u200b\u597d\u53cb\u200b\n * @param uid     uid\n * @param request \u200b\u8bf7\u6c42\u200b\n * @return {@link RestBean}\n */\n@Transactional\n@Override\n@RedissonLock(key = \"#uid\")\npublic RestBean&lt;Void&gt; apply(Long uid, FriendApplyReq request) {\n    // \u200b\u4e0d\u80fd\u200b\u6dfb\u52a0\u200b\u81ea\u5df1\u200b\u4e3a\u200b\u597d\u53cb\u200b\n    if (Objects.equals(uid, request.getTargetUid())) {\n        return RestBean.failure(FriendErrorEnum.SELF_APPLY_FORBIDDEN);\n    }\n    // \u200b\u5224\u65ad\u200b\u662f\u5426\u200b\u5b58\u5728\u200b\u597d\u53cb\u200b\u5173\u7cfb\u200b\n    UserFriend isFriend = userFriendDao.getByFriend(uid, request.getTargetUid());\n    // \u200b\u5df2\u7ecf\u200b\u5b58\u5728\u200b\u597d\u53cb\u200b\u5173\u7cfb\u200b\n    if (Objects.nonNull(isFriend)) {\n        return RestBean.failure(FriendErrorEnum.ALREADY_FRIENDS);\n    }\n    // \u200b\u5224\u65ad\u200b\u662f\u5426\u200b\u5b58\u5728\u200b\u7533\u8bf7\u200b\u8bb0\u5f55\u200b \uff08\u200b\u6211\u200b -&gt; \u200b\u5bf9\u65b9\u200b\uff09 \u200b\u4e14\u200b \u200b\u7533\u8bf7\u200b\u72b6\u6001\u200b\u4e3a\u200b \u200b\u5f85\u200b\u5ba1\u6279\u200b\n    UserApply myFriendApply = userApplyDao.getFriendApply(uid, request.getTargetUid());\n    // \u200b\u5b58\u5728\u200b\u7533\u8bf7\u200b\n    if (Objects.nonNull(myFriendApply)) {\n        return RestBean.failure(FriendErrorEnum.EXISTS_FRIEND_APPLY);\n    }\n    // \u200b\u5224\u65ad\u200b\u662f\u5426\u200b\u5b58\u5728\u200b\u7533\u8bf7\u200b\u8bb0\u5f55\u200b (\u200b\u5bf9\u65b9\u200b -&gt; \u200b\u6211\u200b)\n    UserApply friendApply = userApplyDao.getFriendApply(request.getTargetUid(), uid);\n    // \u200b\u5982\u679c\u200b\u5b58\u5728\u200b\uff0c\u200b\u76f4\u63a5\u200b\u540c\u610f\u200b\n    if (Objects.nonNull(friendApply)) {\n        // \u200b\u83b7\u53d6\u200b\u5f53\u524d\u200b\u6267\u884c\u200b\u7684\u200b\u5bf9\u8c61\u200b\u7684\u200b\u4ee3\u7406\u200b\u5b9e\u4f8b\u200b(\u200b\u786e\u4fdd\u200b\u4e8b\u52a1\u200b\u6b63\u786e\u200b\u6267\u884c\u200b)\uff0c\u200b\u540c\u610f\u200b\u7533\u8bf7\u200b\n        ((FriendService) AopContext.currentProxy()).applyApprove(uid, new FriendApplyApproveReq(friendApply.getId()));\n        return RestBean.success();\n    }\n    UserApply userApply = FriendAdapter.buildFriendApply(uid, request);\n    userApplyDao.save(userApply);\n    // \u200b\u7528\u6237\u200b\u7533\u8bf7\u200b\u4e8b\u4ef6\u200b\uff0c\u200b\u5411\u200b\u5bf9\u65b9\u200b\u5f02\u6b65\u200b\u53d1\u9001\u200b\u8bf7\u6c42\u200b\u6d88\u606f\u200b\n    applicationEventPublisher.publishEvent(new UserApplyEvent(this, userApply));\n    return RestBean.success();\n}\n</code></pre> <p>\u200b\u4e3b\u8981\u200b\u5173\u6ce8\u200b\u4e1a\u52a1\u200b\u4e2d\u200b\u5904\u7406\u200b \u200b\u5982\u679c\u200b\u7533\u8bf7\u200b\u8bb0\u5f55\u200b(\u200b\u5bf9\u65b9\u200b-&gt;\u200b\u6211\u200b)\u200b\u5b58\u5728\u200b\uff0c\u200b\u5219\u200b\u76f4\u63a5\u200b\u540c\u610f\u200b\u7533\u8bf7\u200b \u200b\u7684\u200b\u5904\u7406\u200b\u903b\u8f91\u200b </p> <p>\u200b\u8fd9\u200b\u4e00\u884c\u200b\u4ee3\u7801\u200b\u7684\u200b\u6838\u5fc3\u200b\u662f\u200b\u786e\u4fdd\u200b\u4e8b\u52a1\u200b\u548c\u200b\u5176\u4ed6\u200b\u5207\u9762\u200b\u903b\u8f91\u200b\uff08\u200b\u5982\u200b <code>@Transactional</code> \u200b\u548c\u200b <code>@RedissonLock</code>\uff09\u200b\u5728\u200b\u8c03\u7528\u200b <code>applyApprove</code> \u200b\u65b9\u6cd5\u200b\u65f6\u200b\u80fd\u591f\u200b\u751f\u6548\u200b\u3002</p> <p>\u200b\u4e3a\u4ec0\u4e48\u200b\u9700\u8981\u200b\u901a\u8fc7\u200b\u4ee3\u7406\u200b\u8c03\u7528\u200b\uff1f</p> <ul> <li> <p>\u200b\u4e8b\u52a1\u200b\u4f20\u64ad\u200b\u95ee\u9898\u200b\uff1a</p> <ul> <li>\u200b\u5728\u200b Spring \u200b\u4e2d\u200b\uff0c\u200b\u5982\u679c\u200b\u7c7b\u4e2d\u200b\u7684\u200b\u4e00\u4e2a\u200b\u65b9\u6cd5\u200b\u76f4\u63a5\u200b\u8c03\u7528\u200b\u540c\u7c7b\u200b\u7684\u200b\u53e6\u200b\u4e00\u4e2a\u200b\u65b9\u6cd5\u200b\uff08\u200b\u6bd4\u5982\u200b <code>apply</code> \u200b\u8c03\u7528\u200b <code>this.applyApprove</code>\uff09\uff0cSpring \u200b\u7684\u200b\u52a8\u6001\u200b\u4ee3\u7406\u200b\u4e0d\u4f1a\u200b\u751f\u6548\u200b\u3002</li> <li>\u200b\u8fd9\u4f1a\u200b\u5bfc\u81f4\u200b <code>applyApprove</code> \u200b\u65b9\u6cd5\u200b\u4e0a\u200b\u7684\u200b\u4e8b\u52a1\u200b\u6ce8\u89e3\u200b <code>@Transactional</code> \u200b\u88ab\u200b\u5ffd\u7565\u200b\uff0c\u200b\u4e8b\u52a1\u200b\u529f\u80fd\u200b\u5931\u6548\u200b\u3002</li> </ul> </li> <li> <p>\u200b\u4ee3\u7406\u200b\u89e3\u51b3\u65b9\u6848\u200b\uff1a</p> <ul> <li>\u200b\u4f7f\u7528\u200b <code>AopContext.currentProxy()</code> \u200b\u83b7\u53d6\u200b\u5f53\u524d\u200b\u7c7b\u200b\u7684\u200b\u4ee3\u7406\u200b\u5bf9\u8c61\u200b\u3002</li> <li>\u200b\u901a\u8fc7\u200b\u4ee3\u7406\u200b\u5bf9\u8c61\u200b\u8c03\u7528\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u4fdd\u8bc1\u200b\u4e8b\u52a1\u200b\u548c\u200b\u5207\u9762\u200b\u903b\u8f91\u200b\u751f\u6548\u200b\u3002</li> </ul> </li> </ul>","tags":["spring","java"]},{"location":"blog/backend/spring/Spring%20AOP/#aop_1","title":"AOP \u200b\u751f\u6210\u200b\u4ee3\u7406\u200b\u7684\u200b\u4e09\u4e2a\u200b\u65f6\u673a","text":"","tags":["spring","java"]},{"location":"blog/backend/spring/Spring%20AOP/#beforeinstantiation","title":"\u5b9e\u4f8b\u200b\u5316\u524d\u200b(BeforeInstantiation)","text":"<p>\u200b\u8bb2\u9053\u7406\u200b\u4e00\u822c\u200b\u4e0d\u7528\u200b</p> <p>\u200b\u5177\u4f53\u200b\u65f6\u673a\u200b\u5728\u200b <code>createBean</code> \u200b\u65b9\u6cd5\u200b\u4e0a\u534a\u200b\u90e8\u5206\u200b <code>#resolveBeforeInstantiation</code>\uff0c\u200b\u5982\u679c\u200b <code>Bean</code> \u200b\u5728\u200b \u200b\u5b9e\u4f8b\u200b\u5316\u524d\u200b \u200b\u88ab\u200b\u52a8\u6001\u200b\u4ee3\u7406\u200b\u4e86\u200b\uff0c\u200b\u5224\u65ad\u200b <code>Bean</code> \u200b\u662f\u5426\u200b\u4e3a\u200b <code>null</code>\uff0c\u200b\u5982\u679c\u200b\u4e0d\u200b\u4e3a\u200b <code>null</code>\uff0c\u200b\u5219\u200b\u77ed\u8def\u200b\u5e76\u200b\u76f4\u63a5\u200b\u8fd4\u56de\u200b</p> <p>\u200b\u65e0\u200b\u4ee3\u7406\u200b\u5219\u200b\u8fdb\u5165\u200b\u4e0b\u200b\u534a\u200b\u90e8\u5206\u200b <code>doCreateBean</code></p> Java<pre><code>/**\n * Apply before-instantiation post-processors, resolving whether there is a\n * before-instantiation shortcut for the specified bean.\n * @param beanName the name of the bean\n * @param mbd the bean definition for the bean\n * @return the shortcut-determined bean instance, or {@code null} if none\n */\n@SuppressWarnings(\"deprecation\")\n@Nullable\nprotected Object resolveBeforeInstantiation(String beanName, RootBeanDefinition mbd) {\n    Object bean = null;\n    if (!Boolean.FALSE.equals(mbd.beforeInstantiationResolved)) {\n        // Make sure bean class is actually resolved at this point.\n        if (!mbd.isSynthetic() &amp;&amp; hasInstantiationAwareBeanPostProcessors()) {\n            Class&lt;?&gt; targetType = determineTargetType(beanName, mbd);\n            if (targetType != null) {\n                bean = applyBeanPostProcessorsBeforeInstantiation(targetType, beanName);\n                if (bean != null) {\n                    bean = applyBeanPostProcessorsAfterInitialization(bean, beanName);\n                }\n            }\n        }\n        mbd.beforeInstantiationResolved = (bean != null);\n    }\n    return bean;\n}\n</code></pre> Java<pre><code>@Override\npublic Object postProcessBeforeInstantiation(Class&lt;?&gt; beanClass, String beanName) {\n    // \u200b\u7f13\u5b58\u200b\u4ee3\u7406\u200b\n    Object cacheKey = getCacheKey(beanClass, beanName);\n\n    if (!StringUtils.hasLength(beanName) || !this.targetSourcedBeans.contains(beanName)) {\n        if (this.advisedBeans.containsKey(cacheKey)) {\n            return null;\n        }\n        if (isInfrastructureClass(beanClass) || shouldSkip(beanClass, beanName)) {\n            this.advisedBeans.put(cacheKey, Boolean.FALSE);\n            return null;\n        }\n    }\n\n    // \u200b\u5982\u679c\u200b\u6211\u4eec\u200b\u6709\u200b\u4e00\u4e2a\u200b\u81ea\u5b9a\u4e49\u200b\u7684\u200bTargetSource\uff0c\u200b\u5728\u200b\u8fd9\u91cc\u200b\u521b\u5efa\u200b\u4ee3\u7406\u200b\u3002\n    // \u200b\u6291\u5236\u200b\u76ee\u6807\u200bbean\u200b\u9ed8\u8ba4\u200b\u7684\u200b\u5b9e\u4f8b\u200b\u5316\u200b\u8fc7\u7a0b\u200b\uff0c\u200b\u5c31\u662f\u8bf4\u200b\u6709\u200b\u8fd9\u4e2a\u200b\u914d\u7f6e\u200b\u5c31\u200b\u4e0d\u4f1a\u200b\u6309\u7167\u200b\u539f\u6709\u200b\u7684\u200b\u65b9\u5f0f\u200b\u8fdb\u884c\u200b\u5b9e\u4f8b\u200b\u5316\u200b\u4e86\u200b\n    // TargetSource\u200b\u5c06\u200b\u4ee5\u200b\u81ea\u5b9a\u4e49\u200b\u65b9\u5f0f\u200b\u5904\u7406\u200b\u76ee\u6807\u200b\u5b9e\u4f8b\u200b\u3002\n    TargetSource targetSource = getCustomTargetSource(beanClass, beanName);\n    if (targetSource != null) {\n        if (StringUtils.hasLength(beanName)) {\n            this.targetSourcedBeans.add(beanName);\n        }\n        Object[] specificInterceptors = getAdvicesAndAdvisorsForBean(beanClass, beanName, targetSource);\n        Object proxy = createProxy(beanClass, beanName, specificInterceptors, targetSource);\n        this.proxyTypes.put(cacheKey, proxy.getClass());\n        return proxy;\n    }\n\n    return null;\n}\n</code></pre>","tags":["spring","java"]},{"location":"blog/backend/spring/Spring%20AOP/#afterinitialization","title":"\u521d\u59cb\u5316\u200b\u540e\u200b(AfterInitialization)","text":"<p>\u200b\u5177\u4f53\u200b\u65f6\u673a\u200b\u5728\u200b <code>Bean</code> \u200b\u5b9e\u4f8b\u200b\u5316\u200b\u4e4b\u540e\u200b\uff0c\u200b\u586b\u5145\u200b\u5c5e\u6027\u200b\u5b8c\u6bd5\u200b\u4e4b\u540e\u200b\uff0c\u200b\u5728\u200b\u8c03\u7528\u200b <code>initializeBean</code> \u200b\u65b9\u6cd5\u200b\u4e2d\u200b\u7684\u200b\u5b50\u200b\u65b9\u6cd5\u200b <code>applyBeanPostProcessorsAfterInitialization</code>, \u200b\u5373\u200b BeanPostProcessor\u200b\u7684\u200b\u540e\u7f6e\u200b\u65b9\u6cd5\u200b</p> <p>\u200b\u539f\u7406\u200b\u53ef\u4ee5\u200b\u770b\u200b\u4ee5\u4e0b\u200b\u8fd9\u4e2a\u200b\u7c7b\u56fe\u200b\uff0cAOP\u200b\u4ee3\u7406\u200b\u7684\u200b\u6838\u5fc3\u200b\u7c7b\u200b <code>AutoProxyCreator</code> \u200b\u5747\u200b\u5b9e\u73b0\u200b\u4e86\u200b <code>BeanPostProcessor</code> \u200b\u8fd9\u4e2a\u200b\u63a5\u53e3\u200b</p> <p></p> Java<pre><code>/**\n * Create a proxy with the configured interceptors if the bean is\n * identified as one to proxy by the subclass.\n * @see #getAdvicesAndAdvisorsForBean\n */\n@Override\n@Nullable\npublic Object postProcessAfterInitialization(@Nullable Object bean, String beanName) {\n    if (bean != null) {\n        Object cacheKey = getCacheKey(bean.getClass(), beanName);\n        if (this.earlyBeanReferences.remove(cacheKey) != bean) {\n            return wrapIfNecessary(bean, beanName, cacheKey);\n        }\n    }\n    return bean;\n}\n</code></pre>","tags":["spring","java"]},{"location":"blog/backend/spring/Spring%20AOP/#_2","title":"\u5faa\u574f\u200b\u4f9d\u8d56","text":"<p>\u200b\u5982\u679c\u200b\u5f00\u542f\u200b\u4e86\u200b\u5faa\u73af\u200b\u5f15\u7528\u200b\uff0c\u200b\u5728\u200b\u5b58\u5728\u200b\u5faa\u73af\u200b\u5f15\u7528\u200b\u95ee\u9898\u200b\u65f6\u200b\uff0c\u200b\u4ece\u200b\u4e09\u7ea7\u200b\u7f13\u5b58\u200b\u83b7\u53d6\u200b\u4e00\u4e2a\u200bbean\u200b\u7684\u200b\u4ee3\u7406\u200b\u5bf9\u8c61\u200b\u7684\u200b\u65e9\u671f\u200b\u5f15\u7528\u200b\u7684\u200b\u65f6\u5019\u200b\u53ef\u80fd\u200b\u4e3a\u200b\u5176\u200b\u751f\u6210\u200b\u4ee3\u7406\u200b\uff0c\u200b\u5b9e\u73b0\u200b\u7684\u200b\u903b\u8f91\u200b\u548c\u200b\u4e0a\u8fb9\u200b\u4e00\u6837\u200b</p> <p>\u200b\u5728\u200b <code>doCreateBean</code> \u200b\u65b9\u6cd5\u200b\u4e2d\u200b</p> Java<pre><code>// \u200b\u5904\u7406\u200b\u5faa\u73af\u200b\u4f9d\u8d56\u200b\uff0c\u200b\u5c06\u200b\u5b9e\u4f8b\u200b\u5316\u540e\u200b\u7684\u200bBean\u200b\u5bf9\u8c61\u200b\u63d0\u524d\u200b\u653e\u5165\u200b\u7f13\u5b58\u200b\u4e2d\u200b\u66b4\u9732\u200b\u51fa\u6765\u200b\nif (beanDefinition.isSingleton()) {\n    Object finalBean = bean;\n    addSingletonFactory(beanName, () -&gt; getEarlyBeanReference(beanName, beanDefinition, finalBean));\n}\n</code></pre> Java<pre><code>protected Object getEarlyBeanReference(String beanName, BeanDefinition beanDefinition, Object bean) {\n    Object exposedObject = bean;\n    for (BeanPostProcessor beanPostProcessor : getBeanPostProcessors()) {\n        if (beanPostProcessor instanceof InstantiationAwareBeanPostProcessor) {\n            exposedObject = ((InstantiationAwareBeanPostProcessor) beanPostProcessor).getEarlyBeanReference(exposedObject, beanName);\n            if (null == exposedObject) return exposedObject;\n        }\n    }\n</code></pre> Java<pre><code>@Override\npublic Object getEarlyBeanReference(Object bean, String beanName) {\n    earlyProxyReferences.add(beanName);\n    return wrapIfNecessary(bean, beanName);\n}\n</code></pre>","tags":["spring","java"]},{"location":"blog/backend/spring/Spring%20IOC/","title":"Spring IOC \u200b\u5bb9\u5668","text":"<p> \u200b\u7ea6\u200b 953 \u200b\u4e2a\u200b\u5b57\u200b  29 \u200b\u884c\u200b\u4ee3\u7801\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b 4 \u200b\u5206\u949f\u200b</p>","tags":["spring","java"]},{"location":"blog/backend/spring/Spring%20IOC/#1-ioc","title":"1. \u200b\u4ec0\u4e48\u200b\u662f\u200b IOC\uff1f","text":"<p>IOC\uff08Inversion of Control\uff0c\u200b\u63a7\u5236\u200b\u53cd\u8f6c\u200b\uff09\u200b\u662f\u200b\u4e00\u79cd\u200b\u8bbe\u8ba1\u200b\u601d\u60f3\u200b\uff0c\u200b\u5e7f\u6cdb\u5e94\u7528\u200b\u4e8e\u200b\u73b0\u4ee3\u200b\u6846\u67b6\u200b\u4e2d\u200b\uff0c\u200b\u7279\u522b\u200b\u662f\u200b Spring\u3002IOC \u200b\u7684\u200b\u6838\u5fc3\u7406\u5ff5\u200b\u662f\u200b\u901a\u8fc7\u200b\u5bb9\u5668\u200b\u7ba1\u7406\u200b\u5bf9\u8c61\u200b\u7684\u200b\u521b\u5efa\u200b\u548c\u200b\u4f9d\u8d56\u200b\u5173\u7cfb\u200b\uff0c\u200b\u4ece\u800c\u200b\u5b9e\u73b0\u200b\u5e94\u7528\u7a0b\u5e8f\u200b\u7684\u200b\u89e3\u200b\u8026\u200b\u3002</p>","tags":["spring","java"]},{"location":"blog/backend/spring/Spring%20IOC/#11","title":"1.1 \u200b\u63a7\u5236\u200b\u4e0e\u200b\u53cd\u8f6c","text":"<ul> <li>\u200b\u63a7\u5236\u200b\uff1a\u200b\u63a7\u5236\u200b\u7684\u200b\u662f\u200b\u5bf9\u8c61\u200b\u7684\u200b\u521b\u5efa\u200b\u8fc7\u7a0b\u200b\u548c\u200b\u4f9d\u8d56\u200b\u7684\u200b\u7ba1\u7406\u200b\u3002</li> <li>\u200b\u53cd\u8f6c\u200b\uff1a\u200b\u53cd\u8f6c\u200b\u7684\u200b\u662f\u200b\u5bf9\u8c61\u200b\u521b\u5efa\u200b\u7684\u200b\u63a7\u5236\u6743\u200b\uff0c\u200b\u7531\u200b\u7a0b\u5e8f\u5458\u200b\u624b\u52a8\u200b\u521b\u5efa\u5bf9\u8c61\u200b\uff0c\u200b\u8f6c\u53d8\u200b\u4e3a\u200b\u7531\u200b\u5bb9\u5668\u200b\u81ea\u52a8\u200b\u521b\u5efa\u200b\u548c\u200b\u7ba1\u7406\u200b\u3002</li> </ul>","tags":["spring","java"]},{"location":"blog/backend/spring/Spring%20IOC/#12-di","title":"1.2 \u200b\u4f9d\u8d56\u200b\u6ce8\u5165\u200b\uff08DI\uff09","text":"<p>IOC \u200b\u7684\u200b\u5177\u4f53\u200b\u5b9e\u73b0\u200b\u65b9\u5f0f\u200b\u662f\u200b \u200b\u4f9d\u8d56\u200b\u6ce8\u5165\u200b\uff08Dependency Injection, DI\uff09\uff1a</p> <ul> <li>\u200b\u4f9d\u8d56\u200b\uff1a\u200b\u6307\u200b\u4e00\u4e2a\u200b\u5bf9\u8c61\u200b\u9700\u8981\u200b\u53e6\u200b\u4e00\u4e2a\u200b\u5bf9\u8c61\u200b\u6765\u200b\u5b8c\u6210\u200b\u5176\u200b\u529f\u80fd\u200b\u3002</li> <li>\u200b\u6ce8\u5165\u200b\uff1a\u200b\u5bb9\u5668\u200b\u8d1f\u8d23\u200b\u5c06\u200b\u4f9d\u8d56\u200b\u6ce8\u5165\u200b\u5230\u200b\u5bf9\u8c61\u200b\u4e2d\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u7531\u200b\u5bf9\u8c61\u200b\u81ea\u5df1\u200b\u53bb\u200b\u5bfb\u627e\u200b\u4f9d\u8d56\u200b\u3002</li> </ul>","tags":["spring","java"]},{"location":"blog/backend/spring/Spring%20IOC/#2-ioc","title":"2. \u200b\u4e3a\u4ec0\u4e48\u200b\u9700\u8981\u200b IOC\uff1f","text":"","tags":["spring","java"]},{"location":"blog/backend/spring/Spring%20IOC/#21","title":"2.1 \u200b\u4f20\u7edf\u200b\u5f00\u53d1\u200b\u4e2d\u200b\u7684\u200b\u95ee\u9898","text":"<p>\u200b\u5728\u200b\u4f20\u7edf\u200b\u5f00\u53d1\u200b\u4e2d\u200b\uff0c\u200b\u7a0b\u5e8f\u5458\u200b\u9700\u8981\u200b\u81ea\u5df1\u200b\u624b\u52a8\u200b\u521b\u5efa\u200b\u548c\u200b\u7ba1\u7406\u200b\u5bf9\u8c61\u200b\uff1a</p> <ul> <li>\u200b\u5bf9\u8c61\u200b\u4e4b\u95f4\u200b\u7684\u200b\u5f3a\u200b\u8026\u5408\u200b\u5bfc\u81f4\u7cfb\u7edf\u200b\u96be\u4ee5\u200b\u7ef4\u62a4\u200b\u548c\u200b\u6269\u5c55\u200b\u3002</li> <li>\u200b\u5bf9\u8c61\u200b\u4f9d\u8d56\u200b\u7684\u200b\u521b\u5efa\u200b\u903b\u8f91\u200b\u5206\u6563\u200b\uff0c\u200b\u5bfc\u81f4\u200b\u4ee3\u7801\u200b\u5197\u4f59\u200b\u3002</li> <li>\u200b\u96be\u4ee5\u200b\u5355\u5143\u6d4b\u8bd5\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u4f9d\u8d56\u200b\u5173\u7cfb\u200b\u9690\u85cf\u200b\u5728\u200b\u4ee3\u7801\u200b\u4e2d\u200b\u3002</li> </ul>","tags":["spring","java"]},{"location":"blog/backend/spring/Spring%20IOC/#22-ioc","title":"2.2 IOC \u200b\u7684\u200b\u4f18\u52bf","text":"<ul> <li>\u200b\u89e3\u200b\u8026\u200b\uff1a\u200b\u901a\u8fc7\u200b\u4f9d\u8d56\u200b\u6ce8\u5165\u200b\u5b9e\u73b0\u200b\u6a21\u5757\u200b\u95f4\u200b\u7684\u200b\u4f4e\u200b\u8026\u5408\u200b\u3002</li> <li>\u200b\u7edf\u4e00\u200b\u7ba1\u7406\u200b\uff1a\u200b\u7531\u200b\u5bb9\u5668\u200b\u96c6\u4e2d\u7ba1\u7406\u200b\u5bf9\u8c61\u200b\u7684\u200b\u751f\u547d\u5468\u671f\u200b\u548c\u200b\u4f9d\u8d56\u200b\u5173\u7cfb\u200b\u3002</li> <li>\u200b\u6613\u200b\u6d4b\u8bd5\u200b\uff1a\u200b\u901a\u8fc7\u200b\u6ce8\u5165\u200b Mock \u200b\u5bf9\u8c61\u200b\uff0c\u200b\u65b9\u4fbf\u200b\u5355\u5143\u6d4b\u8bd5\u200b\u3002</li> <li>\u200b\u7075\u6d3b\u200b\u6269\u5c55\u200b\uff1a\u200b\u9ad8\u5c42\u200b\u6a21\u5757\u200b\u4e0d\u200b\u4f9d\u8d56\u200b\u5177\u4f53\u200b\u5b9e\u73b0\u200b\uff0c\u200b\u4fbf\u4e8e\u200b\u66ff\u6362\u200b\u6216\u200b\u6269\u5c55\u200b\u529f\u80fd\u200b\u3002</li> </ul>","tags":["spring","java"]},{"location":"blog/backend/spring/Spring%20IOC/#3-spring-ioc","title":"3. Spring IOC \u200b\u5bb9\u5668\u200b\u7684\u200b\u5de5\u4f5c\u200b\u539f\u7406","text":"","tags":["spring","java"]},{"location":"blog/backend/spring/Spring%20IOC/#31","title":"3.1 \u200b\u5bb9\u5668\u200b\u7684\u200b\u5b9a\u4e49","text":"<p>Spring \u200b\u7684\u200b IOC \u200b\u5bb9\u5668\u200b\u662f\u200b\u4e00\u4e2a\u200b Bean \u200b\u5de5\u5382\u200b\uff1a</p> <ul> <li>\u200b\u5b83\u200b\u662f\u200b\u4e00\u4e2a\u200b\u7ba1\u7406\u200b Bean \u200b\u5b9a\u4e49\u200b\u548c\u200b\u751f\u547d\u5468\u671f\u200b\u7684\u200b\u6846\u67b6\u200b\u3002</li> <li>\u200b\u5bb9\u5668\u200b\u5728\u200b\u542f\u52a8\u200b\u65f6\u4f1a\u200b\u6839\u636e\u200b\u914d\u7f6e\u200b\u52a0\u8f7d\u200b Bean \u200b\u7684\u200b\u5b9a\u4e49\u200b\uff0c\u200b\u5e76\u200b\u8d1f\u8d23\u200b\u521b\u5efa\u200b\u3001\u200b\u521d\u59cb\u5316\u200b\u548c\u200b\u7ba1\u7406\u200b\u8fd9\u4e9b\u200b Bean\u3002</li> </ul>","tags":["spring","java"]},{"location":"blog/backend/spring/Spring%20IOC/#32-bean","title":"3.2 Bean \u200b\u7684\u200b\u751f\u547d\u5468\u671f","text":"<ol> <li>\u200b\u5b9a\u4e49\u200b\uff1a\u200b\u901a\u8fc7\u200b XML \u200b\u6587\u4ef6\u200b\u3001\u200b\u6ce8\u89e3\u200b\u6216\u200b Java \u200b\u914d\u7f6e\u200b\u7c7b\u200b\u5b9a\u4e49\u200b Bean\u3002</li> <li>\u200b\u5b9e\u4f8b\u200b\u5316\u200b\uff1a\u200b\u5bb9\u5668\u200b\u5728\u200b\u542f\u52a8\u200b\u65f6\u200b\u6839\u636e\u200b\u5b9a\u4e49\u200b\u521b\u5efa\u200b Bean \u200b\u5b9e\u4f8b\u200b\u3002</li> <li>\u200b\u4f9d\u8d56\u200b\u6ce8\u5165\u200b\uff1a\u200b\u5bb9\u5668\u200b\u5c06\u200b\u4f9d\u8d56\u200b\u6ce8\u5165\u200b\u5230\u200b Bean \u200b\u4e2d\u200b\u3002</li> <li>\u200b\u521d\u59cb\u5316\u200b\uff1a\u200b\u8c03\u7528\u200b\u521d\u59cb\u5316\u200b\u65b9\u6cd5\u200b\uff08\u200b\u5982\u200b <code>@PostConstruct</code>\uff09\u3002</li> <li>\u200b\u4f7f\u7528\u200b\uff1aBean \u200b\u51c6\u5907\u5c31\u7eea\u200b\uff0c\u200b\u53ef\u200b\u88ab\u200b\u5e94\u7528\u7a0b\u5e8f\u200b\u4f7f\u7528\u200b\u3002</li> <li>\u200b\u9500\u6bc1\u200b\uff1a\u200b\u5bb9\u5668\u200b\u5173\u95ed\u200b\u65f6\u200b\uff0c\u200b\u8c03\u7528\u200b\u9500\u6bc1\u200b\u65b9\u6cd5\u200b\uff08\u200b\u5982\u200b <code>@PreDestroy</code>\uff09\u3002</li> </ol>","tags":["spring","java"]},{"location":"blog/backend/spring/Spring%20IOC/#33","title":"3.3 \u200b\u5355\u4f8b\u200b\u4e0e\u200b\u4f5c\u7528\u57df","text":"<ul> <li>\u200b\u5355\u4f8b\u200b\u4f5c\u7528\u57df\u200b\uff08\u200b\u9ed8\u8ba4\u200b\uff09\uff1a\u200b\u5bb9\u5668\u200b\u53ea\u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b Bean \u200b\u5b9e\u4f8b\u200b\uff0c\u200b\u6240\u6709\u200b\u8bf7\u6c42\u200b\u5171\u4eab\u200b\u8be5\u200b\u5b9e\u4f8b\u200b\u3002</li> <li>\u200b\u5176\u4ed6\u200b\u4f5c\u7528\u57df\u200b\uff1a\u200b\u5982\u200b\u539f\u578b\u200b\u4f5c\u7528\u57df\u200b\uff08\u200b\u6bcf\u6b21\u200b\u8bf7\u6c42\u200b\u521b\u5efa\u200b\u65b0\u200b\u5b9e\u4f8b\u200b\uff09\u3001\u200b\u4f1a\u8bdd\u200b\u4f5c\u7528\u57df\u200b\u3001\u200b\u8bf7\u6c42\u200b\u4f5c\u7528\u57df\u200b\u7b49\u200b\u3002</li> </ul>","tags":["spring","java"]},{"location":"blog/backend/spring/Spring%20IOC/#4-ioc-dip","title":"4. IOC \u200b\u4e0e\u200b\u4f9d\u8d56\u200b\u5012\u7f6e\u200b\u539f\u5219\u200b\uff08DIP\uff09","text":"","tags":["spring","java"]},{"location":"blog/backend/spring/Spring%20IOC/#41","title":"4.1 \u200b\u4ec0\u4e48\u200b\u662f\u200b\u4f9d\u8d56\u200b\u5012\u7f6e\u200b\u539f\u5219\u200b\uff1f","text":"<p>\u200b\u4f9d\u8d56\u200b\u5012\u7f6e\u200b\u539f\u5219\u200b\uff08Dependency Inversion Principle, DIP\uff09 \u200b\u662f\u200b\u9762\u5411\u5bf9\u8c61\u200b\u8bbe\u8ba1\u200b\u4e2d\u200b\u7684\u200b\u91cd\u8981\u200b\u539f\u5219\u200b\uff1a</p> <ul> <li>\u200b\u9ad8\u5c42\u200b\u6a21\u5757\u200b\u4e0d\u200b\u4f9d\u8d56\u4e8e\u200b\u4f4e\u5c42\u200b\u6a21\u5757\u200b\uff0c\u200b\u800c\u662f\u200b\u4f9d\u8d56\u4e8e\u200b\u62bd\u8c61\u200b\u63a5\u53e3\u200b\u3002</li> <li>\u200b\u4f4e\u5c42\u200b\u6a21\u5757\u200b\u5b9e\u73b0\u200b\u62bd\u8c61\u200b\u63a5\u53e3\u200b\u3002</li> </ul>","tags":["spring","java"]},{"location":"blog/backend/spring/Spring%20IOC/#42-ioc-dip","title":"4.2 IOC \u200b\u5982\u4f55\u200b\u5b9e\u73b0\u200b DIP\uff1f","text":"<p>Spring \u200b\u7684\u200b IOC \u200b\u5bb9\u5668\u200b\u5929\u7136\u200b\u652f\u6301\u200b\u4f9d\u8d56\u200b\u5012\u7f6e\u200b\u539f\u5219\u200b\uff1a</p> <ul> <li>\u200b\u9ad8\u5c42\u200b\u6a21\u5757\u200b\u53ea\u200b\u4f9d\u8d56\u200b\u63a5\u53e3\u200b\uff08\u200b\u62bd\u8c61\u200b\uff09\u3002</li> <li>\u200b\u5177\u4f53\u200b\u5b9e\u73b0\u200b\u7531\u200b\u5bb9\u5668\u200b\u6ce8\u5165\u200b\u5230\u200b\u9ad8\u5c42\u200b\u6a21\u5757\u200b\u4e2d\u200b\u3002</li> <li>\u200b\u901a\u8fc7\u200b\u8fd9\u79cd\u200b\u65b9\u5f0f\u200b\uff0c\u200b\u5b9e\u73b0\u200b\u6a21\u5757\u200b\u4e4b\u95f4\u200b\u7684\u200b\u89e3\u200b\u8026\u200b\u3002</li> </ul>","tags":["spring","java"]},{"location":"blog/backend/spring/Spring%20IOC/#5-ioc","title":"5. \u200b\u793a\u4f8b\u200b\uff1a\u200b\u4ece\u200b\u4ee3\u7801\u200b\u89d2\u5ea6\u200b\u7406\u89e3\u200b IOC","text":"","tags":["spring","java"]},{"location":"blog/backend/spring/Spring%20IOC/#51","title":"5.1 \u200b\u4f20\u7edf\u200b\u5b9e\u73b0","text":"Java<pre><code>public class UserService {\n    private UserRepository userRepository = new UserRepository(); // \u200b\u624b\u52a8\u200b\u521b\u5efa\u5bf9\u8c61\u200b\n\n    public void registerUser(User user) {\n        userRepository.save(user);\n    }\n}\n</code></pre> <p>\u200b\u95ee\u9898\u200b\uff1a</p> <ul> <li><code>UserService</code> \u200b\u548c\u200b <code>UserRepository</code> \u200b\u5f3a\u200b\u8026\u5408\u200b\u3002</li> <li>\u200b\u66f4\u6362\u200b <code>UserRepository</code> \u200b\u7684\u200b\u5b9e\u73b0\u200b\u65f6\u200b\uff0c\u200b\u9700\u8981\u200b\u4fee\u6539\u200b\u4ee3\u7801\u200b\u3002</li> </ul>","tags":["spring","java"]},{"location":"blog/backend/spring/Spring%20IOC/#52-ioc","title":"5.2 IOC \u200b\u5b9e\u73b0","text":"<p>\u200b\u5b9a\u4e49\u200b\u63a5\u53e3\u200b\u548c\u200b\u5b9e\u73b0\u200b</p> Java<pre><code>public interface UserRepository {\n    void save(User user);\n}\n\npublic class JdbcUserRepository implements UserRepository {\n    public void save(User user) {\n        // \u200b\u4f7f\u7528\u200b JDBC \u200b\u4fdd\u5b58\u200b\u7528\u6237\u200b\n    }\n}\n</code></pre> <p>\u200b\u4f9d\u8d56\u200b\u6ce8\u5165\u200b</p> Java<pre><code>@Service\npublic class UserService {\n    private final UserRepository userRepository;\n\n    @Autowired\n    public UserService(UserRepository userRepository) {\n        this.userRepository = userRepository; // \u200b\u5bb9\u5668\u200b\u6ce8\u5165\u200b\u5177\u4f53\u200b\u5b9e\u73b0\u200b\n    }\n\n    public void registerUser(User user) {\n        userRepository.save(user);\n    }\n}\n</code></pre> <p>\u200b\u4f18\u52bf\u200b\uff1a</p> <ul> <li><code>UserService</code> \u200b\u53ea\u200b\u4f9d\u8d56\u200b <code>UserRepository</code> \u200b\u63a5\u53e3\u200b\uff0c\u200b\u4f4e\u200b\u8026\u5408\u200b\u3002</li> <li>\u200b\u66ff\u6362\u200b\u5b9e\u73b0\u200b\u65f6\u200b\uff0c\u200b\u53ea\u200b\u9700\u200b\u66f4\u6539\u200b\u914d\u7f6e\u200b\uff0c\u200b\u4e0d\u9700\u200b\u4fee\u6539\u200b\u4ee3\u7801\u200b\u3002</li> </ul>","tags":["spring","java"]},{"location":"blog/backend/spring/Spring%20IOC/#6-ioc","title":"6. IOC \u200b\u7684\u200b\u597d\u5904\u200b\u603b\u7ed3","text":"<ol> <li>\u200b\u89e3\u200b\u8026\u200b\uff1a\u200b\u6a21\u5757\u200b\u4e4b\u95f4\u200b\u901a\u8fc7\u200b\u63a5\u53e3\u200b\u4ea4\u4e92\u200b\uff0c\u200b\u5f7b\u5e95\u200b\u89e3\u200b\u8026\u200b\u3002</li> <li>\u200b\u7edf\u4e00\u200b\u7ba1\u7406\u200b\uff1a\u200b\u5bb9\u5668\u200b\u8d1f\u8d23\u7ba1\u7406\u200b\u5bf9\u8c61\u200b\u7684\u200b\u521b\u5efa\u200b\u548c\u200b\u751f\u547d\u5468\u671f\u200b\u3002</li> <li>\u200b\u7075\u6d3b\u6027\u200b\uff1a\u200b\u53ef\u4ee5\u200b\u968f\u65f6\u200b\u66f4\u6362\u200b\u5177\u4f53\u200b\u5b9e\u73b0\u200b\uff0c\u200b\u589e\u5f3a\u200b\u4ee3\u7801\u200b\u7684\u200b\u7075\u6d3b\u6027\u200b\u548c\u200b\u6269\u5c55\u6027\u200b\u3002</li> <li>\u200b\u6d4b\u8bd5\u200b\u65b9\u4fbf\u200b\uff1a\u200b\u901a\u8fc7\u200b\u6ce8\u5165\u200b Mock \u200b\u5bf9\u8c61\u200b\uff0c\u200b\u4fbf\u4e8e\u200b\u5355\u5143\u6d4b\u8bd5\u200b\u3002</li> <li>\u200b\u6027\u80fd\u200b\u4f18\u5316\u200b\uff1a\u200b\u901a\u8fc7\u200b\u5355\u4f8b\u200b\u6a21\u5f0f\u200b\u51cf\u5c11\u200b\u5185\u5b58\u200b\u6296\u52a8\u200b\u548c\u200b GC \u200b\u538b\u529b\u200b\u3002</li> <li>\u200b\u53ef\u9760\u6027\u200b\uff1a\u200b\u542f\u52a8\u200b\u65f6\u200b\u53d1\u73b0\u200b\u95ee\u9898\u200b\uff0c\u200b\u63d0\u5347\u200b\u5e94\u7528\u200b\u7684\u200b\u5b89\u5168\u6027\u200b\u3002</li> </ol>","tags":["spring","java"]},{"location":"blog/backend/spring/Spring%20tx/","title":"Spring \u200b\u4e8b\u52a1","text":"<p> \u200b\u7ea6\u200b 2051 \u200b\u4e2a\u200b\u5b57\u200b  49 \u200b\u884c\u200b\u4ee3\u7801\u200b  5 \u200b\u5f20\u200b\u56fe\u7247\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b 7 \u200b\u5206\u949f\u200b</p>","tags":["spring","java"]},{"location":"blog/backend/spring/Spring%20tx/#acid","title":"\u4e8b\u52a1\u200bACID","text":"<ul> <li>\u200b\u539f\u5b50\u200b\u6027\u200b\uff1a \u200b\u4e00\u4e2a\u200b\u4e8b\u52a1\u200b\uff08transaction\uff09\u200b\u4e2d\u200b\u7684\u200b\u6240\u6709\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u8981\u4e48\u200b\u5168\u90e8\u200b\u5b8c\u6210\u200b\uff0c\u200b\u8981\u4e48\u200b\u5168\u90e8\u200b\u4e0d\u200b\u5b8c\u6210\u200b\uff0c\u200b\u4e0d\u4f1a\u200b\u7ed3\u675f\u200b\u5728\u200b\u4e2d\u95f4\u200b\u67d0\u4e2a\u200b\u73af\u8282\u200b\u3002\u200b\u4e8b\u52a1\u200b\u5728\u200b\u6267\u884c\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\u53d1\u751f\u200b\u9519\u8bef\u200b\uff0c\u200b\u4f1a\u200b\u88ab\u200b\u56de\u6eda\u200b\uff08Rollback\uff09\u200b\u5230\u200b\u4e8b\u52a1\u200b\u5f00\u59cb\u200b\u524d\u200b\u7684\u200b\u72b6\u6001\u200b\uff0c\u200b\u5c31\u200b\u50cf\u200b\u8fd9\u4e2a\u200b\u4e8b\u52a1\u200b\u4ece\u6765\u200b\u6ca1\u6709\u200b\u6267\u884c\u200b\u8fc7\u200b\u4e00\u6837\u200b\u3002</li> <li>\u200b\u4e00\u81f4\u6027\u200b\uff1a \u200b\u5728\u200b\u4e8b\u52a1\u200b\u5f00\u59cb\u200b\u4e4b\u524d\u200b\u548c\u200b\u4e8b\u52a1\u200b\u7ed3\u675f\u200b\u4ee5\u540e\u200b\uff0c\u200b\u6570\u636e\u5e93\u200b\u7684\u200b\u5b8c\u6574\u6027\u200b\u6ca1\u6709\u200b\u88ab\u200b\u7834\u574f\u200b\u3002\u200b\u8fd9\u200b\u8868\u793a\u200b\u5199\u5165\u200b\u7684\u200b\u8d44\u6599\u200b\u5fc5\u987b\u200b\u5b8c\u5168\u7b26\u5408\u200b\u6240\u6709\u200b\u7684\u200b\u9884\u8bbe\u200b\u89c4\u5219\u200b\uff0c\u200b\u8fd9\u200b\u5305\u542b\u200b\u8d44\u6599\u200b\u7684\u200b\u7cbe\u786e\u5ea6\u200b\u3001\u200b\u4e32\u8054\u200b\u6027\u200b\u4ee5\u53ca\u200b\u540e\u7eed\u200b\u6570\u636e\u5e93\u200b\u53ef\u4ee5\u200b\u81ea\u53d1\u6027\u200b\u5730\u200b\u5b8c\u6210\u200b\u9884\u5b9a\u200b\u7684\u200b\u5de5\u4f5c\u200b\u3002</li> <li>\u200b\u9694\u79bb\u200b\u6027\u200b\uff1a \u200b\u6570\u636e\u5e93\u200b\u5141\u8bb8\u200b\u591a\u4e2a\u200b\u5e76\u53d1\u200b\u4e8b\u52a1\u200b\u540c\u65f6\u200b\u5bf9\u200b\u5176\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u8bfb\u5199\u200b\u548c\u200b\u4fee\u6539\u200b\u7684\u200b\u80fd\u529b\u200b\uff0c\u200b\u9694\u79bb\u200b\u6027\u200b\u53ef\u4ee5\u200b\u9632\u6b62\u200b\u591a\u4e2a\u200b\u4e8b\u52a1\u200b\u5e76\u53d1\u200b\u6267\u884c\u200b\u65f6\u200b\u7531\u4e8e\u200b\u4ea4\u53c9\u200b\u6267\u884c\u200b\u800c\u200b\u5bfc\u81f4\u200b\u6570\u636e\u200b\u7684\u200b\u4e0d\u200b\u4e00\u81f4\u200b\u3002\u200b\u4e8b\u52a1\u200b\u9694\u79bb\u200b\u5206\u4e3a\u200b\u4e0d\u540c\u200b\u7ea7\u522b\u200b\uff0c\u200b\u5305\u62ec\u200b\u8bfb\u672a\u200b\u63d0\u4ea4\u200b\uff08Read uncommitted\uff09\u3001\u200b\u8bfb\u200b\u63d0\u4ea4\u200b\uff08read committed\uff09\u3001\u200b\u53ef\u200b\u91cd\u590d\u200b\u8bfb\u200b\uff08repeatable read\uff09\u200b\u548c\u200b\u4e32\u884c\u5316\u200b\uff08Serializable\uff09\u3002</li> <li>\u200b\u6301\u4e45\u6027\u200b\uff1a \u200b\u4e8b\u52a1\u5904\u7406\u200b\u7ed3\u675f\u200b\u540e\u200b\uff0c\u200b\u5bf9\u200b\u6570\u636e\u200b\u7684\u200b\u4fee\u6539\u200b\u5c31\u662f\u200b\u6c38\u4e45\u200b\u7684\u200b\uff0c\u200b\u5373\u4fbf\u200b\u7cfb\u7edf\u6545\u969c\u200b\u4e5f\u200b\u4e0d\u4f1a\u200b\u4e22\u5931\u200b\u3002</li> </ul>","tags":["spring","java"]},{"location":"blog/backend/spring/Spring%20tx/#_1","title":"\u4e8b\u52a1\u200b\u9694\u79bb\u200b\u7ea7\u522b","text":"","tags":["spring","java"]},{"location":"blog/backend/spring/Spring%20tx/#1","title":"1. \u200b\u8bfb\u672a\u200b\u63d0\u4ea4","text":"<ul> <li>ISOLATION_READ_UNCOMMITTED\uff08\u200b\u8bfb\u672a\u200b\u63d0\u4ea4\u200b\uff09\uff1a\u200b\u5176\u4ed6\u200b\u4e8b\u52a1\u200b\u4f1a\u200b\u8bfb\u53d6\u200b\u5f53\u524d\u200b\u4e8b\u52a1\u200b\u5c1a\u672a\u200b\u66f4\u6539\u200b\u7684\u200b\u63d0\u4ea4\u200b\uff08\u200b\u76f8\u5f53\u4e8e\u200b\u8bfb\u53d6\u200b\u7684\u200b\u662f\u200b\u8fd9\u4e2a\u200b\u4e8b\u52a1\u200b\u6682\u65f6\u200b\u7f13\u5b58\u200b\u7684\u200b\u5185\u5bb9\u200b\uff0c\u200b\u5e76\u200b\u4e0d\u662f\u200b\u6570\u636e\u5e93\u200b\u4e2d\u200b\u7684\u200b\u5185\u5bb9\u200b\uff09</li> </ul> <p>\u200b\u9996\u5148\u200b\u662f\u200b\u8bfb\u200b\u672a\u200b\u63d0\u4ea4\u200b\u7ea7\u522b\u200b\uff0c\u200b\u6b64\u200b\u7ea7\u522b\u200b\u5c5e\u4e8e\u200b\u6700\u4f4e\u200b\u7ea7\u522b\u200b\uff0c\u200b\u76f8\u5f53\u4e8e\u200b\u5404\u4e2a\u200b\u4e8b\u52a1\u200b\u5171\u4eab\u200b\u4e00\u4e2a\u200b\u7f13\u5b58\u200b\u533a\u57df\u200b\uff0c\u200b\u4efb\u4f55\u200b\u4e8b\u52a1\u200b\u7684\u200b\u64cd\u4f5c\u200b\u90fd\u200b\u5728\u200b\u8fd9\u91cc\u200b\u8fdb\u884c\u200b\u3002\u200b\u90a3\u4e48\u200b\u5b83\u4f1a\u200b\u5bfc\u81f4\u200b\u4ee5\u4e0b\u200b\u95ee\u9898\u200b\uff1a</p> <p></p> <p>\u200b\u4e5f\u5c31\u662f\u8bf4\u200b\uff0c\u200b\u4e8b\u52a1\u200bA\u200b\u6700\u540e\u200b\u5f97\u5230\u200b\u7684\u200b\u5b9e\u9645\u4e0a\u200b\u662f\u200b\u4e00\u4e2a\u200b\u6beb\u65e0\u610f\u4e49\u200b\u7684\u200b\u6570\u636e\u200b\uff08\u200b\u4e8b\u52a1\u200bB\u200b\u5df2\u7ecf\u200b\u56de\u6eda\u200b\u4e86\u200b\uff09\u200b\u6211\u4eec\u200b\u79f0\u6b64\u200b\u6570\u636e\u200b\u4e3a\u200b \"\u200b\u810f\u200b\u6570\u636e\u200b\" \uff0c\u200b\u8fd9\u79cd\u200b\u73b0\u8c61\u200b\u79f0\u4e3a\u200b\u810f\u8bfb\u200b</p>","tags":["spring","java"]},{"location":"blog/backend/spring/Spring%20tx/#2","title":"2. \u200b\u8bfb\u200b\u5df2\u200b\u63d0\u4ea4","text":"<ul> <li>ISOLATION_READ_COMMITTED\uff08\u200b\u8bfb\u200b\u5df2\u200b\u63d0\u4ea4\u200b\uff09\uff1a\u200b\u5176\u4ed6\u200b\u4e8b\u52a1\u200b\u4f1a\u200b\u8bfb\u53d6\u200b\u5f53\u524d\u200b\u4e8b\u52a1\u200b\u5df2\u7ecf\u200b\u63d0\u4ea4\u200b\u7684\u200b\u6570\u636e\u200b\uff08\u200b\u4e5f\u200b\u5c31\u662f\u200b\u76f4\u63a5\u200b\u8bfb\u53d6\u200b\u6570\u636e\u5e93\u200b\u4e2d\u200b\u5df2\u7ecf\u200b\u53d1\u751f\u200b\u66f4\u6539\u200b\u7684\u200b\u5185\u5bb9\u200b\uff09</li> </ul> <p>\u200b\u6211\u4eec\u200b\u63a5\u7740\u200b\u6765\u770b\u200b<code>\u200b\u8bfb\u200b\u5df2\u200b\u63d0\u4ea4\u200b</code>\u200b\u7ea7\u522b\u200b\uff0c\u200b\u4e8b\u52a1\u200b\u53ea\u80fd\u200b\u8bfb\u53d6\u200b\u5176\u4ed6\u200b\u4e8b\u52a1\u200b\u5df2\u7ecf\u200b\u63d0\u4ea4\u200b\u7684\u200b\u5185\u5bb9\u200b\uff0c\u200b\u76f8\u5f53\u4e8e\u200b\u76f4\u63a5\u200b\u4ece\u200b\u6570\u636e\u200b\u4e2d\u200b\u8bfb\u53d6\u6570\u636e\u200b\uff0c\u200b\u8fd9\u6837\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u907f\u514d\u200b\u810f\u8bfb\u200b\u95ee\u9898\u200b\u4e86\u200b\uff0c\u200b\u4f46\u662f\u200b\u5b83\u200b\u8fd8\u662f\u200b\u5b58\u5728\u200b\u4ee5\u4e0b\u200b\u95ee\u9898\u200b\uff1a</p> <p></p> <p>\u200b\u8fd9\u200b\u6b63\u662f\u200b\u6211\u4eec\u200b\u524d\u9762\u200b\u4f8b\u5b50\u200b\u4e2d\u200b\u63d0\u5230\u200b\u7684\u200b\u95ee\u9898\u200b\uff0c\u200b\u867d\u7136\u200b\u5b83\u200b\u907f\u514d\u200b\u4e86\u200b\u810f\u8bfb\u200b\u95ee\u9898\u200b\uff0c\u200b\u4f46\u662f\u200b\u5982\u679c\u200b\u4e8b\u4ef6\u200bB\u200b\u4fee\u6539\u200b\u5e76\u200b\u63d0\u4ea4\u200b\u4e86\u200b\u6570\u636e\u200b\uff0c\u200b\u90a3\u4e48\u200b\u5b9e\u9645\u4e0a\u200b\u4e8b\u52a1\u200bA\u200b\u4e4b\u524d\u200b\u8bfb\u53d6\u200b\u5230\u200b\u7684\u200b\u6570\u636e\u200b\u4f9d\u7136\u200b\u4e0d\u662f\u200b\u6700\u65b0\u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u76f4\u63a5\u200b\u5bfc\u81f4\u200b\u4e24\u6b21\u200b\u8bfb\u53d6\u200b\u7684\u200b\u6570\u636e\u200b\u4e0d\u200b\u4e00\u81f4\u200b\uff0c\u200b\u8fd9\u79cd\u200b\u73b0\u8c61\u200b\u79f0\u4e3a\u200b\u865a\u8bfb\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u79f0\u4e3a\u200b\u4e0d\u53ef\u200b\u91cd\u590d\u200b\u8bfb\u200b</p>","tags":["spring","java"]},{"location":"blog/backend/spring/Spring%20tx/#3","title":"3. \u200b\u53ef\u200b\u91cd\u590d\u200b\u8bfb","text":"<ul> <li>ISOLATION_REPEATABLE_READ\uff08\u200b\u53ef\u200b\u91cd\u590d\u200b\u8bfb\u200b\uff09\uff1a\u200b\u5176\u4ed6\u200b\u4e8b\u52a1\u200b\u4f1a\u200b\u8bfb\u53d6\u200b\u5f53\u524d\u200b\u4e8b\u52a1\u200b\u5df2\u7ecf\u200b\u63d0\u4ea4\u200b\u7684\u200b\u6570\u636e\u200b\u5e76\u4e14\u200b\u5176\u4ed6\u200b\u4e8b\u52a1\u200b\u6267\u884c\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\u4e0d\u200b\u5141\u8bb8\u200b\u518d\u200b\u8fdb\u884c\u200b\u6570\u636e\u200b\u4fee\u6539\u200b\uff08\u200b\u6ce8\u610f\u200b\u8fd9\u91cc\u200b\u4ec5\u4ec5\u200b\u662f\u200b\u4e0d\u200b\u5141\u8bb8\u200b\u4fee\u6539\u200b\u6570\u636e\u200b\uff09</li> </ul> <p>\u200b\u56e0\u6b64\u200b\uff0c\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u9694\u79bb\u200b\u7ea7\u522b\u200b\u53ef\u200b\u91cd\u590d\u200b\u8bfb\u200b\u5c31\u200b\u80fd\u591f\u200b\u89e3\u51b3\u200b\u8fd9\u6837\u200b\u7684\u200b\u95ee\u9898\u200b\uff08MySQL\u200b\u7684\u200b\u9ed8\u8ba4\u200b\u9694\u79bb\u200b\u7ea7\u522b\u200b\uff09\uff0c\u200b\u5b83\u200b\u89c4\u5b9a\u200b\u5728\u200b\u5176\u4ed6\u200b\u4e8b\u52a1\u200b\u6267\u884c\u200b\u65f6\u200b\uff0c\u200b\u4e0d\u200b\u5141\u8bb8\u200b\u4fee\u6539\u200b\u6570\u636e\u200b\uff0c\u200b\u8fd9\u6837\u200b\uff0c\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u6709\u6548\u200b\u5730\u200b\u907f\u514d\u200b\u4e0d\u53ef\u200b\u91cd\u590d\u200b\u8bfb\u200b\u7684\u200b\u95ee\u9898\u200b\uff0c\u200b\u4f46\u662f\u200b\u8fd9\u6837\u200b\u5c31\u200b\u4e00\u5b9a\u200b\u5b89\u5168\u200b\u4e86\u200b\u5417\u200b\uff1f\u200b\u8fd9\u91cc\u200b\u4ec5\u4ec5\u200b\u662f\u200b\u7981\u6b62\u200b\u4e86\u200b\u4e8b\u52a1\u200b\u6267\u884c\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\u7684\u200bUPDATE\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u4f46\u662f\u200b\u5b83\u200b\u5e76\u200b\u6ca1\u6709\u200b\u7981\u6b62\u200bINSERT\u200b\u8fd9\u200b\u7c7b\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u56e0\u6b64\u200b\uff0c\u200b\u5982\u679c\u200b\u4e8b\u52a1\u200bA\u200b\u6267\u884c\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\u4e8b\u52a1\u200bB\u200b\u63d2\u5165\u200b\u4e86\u200b\u65b0\u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u90a3\u4e48\u200bA\u200b\u8fd9\u65f6\u200b\u662f\u200b\u6beb\u4e0d\u200b\u77e5\u60c5\u200b\u7684\u200b\uff0c\u200b\u6bd4\u5982\u200b\uff1a</p> <p></p> <p>\u200b\u4e24\u4e2a\u200b\u4eba\u200b\u540c\u65f6\u200b\u62a5\u540d\u200b\u4e00\u4e2a\u200b\u6d3b\u52a8\u200b\uff0c\u200b\u4e24\u4e2a\u200b\u62a5\u540d\u200b\u7684\u200b\u4e8b\u52a1\u200b\u540c\u65f6\u200b\u5728\u200b\u8fdb\u884c\u200b\uff0c\u200b\u4f46\u662f\u200b\u4ed6\u4eec\u200b\u4e00\u200b\u5f00\u59cb\u200b\u8bfb\u53d6\u200b\u5230\u200b\u7684\u200b\u4eba\u6570\u200b\u90fd\u200b\u662f\u200b5\uff0c\u200b\u800c\u200b\u8fd9\u65f6\u200b\uff0c\u200b\u5b83\u4eec\u200b\u90fd\u200b\u4f1a\u200b\u8ba4\u4e3a\u200b\u62a5\u540d\u200b\u6210\u529f\u200b\u540e\u200b\u4eba\u6570\u200b\u5e94\u8be5\u200b\u53d8\u6210\u200b6\uff0c\u200b\u800c\u200b\u6b63\u5e38\u200b\u60c5\u51b5\u200b\u4e0b\u200b\u5e94\u8be5\u200b\u662f\u200b7\uff0c\u200b\u56e0\u6b64\u200b\u8fd9\u4e2a\u200b\u65f6\u5019\u200b\u5c31\u200b\u53d1\u751f\u200b\u4e86\u200b\u6570\u636e\u200b\u7684\u200b\u5e7b\u8bfb\u200b\u73b0\u8c61\u200b\u3002</p>","tags":["spring","java"]},{"location":"blog/backend/spring/Spring%20tx/#4","title":"4. \u200b\u4e32\u884c\u5316","text":"<p>\u200b\u8981\u200b\u89e3\u51b3\u200b\u4e0a\u8ff0\u200b\u79cd\u79cd\u200b\u95ee\u9898\u200b\uff0c\u200b\u53ea\u80fd\u200b\u4f7f\u7528\u200b\u6700\u540e\u200b\u4e00\u79cd\u200b\u9694\u79bb\u200b\u7ea7\u522b\u200b\u4e32\u884c\u5316\u200b\u6765\u200b\u5b9e\u73b0\u200b\u4e86\u200b\uff0c\u200b\u6bcf\u4e2a\u200b\u4e8b\u52a1\u200b\u4e0d\u80fd\u200b\u540c\u65f6\u200b\u8fdb\u884c\u200b\uff0c\u200b\u76f4\u63a5\u200b\u907f\u514d\u200b\u6240\u6709\u200b\u5e76\u53d1\u200b\u95ee\u9898\u200b\uff0c\u200b\u7b80\u5355\u200b\u7c97\u66b4\u200b\uff0c\u200b\u4f46\u662f\u200b\u6548\u7387\u200b\u7206\u51cf\u200b\uff0c\u200b\u5e76\u200b\u4e0d\u200b\u63a8\u8350\u200b\u3002</p>","tags":["spring","java"]},{"location":"blog/backend/spring/Spring%20tx/#5","title":"5. \u200b\u5c0f\u7ed3","text":"<p>\u200b\u6700\u540e\u200b\u603b\u7ed3\u200b\u4e09\u79cd\u200b\u60c5\u51b5\u200b\uff1a</p> <ul> <li>\u200b\u810f\u8bfb\u200b\uff1a\u200b\u8bfb\u53d6\u200b\u5230\u200b\u4e86\u200b\u88ab\u200b\u56de\u6eda\u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u5b83\u200b\u6beb\u65e0\u610f\u4e49\u200b\u3002</li> <li>\u200b\u865a\u8bfb\u200b\uff08\u200b\u4e0d\u53ef\u200b\u91cd\u590d\u200b\u8bfb\u200b\uff09\uff1a\u200b\u7531\u4e8e\u200b\u5176\u4ed6\u200b\u4e8b\u52a1\u200b\u66f4\u65b0\u200b\u6570\u636e\u200b\uff0c\u200b\u4e24\u6b21\u200b\u8bfb\u53d6\u200b\u7684\u200b\u6570\u636e\u200b\u4e0d\u200b\u4e00\u81f4\u200b\u3002</li> <li>\u200b\u5e7b\u8bfb\u200b\uff1a\u200b\u7531\u4e8e\u200b\u5176\u4ed6\u200b\u4e8b\u52a1\u200b\u6267\u884c\u200b\u63d2\u5165\u200b\u5220\u9664\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u800c\u200b\u53c8\u200b\u65e0\u6cd5\u200b\u611f\u77e5\u200b\u5230\u8868\u4e2d\u200b\u8bb0\u5f55\u200b\u6761\u6570\u200b\u53d1\u751f\u53d8\u5316\u200b\uff0c\u200b\u5f53\u4e0b\u200b\u6b21\u200b\u518d\u200b\u8bfb\u53d6\u200b\u65f6\u4f1a\u200b\u83ab\u540d\u5176\u5999\u200b\u591a\u51fa\u200b\u6216\u200b\u7f3a\u5931\u200b\u6570\u636e\u200b\uff0c\u200b\u5c31\u200b\u50cf\u200b\u4ea7\u751f\u200b\u5e7b\u89c9\u200b\u4e00\u6837\u200b\u3002</li> </ul> <p>\uff08\u200b\u5bf9\u4e8e\u200b\u865a\u8bfb\u200b\u548c\u200b\u5e7b\u8bfb\u200b\u7684\u200b\u533a\u5206\u200b\uff1a\u200b\u865a\u8bfb\u200b\u662f\u200b\u67d0\u4e2a\u200b\u6570\u636e\u200b\u524d\u540e\u200b\u8bfb\u53d6\u200b\u4e0d\u200b\u4e00\u81f4\u200b\uff0c\u200b\u5e7b\u8bfb\u200b\u662f\u200b\u6574\u4e2a\u200b\u8868\u200b\u7684\u200b\u8bb0\u5f55\u200b\u6570\u91cf\u200b\u524d\u540e\u200b\u8bfb\u53d6\u200b\u4e0d\u200b\u4e00\u81f4\u200b)</p> <p>\u200b\u6700\u540e\u200b\u8fd9\u200b\u5f20\u56fe\u200b\uff0c\u200b\u8bf7\u200b\u52a1\u5fc5\u200b\u8bb0\u5728\u200b\u4f60\u200b\u7684\u200b\u8111\u6d77\u200b\uff0c\u200b\u8bb0\u5728\u200b\u4f60\u200b\u7684\u200b\u5fc3\u4e2d\u200b\uff1a</p> <p></p>","tags":["spring","java"]},{"location":"blog/backend/spring/Spring%20tx/#_2","title":"\u4e8b\u52a1\u200b\u7684\u200b\u4f20\u64ad\u200b\u884c\u4e3a","text":"","tags":["spring","java"]},{"location":"blog/backend/spring/Spring%20tx/#_3","title":"\u6982\u8ff0","text":"<p>\u200b\u5f53\u200b\u4e00\u4e2a\u200b <code>service</code> \u200b\u4e2d\u200b\u8c03\u7528\u200b\u4e86\u200b\u53e6\u200b\u4e00\u4e2a\u200b <code>service</code> \u200b\u7684\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u6b64\u65f6\u200b <code>bservice</code> \u200b\u7684\u200b\u4e8b\u52a1\u200b\u4f20\u64ad\u200b\u5230\u200b\u4e86\u200b <code>aservice</code> \u200b\u4e2d\u200b\uff0c\u200b\u8fd9\u6837\u200b\u5c31\u200b\u4ea7\u751f\u200b\u4e86\u200b\u4e8b\u52a1\u200b\u7684\u200b\u4f20\u64ad\u200b\uff1a</p> Java<pre><code>@Service\npublic class AService {\n\n    @Autowired\n    private BService bService;\n\n    public void order() {\n        xxx();\n        bService().yyy();\n        zzz();\n    }\n}    \n</code></pre> <p>\u200b\u56e0\u4e3a\u200b\u4e24\u4e2a\u200b <code>service</code> \u200b\u90fd\u200b\u5b58\u5728\u200b\u4e8b\u52a1\u200b\uff0c\u200b\u90a3\u4e48\u200b\u751f\u6210\u200b\u7684\u200bsql\u200b\u8bed\u53e5\u200b\u53ef\u80fd\u200b\u5982\u4e0b\u200b\uff1a</p> SQL<pre><code>BEGIN;\n    update xxx;\n    --- \u200b\u4e8b\u52a1\u200b\u5206\u754c\u7ebf\u200b ---\n        begin;\n            update yyy;\n        commit;\n    ----------------\n    update zzz;\ncommit;    \n</code></pre> <p>\u200b\u663e\u7136\u200b\uff0c\u200b\u8fd9\u91cc\u200b\u7684\u200b\u4e8b\u52a1\u200b\u903b\u8f91\u200b\u5b58\u5728\u200b\u95ee\u9898\u200b\uff0c\u200b\u5f53\u200b\u7b2c\u4e8c\u4e2a\u200b <code>begin</code> \u200b\u6267\u884c\u200b\u5b8c\u6bd5\u200b\u540e\u200b\uff0c\u200b\u4f1a\u200b\u9690\u5f0f\u200b\u5730\u200b\u5c06\u200b\u7b2c\u4e00\u4e2a\u200b\u4e8b\u52a1\u200b\u63d0\u4ea4\u200b\uff0c\u200b\u4ece\u800c\u200b\u5bfc\u81f4\u200b <code>AService</code> \u200b\u7684\u200b\u90e8\u5206\u200b\u4e8b\u52a1\u200b\u63d0\u4ea4\u200b\u3002 \u200b\u6240\u4ee5\u200b\u5f53\u200b <code>B\u200b\u4e8b\u52a1\u200b</code> \u200b\u4f20\u64ad\u200b\u5230\u200b <code>A\u200b\u4e8b\u52a1\u200b</code> \u200b\u4e2d\u200b\u65f6\u200b <code>B \u200b\u4e8b\u52a1\u200b</code> \u200b\u9700\u8981\u200b\u505a\u200b\u4e00\u4e0b\u200b\u5fae\u8c03\u200b\uff0c\u200b\u5fae\u8c03\u200b\u7684\u200b\u7ed3\u679c\u200b\u5982\u200b\u4e0b\u8ff0\u200b\u51e0\u79cd\u200b\u60c5\u51b5\u200b\uff1a</p>","tags":["spring","java"]},{"location":"blog/backend/spring/Spring%20tx/#1-aservice","title":"1. \u200b\u5f53\u200bAService\u200b\u5b58\u5728\u200b\u4e8b\u52a1","text":"<p>\u200b\u7b2c\u4e00\u79cd\u200b\u60c5\u51b5\u200b\uff1a\u200b\u878d\u5165\u200bA\u200b\u4e8b\u52a1\u200b (\u200b\u5373\u200bB\u200b\u4e8b\u52a1\u200b\u5408\u5e76\u200b\u5165\u200bA\u200b\u4e8b\u52a1\u200b) </p> <p>\u200b\u5f62\u6210\u200b\u7684\u200bsql\u200b\u5982\u4e0b\u200b\uff1a</p> SQL<pre><code>BEGIN;\n    update xxx;\n    --- \u200b\u4e8b\u52a1\u200b\u5206\u754c\u7ebf\u200b ---\n        update yyy;\n    ----------------\n    update zzz;\ncommit;   \n</code></pre> <p> </p> <p>\u200b\u7b2c\u4e8c\u79cd\u200b\u60c5\u51b5\u200b\uff1a\u200b\u6302\u200b\u8d77\u200bA\u200b\u4e8b\u52a1\u200b\uff0c\u200b\u8ba9\u200bB\u200b\u4e8b\u52a1\u200b\u72ec\u7acb\u200b\u4e8e\u200bA\u200b\u4e8b\u52a1\u200b\u8fd0\u884c\u200b\u3002</p> <p>\u200b\u5f53\u200b\u4e24\u4e2a\u200b\u4e8b\u52a1\u200b\u9700\u8981\u200b\u5404\u81ea\u200b\u72ec\u7acb\u200b\u7ef4\u62a4\u200b\u81ea\u8eab\u200b\u4e8b\u52a1\u200b\uff0c\u200b\u5355\u4e2a\u200b\u4e8b\u52a1\u200b\u65e0\u6cd5\u200b\u72ec\u7acb\u200b\u5b8c\u6210\u200b\uff0cB\u200b\u4e8b\u52a1\u200b\u542f\u52a8\u200b\u65f6\u200b\u53ef\u4ee5\u200b\u6682\u65f6\u200b\u5c06\u200bA\u200b\u4e8b\u52a1\u200b\u6302\u200b\u8d77\u200b\uff0c\u200b\u5373\u200b\u963b\u585e\u200bA\uff0c\u200b\u4e14\u200b\u4e0d\u200b\u5411\u200bA\u200b\u53d1\u9001\u200bsql\uff0c\u200b\u4f7f\u5f97\u200b\u5176\u200b\u65e0\u6cd5\u200b\u63d0\u4ea4\u200b\uff0c\u200b\u800c\u200bB\u200b\u5f00\u542f\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7684\u200b\u4e8b\u52a1\u200b\uff0cB\u200b\u6267\u884c\u200b\u5b8c\u6bd5\u200b\u540e\u200bA\u200b\u7ee7\u7eed\u200b\u3002</p> <p></p>","tags":["spring","java"]},{"location":"blog/backend/spring/Spring%20tx/#2-aservice","title":"2. \u200b\u5f53\u200bAService\u200b\u65e0\u200b\u4e8b\u52a1","text":"<p>\u200b\u7b2c\u4e00\u79cd\u200b\u60c5\u51b5\u200b\uff1aB\u200b\u4e8b\u52a1\u200b\u4ee5\u200b\u4e8b\u52a1\u200b\u7684\u200b\u65b9\u5f0f\u200b\u8fd0\u884c\u200b</p> SQL<pre><code>select xxx;\n    --- \u200b\u5206\u754c\u7ebf\u200b ---\n    begin;\n        update yyy;\n    commit;\n    -------------\nselect zzz;    \n</code></pre> <p></p> <p>\u200b\u7b2c\u4e8c\u79cd\u200b\u60c5\u51b5\u200b\uff1aB\u200b\u4e8b\u52a1\u200b\u4ee5\u200b\u65e0\u200b\u4e8b\u52a1\u200b\u7684\u200b\u65b9\u5f0f\u200b\u8fd0\u884c\u200b</p> SQL<pre><code>select xxx;\n    --- \u200b\u5206\u754c\u7ebf\u200b ---\n    select yyy;\n    -------------\nselect zzz;    \n</code></pre>","tags":["spring","java"]},{"location":"blog/backend/spring/Spring%20tx/#3_1","title":"3. \u200b\u5d4c\u5957\u200b\u4e8b\u52a1","text":"<p>\u200b\u901a\u8fc7\u200b\u8bbe\u7f6e\u200b\u4fdd\u5b58\u200b\u70b9\u200b\uff0c\u200b\u5c06\u200b\u5185\u90e8\u200b\u7684\u200b\u4e8b\u52a1\u200b\u8f6c\u5316\u200b\u4e3a\u200b \u200b\u8bbe\u7f6e\u200b\u4fdd\u5b58\u200b\u70b9\u200b \u200b\u548c\u200b \u200b\u56de\u6eda\u200b\u81f3\u200b\u4fdd\u5b58\u200b\u70b9\u200b\uff0c\u200b\u5b9e\u73b0\u200b\u7c7b\u4f3c\u200b\u4e24\u4e2a\u200b\u4e8b\u52a1\u200b\u7684\u200b\u64cd\u4f5c\u200b\u3002</p> SQL<pre><code>begin;\n    update xxx;\n    savepoint a;\n        update yyy;\n        --- \u200b\u82e5\u200b\u62a5\u9519\u200b\uff0c\u200b\u56de\u6eda\u200b\u81f3\u200b\u4fdd\u5b58\u200b\u70b9\u200ba\n    rollback to a;\n    --- \u200b\u540e\u7eed\u200b\u4e8b\u52a1\u200b\u4e0d\u200b\u53d7\u200b\u5f71\u54cd\u200b\n    update zzz;\ncommit;    \n</code></pre> <p>\u200b\u5d4c\u5957\u200b\u8fc7\u7a0b\u200b\u5982\u4e0b\u200b\uff1a</p> <ol> <li>\u200b\u5185\u90e8\u200b <code>SAVEPOINT a</code> \u200b\u540e\u200b\u7684\u200b\u4ee3\u7801\u200b\u5982\u679c\u200b\u62a5\u9519\u200b\u5219\u200b\u76f4\u63a5\u200b\u56de\u6eda\u200b\u5230\u200b\u4fdd\u5b58\u200b\u70b9\u200b</li> <li>\u200b\u6574\u4e2a\u200b\u4e8b\u52a1\u200b\u7684\u200b\u63d0\u4ea4\u200b\u4e0d\u200b\u6536\u200b\u5185\u90e8\u200b \u200b\u4f2a\u200b\u4e8b\u52a1\u200b \u200b\u7684\u200b\u5f71\u54cd\u200b\u3002</li> </ol>","tags":["spring","java"]},{"location":"blog/backend/spring/Spring%20tx/#_4","title":"\u4f20\u64ad\u200b\u884c\u4e3a","text":"<ol> <li>PROPAGATION_REQUIRED\uff1a\u200b\u8868\u793a\u200b\u5f53\u524d\u200b\u65b9\u6cd5\u200b\u5fc5\u987b\u200b\u8fd0\u884c\u200b\u5728\u200b\u4e8b\u52a1\u200b\u4e2d\u200b\u3002\u200b\u5982\u679c\u200b\u5f53\u524d\u200b\u4e8b\u52a1\u200b\u5b58\u5728\u200b\uff0c\u200b\u65b9\u6cd5\u200b\u5c06\u4f1a\u200b\u5728\u200b\u8be5\u200b\u4e8b\u52a1\u200b\u4e2d\u200b\u8fd0\u884c\u200b\u3002\u200b\u5426\u5219\u200b\uff0c\u200b\u4f1a\u200b\u542f\u52a8\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7684\u200b\u4e8b\u52a1\u200b\u3002REQUIRED \u200b\u8868\u793a\u200b\u9700\u8981\u200b\uff0c\u200b\u5373\u200b B\u200b\u4e8b\u52a1\u200b\u65e0\u8bba\u5982\u4f55\u200b\u90fd\u200b\u8981\u200b\u6709\u200b\u4e8b\u52a1\u200b\u3002</li> <li>PROPAGATION_SUPPORTS\uff1a\u200b\u8868\u793a\u200b\u5f53\u524d\u200b\u65b9\u6cd5\u200b\u4e0d\u200b\u9700\u8981\u200b\u4e8b\u52a1\u200b\u4e0a\u4e0b\u6587\u200b\u3002\u200b\u4f46\u662f\u200b\u5982\u679c\u200b\u5b58\u5728\u200b\u5f53\u524d\u200b\u4e8b\u52a1\u200b\u7684\u8bdd\u200b\uff0c\u200b\u90a3\u4e48\u200b\u8be5\u200b\u65b9\u6cd5\u200b\u4f1a\u200b\u5728\u200b\u8fd9\u4e2a\u200b\u4e8b\u52a1\u200b\u4e2d\u200b\u8fd0\u884c\u200b</li> <li>PROPAGATION_MANDATORY\uff1a(\u200b\u5f3a\u5236\u6027\u200b\u7684\u200b) \u200b\u8868\u793a\u200b\u8be5\u200b\u65b9\u6cd5\u200b\u5fc5\u987b\u200b\u5728\u200b\u4e8b\u52a1\u200b\u4e2d\u200b\u8fd0\u884c\u200b\u3002\u200b\u5982\u679c\u200b\u5f53\u524d\u200b\u4e8b\u52a1\u200b\u4e0d\u200b\u5b58\u5728\u200b\uff0c\u200b\u5219\u200b\u4f1a\u200b\u629b\u51fa\u200b\u4e00\u4e2a\u200b\u5f02\u5e38\u200b\u3002</li> <li>PROPAGATION_REQUIRES_NEW\uff1a(\u200b\u9700\u8981\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u4e8b\u52a1\u200b) \u200b\u8868\u793a\u200b\u5f53\u524d\u200b\u65b9\u6cd5\u200b\u5fc5\u987b\u200b\u8fd0\u884c\u200b\u5728\u200b\u5b83\u200b\u81ea\u5df1\u200b\u7684\u200b\u4e8b\u52a1\u200b\u4e2d\u200b\u3002\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7684\u200b\u4e8b\u52a1\u200b\u5c06\u200b\u88ab\u200b\u542f\u52a8\u200b\u3002\u200b\u5982\u679c\u200b\u5b58\u5728\u200b\u5f53\u524d\u200b\u4e8b\u52a1\u200b\uff0c\u200b\u5728\u200b\u8be5\u200b\u65b9\u6cd5\u200b\u6267\u884c\u200b\u671f\u95f4\u200b\uff0c\u200b\u5f53\u524d\u200b\u4e8b\u52a1\u200b\u4f1a\u200b\u88ab\u200b\u6302\u200b\u8d77\u200b\u3002</li> <li>PROPAGATION_NOT_SUPPORTED\uff1a(\u200b\u4e0d\u200b\u652f\u6301\u200b\u4e8b\u52a1\u200b) \u200b\u8868\u793a\u200b\u8be5\u200b\u65b9\u6cd5\u200b\u4e0d\u200b\u5e94\u8be5\u200b\u8fd0\u884c\u200b\u5728\u200b\u4e8b\u52a1\u200b\u4e2d\u200b\u3002\u200b\u5982\u679c\u200b\u5b58\u5728\u200b\u5f53\u524d\u200b\u4e8b\u52a1\u200b\uff0c\u200b\u5728\u200b\u8be5\u200b\u65b9\u6cd5\u200b\u8fd0\u884c\u200b\u671f\u95f4\u200b\uff0c\u200b\u5f53\u524d\u200b\u4e8b\u52a1\u200b\u5c06\u200b\u88ab\u200b\u6302\u200b\u8d77\u200b\u3002</li> <li>PROPAGATION_NEVER\uff1a(\u200b\u4e0d\u4f1a\u200b\u8fd0\u884c\u200b\u5728\u200b\u6709\u200b\u4e8b\u52a1\u200b\u7684\u200b\u73af\u5883\u200b) \u200b\u8868\u793a\u200b\u5f53\u524d\u200b\u65b9\u6cd5\u200b\u4e0d\u200b\u5e94\u8be5\u200b\u8fd0\u884c\u200b\u5728\u200b\u4e8b\u52a1\u200b\u4e0a\u4e0b\u6587\u200b\u4e2d\u200b\uff0c\u200b\u5982\u679c\u200b\u5f53\u524d\u200b\u6709\u200b\u4e00\u4e2a\u200b\u4e8b\u52a1\u200b\u6b63\u5728\u200b\u8fd0\u884c\u200b\uff0c\u200b\u5219\u200b\u4f1a\u200b\u629b\u51fa\u200b\u5f02\u5e38\u200b</li> <li>PROPAGATION_NESTED\uff1a(\u200b\u5d4c\u5957\u200b\u7684\u200b) \u200b\u8868\u793a\u200b\u5982\u679c\u200b\u5f53\u524d\u200b\u5df2\u7ecf\u200b\u5b58\u5728\u200b\u4e00\u4e2a\u200b\u4e8b\u52a1\u200b\uff0c\u200b\u90a3\u4e48\u200b\u8be5\u200b\u65b9\u6cd5\u200b\u5c06\u4f1a\u200b\u5728\u200b\u5d4c\u5957\u200b\u4e8b\u52a1\u200b\u4e2d\u200b\u8fd0\u884c\u200b\u3002\u200b\u5d4c\u5957\u200b\u7684\u200b\u4e8b\u52a1\u200b\u53ef\u4ee5\u200b\u72ec\u7acb\u200b\u4e8e\u200b\u5f53\u524d\u200b\u4e8b\u52a1\u200b\u8fdb\u884c\u200b\u72ec\u7acb\u200b\u5730\u200b\u63d0\u4ea4\u200b\u6216\u200b\u56de\u6eda\u200b\uff0c\u200b\u5982\u679c\u200b\u5f53\u524d\u200b\u4e8b\u52a1\u200b\u4e0d\u200b\u5b58\u5728\u200b\uff0c\u200b\u90a3\u4e48\u200b\u5176\u200b\u884c\u4e3a\u200b\u4e0e\u200b REQUIRED \u200b\u4e00\u6837\u200b\u3002\u200b\u6ce8\u610f\u200b\u4e0d\u540c\u200b\u6570\u636e\u5e93\u200b\u5bf9\u200b\u8fd9\u79cd\u200b\u4f20\u64ad\u200b\u884c\u4e3a\u200b\u7684\u200b\u652f\u6301\u200b\u662f\u200b\u6709\u6240\u200b\u5dee\u5f02\u200b\u7684\u200b\u3002\u200b\u53ef\u4ee5\u200b\u53c2\u8003\u200b\u8d44\u6e90\u7ba1\u7406\u200b\u5668\u200b\u7684\u200b\u6587\u6863\u200b\u6765\u200b\u786e\u8ba4\u200b\u5b83\u4eec\u200b\u662f\u5426\u200b\u652f\u6301\u200b\u5d4c\u5957\u200b\u4e8b\u52a1\u200b\u3002</li> </ol>","tags":["spring","java"]},{"location":"blog/backend/spring/simple-spring/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/","title":"Learn-Spring","text":"<p> \u200b\u7ea6\u200b 279 \u200b\u4e2a\u200b\u5b57\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b 1 \u200b\u5206\u949f\u200b</p>","tags":["spring"]},{"location":"blog/backend/spring/simple-spring/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/#1","title":"1. \u200b\u5c0f\u200b\u5085\u54e5","text":"<p>\u200b\u4e3b\u8981\u200b\u5b9e\u73b0\u200b\u4e86\u200b IOC \u200b\u548c\u200b AOP \u200b\u76f8\u5173\u200b\u7684\u200b\u4ee3\u7801\u200b\uff0c\u200b\u5bf9\u200b\u521d\u5b66\u8005\u200b\u53cb\u597d\u200b\uff0c\u200b\u7f3a\u5c11\u200b Web\uff0cJDBC\uff0cBoot \u200b\u7b49\u200b\u5b9e\u73b0\u200b</p> <p>Spring \u200b\u624b\u200b\u64b8\u200b\u4e13\u680f\u200b</p> <p>\u200b\u76f8\u5173\u200b\u6e90\u7801\u200b</p>","tags":["spring"]},{"location":"blog/backend/spring/simple-spring/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/#2","title":"2. \u200b\u9ed1\u9a6c","text":"<p>\u200b\u6e90\u7801\u200b\u90e8\u5206\u200b\u6bd4\u8f83\u200b\u5c11\u200b\uff0c\u200b\u4e3b\u8981\u200b\u662f\u200b\u4e00\u4e2a\u200b\u81ea\u9876\u5411\u4e0b\u200b\u7684\u200b\u68b3\u7406\u200b\uff0c\u200b\u96be\u5ea6\u200b\u8f83\u5927\u200b</p> <p>\u200b\u9ed1\u9a6c\u200b\u7a0b\u5e8f\u5458\u200bSpring\u200b\u89c6\u9891\u6559\u7a0b\u200b</p>","tags":["spring"]},{"location":"blog/backend/spring/simple-spring/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/#3","title":"3. \u200b\u5ed6\u200b\u96ea\u5cf0","text":"<p>\u200b\u9002\u5408\u200b\u5bf9\u200b spring \u200b\u6709\u200b\u4e00\u5b9a\u200b\u4e86\u89e3\u200b\u7684\u200b\uff0c\u200b\u4e0d\u7136\u200b\u53ef\u80fd\u200b\u4e00\u5934\u96fe\u6c34\u200b\uff0c\u200b\u4f46\u662f\u200b\u6bd4\u8f83\u200b\u5168\u200b</p> <p>\u200b\u5ed6\u200b\u96ea\u5cf0\u200b  - \u200b\u624b\u5199\u200bSpring</p>","tags":["spring"]},{"location":"blog/backend/spring/simple-spring/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/#4-spring","title":"4. spring \u200b\u5b98\u7f51","text":"<p>spring \u200b\u5b98\u7f51\u200b\u53ca\u200b\u6e90\u7801\u200b</p> <p>Spring | Home</p> <p>spring-framework</p>","tags":["spring"]},{"location":"blog/backend/spring/simple-spring/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/#5-github","title":"5. github \u200b\u5f00\u200b\u6e90\u4ee3\u7801\u200b/\u200b\u7b14\u8bb0","text":"<p>\u200b\u975e\u5e38\u200b\u8be6\u7ec6\u200b\u7684\u200b\u6e90\u7801\u200b\u89e3\u8bfb\u200b\u7b14\u8bb0\u200b</p> <p>spring-analysis</p> <p>xuchengsheng/spring-reading</p> <p>\u200b\u7b80\u5316\u7248\u200b spring \u200b\u4ee3\u7801\u200b</p> <p>PS\uff1a\u200b\u5c0f\u200b\u5085\u54e5\u200b\u4ee3\u7801\u200b\u4f3c\u4e4e\u200b\u662f\u200b\u6284\u200b\u8fd9\u4f4d\u200b\u5927\u795e\u200b\u7684\u200b</p> <p>mini-spring</p> <p>\u200b\u5bf9\u5e94\u200b\u7684\u200b\u89c6\u9891\u200b\u8bb2\u89e3\u200b (\u200b\u8bb2\u200b\u7684\u200b\u771f\u7684\u200b\u975e\u5e38\u200b\u597d\u200b\uff0c\u200b\u63a8\u8350\u200b\u63a8\u8350\u200b\u63a8\u8350\u200b\uff01\uff01\uff01)</p> <p>1.bean\u200b\u5bb9\u5668\u200b,bean\u200b\u5b9e\u4f8b\u200b\u5316\u200b\u4e0e\u200b\u4e00\u7ea7\u200b\u7f13\u5b58\u200b_\u200b\u54d4\u54e9\u200b\u54d4\u54e9\u200b_bilibili</p>","tags":["spring"]},{"location":"blog/backend/spring/simple-spring/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/#6","title":"6. \u200b\u516b\u80a1\u200b/\u200b\u535a\u5ba2","text":"<p>IoC &amp; AOP\u200b\u8be6\u89e3\u200b</p> <p>Spring IOC \u200b\u5bb9\u5668\u200b\u6e90\u7801\u200b\u5206\u6790\u200b</p> <p>Spring - \u200b\u968f\u7b14\u200b\u5206\u7c7b\u200b - niceyoo - \u200b\u535a\u5ba2\u56ed\u200b</p>","tags":["spring"]},{"location":"blog/backend/spring/simple-spring/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/#7-spring","title":"7. spring \u200b\u4e8b\u52a1\u200b\u8be6\u89e3","text":"<p>Spring\u200b\u4f7f\u7528\u200b@Transactional \u200b\u7ba1\u7406\u200b\u4e8b\u52a1\u200b\uff0cJava\u200b\u4e8b\u52a1\u200b\u8be6\u89e3\u200b\u3002_\u200b\u54d4\u54e9\u200b\u54d4\u54e9\u200b_bilibili</p> <p>Spring\u200b\u4e8b\u52a1\u200b\u6e90\u7801\u200b\u89e3\u6790\u200b\u3010\u200b\u4e00\u6b21\u200b\u4e00\u4e2a\u200b\u89c6\u9891\u200b\u5f04\u61c2\u200b\u3011_\u200b\u54d4\u54e9\u200b\u54d4\u54e9\u200b_bilibili</p> <p>\u200b\u5bf9\u5e94\u200b\u7b14\u8bb0\u200b</p> <p>\u200c\ufeff\u2064\ufeff\u2063\u200b\u200b\ufeff\u200b\u2061\u200d\u200b\u200b\u200b\ufeff\u2064\ufeff\u202c\u200c\u200d\u200c\u200c\u202c\u200b\u200c\u2064\u200b\u200b\u2062\u200c\u202c\u200b\u2063\u200d\u200b\u200b\ufeff\u2061\u200b\u2063\u200b\ufeff\u200b\u200c\u200b\u200b\u2063\u2061\u2064\u200cSpring\u200b\u4e8b\u52a1\u200b\u6e90\u7801\u200b\u89e3\u6790\u200b - Feishu Docs</p>","tags":["spring"]},{"location":"blog/frontend/JavaScript/testJs/","title":"JavaScript Code Runner","text":"<p> \u200b\u7ea6\u200b 27 \u200b\u4e2a\u200b\u5b57\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b\u4e0d\u5230\u200b 1 \u200b\u5206\u949f\u200b</p> <p>\u200b\u4ee5\u4e0b\u200b\u662f\u200b\u6211\u200b\u7684\u200b JavaScript Code Runner\uff0c\u200b\u4f60\u200b\u53ef\u4ee5\u200b\u5728\u200b\u8fd9\u91cc\u200b\u8fd0\u884c\u200bjs\u200b\u4ee3\u7801\u200b\u3002</p> <p>Input:</p>  console.log(\"Hello, World\");  <p>Run</p>","tags":["javascript"]},{"location":"blog/frontend/JavaScript/QuickDive/BasicGrammar/","title":"\u57fa\u672c\u200b\u8bed\u6cd5","text":"<p> \u200b\u7ea6\u200b 671 \u200b\u4e2a\u200b\u5b57\u200b  94 \u200b\u884c\u200b\u4ee3\u7801\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b 3 \u200b\u5206\u949f\u200b</p> <p>JavaScript\u200b\u7684\u200b\u8bed\u6cd5\u200b\u548c\u200bJava\u200b\u8bed\u8a00\u200b\u7c7b\u4f3c\u200b\uff0c\u200b\u6bcf\u4e2a\u200b\u8bed\u53e5\u200b\u4ee5\u200b<code>;</code>\u200b\u7ed3\u675f\u200b\uff0c\u200b\u8bed\u53e5\u200b\u5757\u200b\u7528\u200b<code>{...}</code>\u3002\u200b\u4f46\u662f\u200b\uff0cJavaScript\u200b\u5e76\u200b\u4e0d\u200b\u5f3a\u5236\u200b\u8981\u6c42\u200b\u5728\u200b\u6bcf\u4e2a\u200b\u8bed\u53e5\u200b\u7684\u200b\u7ed3\u5c3e\u200b\u52a0\u200b<code>;</code>\uff0c\u200b\u6d4f\u89c8\u5668\u200b\u4e2d\u200b\u8d1f\u8d23\u200b\u6267\u884c\u200bJavaScript\u200b\u4ee3\u7801\u200b\u7684\u200b\u5f15\u64ce\u200b\u4f1a\u200b\u81ea\u52a8\u200b\u5728\u200b\u6bcf\u4e2a\u200b\u8bed\u53e5\u200b\u7684\u200b\u7ed3\u5c3e\u200b\u8865\u200b\u4e0a\u200b<code>;</code>\u3002</p>","tags":["javascript"]},{"location":"blog/frontend/JavaScript/QuickDive/BasicGrammar/#1","title":"1. \u200b\u58f0\u660e","text":"JavaScript<pre><code>var x = 1;\nconst y = 1;\nlet z = 1;\n</code></pre> <ol> <li> <p>var \u200b\u58f0\u660e\u200b\u4e00\u4e2a\u200b\u53d8\u91cf\u200b\uff0c\u200b\u53ef\u200b\u9009\u200b\u521d\u59cb\u5316\u200b\u4e00\u4e2a\u200b\u503c\u200b\u3002</p> </li> <li> <p>const \u200b\u58f0\u660e\u200b\u4e00\u4e2a\u200b\u5757\u200b\u4f5c\u7528\u57df\u200b\u7684\u200b\u53ea\u8bfb\u200b\u5e38\u91cf\u200b\u3002</p> </li> <li> <p>let \u200b\u58f0\u660e\u200b\u4e00\u4e2a\u200b\u5757\u200b\u4f5c\u7528\u57df\u200b\u7684\u200b\u5c40\u90e8\u53d8\u91cf\u200b\uff0c\u200b\u53ef\u200b\u9009\u200b\u521d\u59cb\u5316\u200b\u4e00\u4e2a\u200b\u503c\u200b\u3002</p> </li> </ol> <p>\u200b\u6ce8\u610f\u200b</p> <p>\u200b\u5efa\u8bae\u200b\u5728\u200b\u4ee3\u7801\u200b\u4e2d\u200b\u5c3d\u53ef\u80fd\u200b\u591a\u5730\u200b\u4f7f\u7528\u200b <code>let</code>\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b <code>var</code></p>","tags":["javascript"]},{"location":"blog/frontend/JavaScript/QuickDive/BasicGrammar/#2","title":"2. \u200b\u5206\u652f","text":"","tags":["javascript"]},{"location":"blog/frontend/JavaScript/QuickDive/BasicGrammar/#_2","title":"\u9519\u8bef\u5224\u65ad","text":"<p>\u200b\u4e0b\u9762\u200b\u8fd9\u4e9b\u200b\u503c\u200b\u5c06\u200b\u88ab\u200b\u8ba1\u7b97\u200b\u51fa\u200b false (also known as Falsy values): * false * undefined * null * 0 * NaN * \u200b\u7a7a\u200b\u5b57\u7b26\u4e32\u200b\uff08\"\"\uff09</p>","tags":["javascript"]},{"location":"blog/frontend/JavaScript/QuickDive/BasicGrammar/#ifelse","title":"if...else","text":"JavaScript<pre><code>if (condition_1) {\n  statement_1;\n} else if (condition_2) {\n  statement_2;\n} else if (condition_n_1) {\n  statement_n;\n} else {\n  statement_last;\n}\n</code></pre>","tags":["javascript"]},{"location":"blog/frontend/JavaScript/QuickDive/BasicGrammar/#switch","title":"switch","text":"JavaScript<pre><code>switch (expression) {\n   case label_1:\n      statements_1\n      [break;]\n   case label_2:\n      statements_2\n      [break;]\n   ...\n   default:\n      statements_def\n      [break;]\n}\n</code></pre>","tags":["javascript"]},{"location":"blog/frontend/JavaScript/QuickDive/BasicGrammar/#3","title":"3. \u200b\u9519\u8bef","text":"","tags":["javascript"]},{"location":"blog/frontend/JavaScript/QuickDive/BasicGrammar/#_3","title":"\u5f02\u5e38\u200b\u5904\u7406\u200b\u8bed\u53e5","text":"<p>\u200b\u4f60\u200b\u53ef\u4ee5\u200b\u7528\u200b throw \u200b\u8bed\u53e5\u200b\u629b\u51fa\u200b\u4e00\u4e2a\u200b\u5f02\u5e38\u200b\u5e76\u4e14\u200b\u7528\u200b try...catch \u200b\u8bed\u53e5\u200b\u6355\u83b7\u200b\u5904\u7406\u200b\u5b83\u200b\u3002</p> <ul> <li>throw\u200b\u8bed\u53e5\u200b</li> <li>try...catch\u200b\u8bed\u53e5\u200b</li> </ul>","tags":["javascript"]},{"location":"blog/frontend/JavaScript/QuickDive/BasicGrammar/#_4","title":"\u5f02\u5e38\u200b\u7c7b\u578b","text":"<p>JavaScript \u200b\u53ef\u4ee5\u200b\u629b\u51fa\u200b\u4efb\u610f\u200b\u5bf9\u8c61\u200b\u3002\u200b\u7136\u800c\u200b\uff0c\u200b\u4e0d\u662f\u200b\u6240\u6709\u200b\u5bf9\u8c61\u200b\u80fd\u200b\u4ea7\u751f\u200b\u76f8\u540c\u200b\u7684\u200b\u7ed3\u679c\u200b\u3002\u200b\u5c3d\u7ba1\u200b\u629b\u51fa\u200b\u6570\u503c\u200b\u6216\u8005\u200b\u5b57\u6bcd\u200b\u4e32\u200b\u4f5c\u4e3a\u200b\u9519\u8bef\u4fe1\u606f\u200b\u5341\u5206\u200b\u5e38\u89c1\u200b\uff0c\u200b\u4f46\u662f\u200b\u901a\u5e38\u200b\u7528\u200b\u4e0b\u5217\u200b\u5176\u4e2d\u200b\u4e00\u79cd\u200b\u5f02\u5e38\u200b\u7c7b\u578b\u200b\u6765\u200b\u521b\u5efa\u200b\u76ee\u6807\u200b\u66f4\u4e3a\u200b\u9ad8\u6548\u200b\uff1a</p> <ul> <li>ECMAScript exceptions</li> <li>DOMException and DOMError</li> </ul>","tags":["javascript"]},{"location":"blog/frontend/JavaScript/QuickDive/BasicGrammar/#throw","title":"throw","text":"<p>\u200b\u4f7f\u7528\u200bthrow\u200b\u8bed\u53e5\u200b\u629b\u51fa\u200b\u4e00\u4e2a\u200b\u5f02\u5e38\u200b\u3002\u200b\u5f53\u200b\u4f60\u200b\u629b\u51fa\u200b\u5f02\u5e38\u200b\uff0c\u200b\u4f60\u200b\u89c4\u5b9a\u200b\u4e00\u4e2a\u200b\u542b\u6709\u200b\u503c\u200b\u7684\u200b\u8868\u8fbe\u5f0f\u200b\u8981\u200b\u88ab\u200b\u629b\u51fa\u200b\u3002</p> JavaScript<pre><code>throw expression;\n</code></pre>","tags":["javascript"]},{"location":"blog/frontend/JavaScript/QuickDive/BasicGrammar/#trycatchfinally","title":"try...catch...finally","text":"JavaScript<pre><code>openMyFile();\ntry {\n  writeMyFile(theData); //This may throw a error\n} catch (e) {\n  handleError(e); // If we got a error we handle it\n} finally {\n  closeMyFile(); // always close the resource\n}\n</code></pre>","tags":["javascript"]},{"location":"blog/frontend/JavaScript/QuickDive/BasicGrammar/#4","title":"4. \u200b\u5faa\u73af\u200b\u4e0e\u200b\u8fed\u4ee3","text":"","tags":["javascript"]},{"location":"blog/frontend/JavaScript/QuickDive/BasicGrammar/#for","title":"for","text":"JavaScript<pre><code>for ([initialExpression]; [condition]; [incrementExpression])\n  statement\n</code></pre> <p>\u200b\u793a\u4f8b\u200b\uff1a JavaScript<pre><code>var step;\nfor (step = 0; step &lt; 5; step++) {\n  // Runs 5 times, with values of step 0 through 4.\n  console.log(\"Walking east one step\");\n}\n</code></pre></p>","tags":["javascript"]},{"location":"blog/frontend/JavaScript/QuickDive/BasicGrammar/#dowhile","title":"do...while","text":"JavaScript<pre><code>do\n  statement\nwhile (condition);\n</code></pre> <p>\u200b\u793a\u4f8b\u200b\uff1a \u200b\u5728\u200b\u4e0b\u9762\u200b\u7684\u200b\u4f8b\u5b50\u200b\u4e2d\u200b\uff0c\u200b\u8fd9\u4e2a\u200b <code>do</code> \u200b\u5faa\u73af\u200b\u5c06\u200b\u81f3\u5c11\u200b\u91cd\u590d\u200b\u4e00\u6b21\u200b\uff0c\u200b\u5e76\u4e14\u200b\u4e00\u76f4\u200b\u91cd\u590d\u200b\u76f4\u5230\u200b <code>i</code> \u200b\u4e0d\u518d\u200b\u5c0f\u4e8e\u200b 5\u3002 JavaScript<pre><code>var i = 0;\ndo {\n  i += 1;\n  console.log(i);\n} while (i &lt; 5);\n</code></pre></p>","tags":["javascript"]},{"location":"blog/frontend/JavaScript/QuickDive/BasicGrammar/#while","title":"while","text":"JavaScript<pre><code>while (condition)\n  statement\n</code></pre> <p>\u200b\u793a\u4f8b\u200b\uff1a JavaScript<pre><code>var n = 0;\nvar x = 0;\nwhile (n &lt; 3) {\n  n++;\n  x += n;\n}\n</code></pre></p>","tags":["javascript"]},{"location":"blog/frontend/JavaScript/QuickDive/BasicGrammar/#label","title":"label","text":"<p>\u200b\u7c7b\u4f3c\u200b\u4e8e\u200bjava\uff0c\u200b\u4e00\u4e2a\u200b <code>label</code> \u200b\u63d0\u4f9b\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u8ba9\u4f60\u5728\u200b\u7a0b\u5e8f\u200b\u4e2d\u200b\u5176\u4ed6\u200b\u4f4d\u7f6e\u200b\u5f15\u7528\u200b\u5b83\u200b\u7684\u200b\u6807\u8bc6\u7b26\u200b\u3002\u200b\u4f8b\u5982\u200b\uff0c\u200b\u4f60\u200b\u53ef\u4ee5\u200b\u7528\u200b <code>label</code> \u200b\u6807\u8bc6\u200b\u4e00\u4e2a\u200b\u5faa\u73af\u200b\uff0c\u200b\u7136\u540e\u200b\u4f7f\u7528\u200b <code>break</code> \u200b\u6216\u8005\u200b <code>continue</code> \u200b\u6765\u200b\u6307\u51fa\u200b\u7a0b\u5e8f\u200b\u662f\u5426\u200b\u8be5\u200b\u505c\u6b62\u200b\u5faa\u73af\u200b\u8fd8\u662f\u200b\u7ee7\u7eed\u200b\u5faa\u73af\u200b\u3002</p> JavaScript<pre><code>var num = 0;\noutPoint: for (var i = 0; i &lt; 10; i++) {\n  for (var j = 0; j &lt; 10; j++) {\n    if (i == 5 &amp;&amp; j == 5) {\n      break outPoint; // \u200b\u5728\u200b i = 5\uff0cj = 5 \u200b\u65f6\u200b\uff0c\u200b\u8df3\u51fa\u200b\u6240\u6709\u200b\u5faa\u73af\u200b\uff0c\n      // \u200b\u8fd4\u56de\u200b\u5230\u200b\u6574\u4e2a\u200b outPoint \u200b\u4e0b\u65b9\u200b\uff0c\u200b\u7ee7\u7eed\u6267\u884c\u200b\n    }\n    num++;\n  }\n}\n\nalert(num); // \u200b\u8f93\u51fa\u200b 55\n</code></pre>","tags":["javascript"]},{"location":"blog/frontend/JavaScript/QuickDive/BasicGrammar/#forin","title":"for...in","text":"<p>for...in \u200b\u8bed\u53e5\u200b\u5faa\u73af\u200b\u4e00\u4e2a\u200b\u6307\u5b9a\u200b\u7684\u200b\u53d8\u91cf\u200b\u6765\u200b\u5faa\u73af\u200b\u4e00\u4e2a\u200b\u5bf9\u8c61\u200b\u6240\u6709\u200b\u53ef\u200b\u679a\u4e3e\u200b\u7684\u200b\u5c5e\u6027\u200b\u3002JavaScript \u200b\u4f1a\u4e3a\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u4e0d\u540c\u200b\u7684\u200b\u5c5e\u6027\u200b\u6267\u884c\u200b\u6307\u5b9a\u200b\u7684\u200b\u8bed\u53e5\u200b\u3002</p> JavaScript<pre><code>for (variable in object) {\n  statements\n}\n</code></pre> <p>\u200b\u793a\u4f8b\u200b\uff1a \u200b\u4e0b\u9762\u200b\u7684\u200b\u51fd\u6570\u200b\u901a\u8fc7\u200b\u5b83\u200b\u7684\u200b\u53c2\u6570\u200b\u5f97\u5230\u200b\u4e00\u4e2a\u200b\u5bf9\u8c61\u200b\u548c\u200b\u8fd9\u4e2a\u200b\u5bf9\u8c61\u200b\u7684\u200b\u540d\u5b57\u200b\u3002\u200b\u7136\u540e\u200b\u5faa\u73af\u200b\u8fd9\u4e2a\u200b\u5bf9\u8c61\u200b\u7684\u200b\u6240\u6709\u200b\u5c5e\u6027\u200b\u5e76\u4e14\u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b\u5217\u51fa\u200b\u5c5e\u6027\u200b\u540d\u200b\u548c\u200b\u8be5\u200b\u5c5e\u6027\u200b\u503c\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u3002 JavaScript<pre><code>function dump_props(obj, obj_name) {\n  var result = \"\";\n  for (var i in obj) {\n    result += obj_name + \".\" + i + \" = \" + obj[i] + \"&lt;br&gt;\";\n  }\n  result += \"&lt;hr&gt;\";\n  return result;\n}\n</code></pre> \u200b\u5bf9\u4e8e\u200b\u4e00\u4e2a\u200b\u62e5\u6709\u200b <code>make</code> \u200b\u548c\u200b <code>model</code> \u200b\u5c5e\u6027\u200b\u7684\u200b <code>car</code> \u200b\u5bf9\u8c61\u200b\u6765\u8bf4\u200b\uff0c\u200b\u6267\u884c\u200b\u7ed3\u679c\u200b <code>result</code> \u200b\u662f\u200b\uff1a Text Only<pre><code>car.make = Ford\ncar.model = Mustang\n</code></pre></p>","tags":["javascript"]},{"location":"blog/frontend/JavaScript/QuickDive/BasicGrammar/#forof","title":"for...of","text":"<p>for...of \u200b\u8bed\u53e5\u200b\u5728\u200b\u53ef\u200b\u8fed\u4ee3\u200b\u5bf9\u8c61\u200b\uff08\u200b\u5305\u62ec\u200bArray\u3001Map\u3001Set\u3001arguments \u200b\u7b49\u7b49\u200b\uff09\u200b\u4e0a\u200b\u521b\u5efa\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u5faa\u73af\u200b\uff0c\u200b\u5bf9\u503c\u200b\u7684\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u72ec\u7279\u200b\u5c5e\u6027\u200b\u8c03\u7528\u200b\u4e00\u6b21\u200b\u8fed\u4ee3\u200b\u3002</p> JavaScript<pre><code>for (variable of object) {\n  statement\n}\n</code></pre> <p>\u200b\u4e0b\u9762\u200b\u7684\u200b\u8fd9\u4e2a\u200b\u4f8b\u5b50\u200b\u5c55\u793a\u200b\u4e86\u200b for...of \u200b\u548c\u200b for...in \u200b\u4e24\u79cd\u200b\u5faa\u73af\u200b\u8bed\u53e5\u200b\u4e4b\u95f4\u200b\u7684\u200b\u533a\u522b\u200b\u3002 for...in \u200b\u5faa\u73af\u200b\u904d\u5386\u200b\u7684\u200b\u7ed3\u679c\u200b\u662f\u200b\u6570\u7ec4\u200b\u5143\u7d20\u200b\u7684\u200b\u4e0b\u6807\u200b\uff0c\u200b\u800c\u200b for...of \u200b\u904d\u5386\u200b\u7684\u200b\u7ed3\u679c\u200b\u662f\u200b\u5143\u7d20\u200b\u7684\u200b\u503c\u200b\uff1a JavaScript<pre><code>let arr = [3, 5, 7];\narr.foo = \"hello\";\n\nfor (let i in arr) {\n  console.log(i); // \u200b\u8f93\u51fa\u200b \"0\", \"1\", \"2\", \"foo\"\n}\n\nfor (let i of arr) {\n  console.log(i); // \u200b\u8f93\u51fa\u200b \"3\", \"5\", \"7\"\n}\n\n// \u200b\u6ce8\u610f\u200b for...of \u200b\u7684\u200b\u8f93\u51fa\u200b\u6ca1\u6709\u200b\u51fa\u73b0\u200b \"hello\"\n</code></pre></p>","tags":["javascript"]},{"location":"blog/2024/11/11/%E5%8D%9A%E5%AE%A2%E6%96%87%E7%AB%A0%E6%B5%8B%E8%AF%95/","title":"\u535a\u5ba2\u200b\u6587\u7ae0\u200b\u6d4b\u8bd5","text":"<p> \u200b\u7ea6\u200b 0 \u200b\u4e2a\u200b\u5b57\u200b  1 \u200b\u5f20\u200b\u56fe\u7247\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b\u4e0d\u5230\u200b 1 \u200b\u5206\u949f\u200b</p> <p></p>","tags":["HelloWorld"]},{"location":"blog/2024/12/14/editors-vim/","title":"Editors (Vim)","text":"<p> \u200b\u7ea6\u200b 1214 \u200b\u4e2a\u200b\u5b57\u200b  110 \u200b\u884c\u200b\u4ee3\u7801\u200b  1 \u200b\u5f20\u200b\u56fe\u7247\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b 5 \u200b\u5206\u949f\u200b</p> <p>Attachment</p> <p>course link: Editors (Vim)</p>","tags":["CS","Missing"]},{"location":"blog/2024/12/14/editors-vim/#modal-editing","title":"Modal editing","text":"<p>Vim has multiple operating modes.</p> <ul> <li>Normal: for moving around a file and making edits</li> <li>Insert: for inserting text</li> <li>Replace: for replacing text</li> <li>Visual (plain, line, or block): for selecting blocks of text</li> <li>Command-line: for running a command</li> </ul> <p></p>","tags":["CS","Missing"]},{"location":"blog/2024/12/14/editors-vim/#basics","title":"Basics","text":"","tags":["CS","Missing"]},{"location":"blog/2024/12/14/editors-vim/#inserting-text","title":"Inserting text","text":"<p>From Normal mode, press <code>i</code> to enter Insert mode. </p> <p>Now, Vim behaves like any other text editor, until you press<code>&lt;ESC&gt;</code> to return to Normal mode. </p>","tags":["CS","Missing"]},{"location":"blog/2024/12/14/editors-vim/#buffers-tabs-and-windows","title":"Buffers, tabs, and windows","text":"<p>Vim maintains a set of open files, called \u201cbuffers\u201d. </p> <p>A Vim session has a number of tabs, each of which has a number of windows (split panes). </p> <p>Each window shows a single buffer. Unlike other programs you are familiar with, like web browsers, there is not a 1-to-1 correspondence between buffers and windows; windows are merely views. </p> <p>A given buffer may be open in multiple windows, even within the same tab.</p> <p>This can be quite handy, for example, to view two different parts of a file at the same time.</p> <p>By default, Vim opens with a single tab, which contains a single window.</p>","tags":["CS","Missing"]},{"location":"blog/2024/12/14/editors-vim/#command-line","title":"Command-line","text":"<p>Command mode can be entered by typing <code>:</code> in Normal mode. </p> <p>Your cursor will jump to the command line at the bottom of the screen upon pressing <code>:</code>. </p> <p>This mode has many functionalities, including opening, saving, and closing files, and quitting Vim.</p> <ul> <li><code>:q</code> quit (close window)</li> <li><code>:w</code> save (\u201cwrite\u201d)</li> <li><code>:wq</code> save and quit</li> <li><code>:e {name of file}</code> open file for editing</li> <li><code>:ls</code> show open buffers</li> <li><code>:help {topic}</code> open help<ul> <li><code>:help :w</code> opens help for the <code>:w</code> command</li> <li><code>:help w</code> opens help for the <code>w</code> movement</li> </ul> </li> </ul>","tags":["CS","Missing"]},{"location":"blog/2024/12/14/editors-vim/#vims-interface-is-a-programming-language","title":"Vim\u2019s interface is a programming language","text":"","tags":["CS","Missing"]},{"location":"blog/2024/12/14/editors-vim/#movement","title":"Movement","text":"<p>Movements in Vim are also called \u201cnouns\u201d, because they refer to chunks of text.</p> <ul> <li>Basic movement: <code>hjkl</code> (left, down, up, right)</li> <li>Words: <code>w</code> (next word), <code>b</code> (beginning of word), <code>e</code> (end of word)</li> <li>Lines: <code>0</code> (beginning of line), <code>^</code> (first non-blank character), <code>$</code> (end of line)</li> <li>Screen: <code>H</code> (top of screen), <code>M</code> (middle of screen), <code>L</code> (bottom of screen)</li> <li>Scroll: <code>Ctrl-u</code> (up), <code>Ctrl-d</code> (down)</li> <li>File: <code>gg</code> (beginning of file), <code>G</code> (end of file)</li> <li>Line numbers: :<code>{number}&lt;CR&gt;</code> or <code>{number}G</code> (line {number})</li> <li>Misc: <code>%</code> (corresponding item)</li> <li>Find: <code>f{character}</code>, <code>t{character}</code>, <code>F{character}</code>, <code>T{character}</code><ul> <li>find/to forward/backward {character} on the current line</li> <li><code>,</code> / <code>;</code> for navigating matches</li> </ul> </li> <li>Search: <code>/{regex}</code>, <code>n</code> / <code>N</code> for navigating matches    </li> </ul>","tags":["CS","Missing"]},{"location":"blog/2024/12/14/editors-vim/#selection","title":"Selection","text":"<p>Visual modes:</p> <ul> <li>Visual: v</li> <li>Visual Line: V</li> <li>Visual Block: Ctrl-v</li> </ul> <p>Can use movement keys to make selection.</p>","tags":["CS","Missing"]},{"location":"blog/2024/12/14/editors-vim/#edits","title":"Edits","text":"<p>Vim\u2019s editing commands are also called \u201cverbs\u201d, because verbs act on nouns.</p> <ul> <li><code>i</code> enter Insert mode<ul> <li>but for manipulating/deleting text, want to use something more than backspace</li> </ul> </li> <li><code>o</code> / <code>O</code> insert line below / above</li> <li><code>d{motion}</code> delete <code>{motion}</code><ul> <li>e.g. <code>dw</code> is delete word, <code>d$</code> is delete to end of line, <code>d0</code> is delete to beginning of line</li> </ul> </li> <li><code>c{motion}</code> change <code>{motion}</code><ul> <li>e.g. <code>cw</code> is change word</li> <li>like <code>d{motion}</code> followed by <code>i</code></li> </ul> </li> <li><code>x</code> delete character (equal do <code>dl</code>)</li> <li><code>s</code> substitute character (equal to <code>cl</code>)</li> <li>Visual mode + manipulation<ul> <li>select text, <code>d</code> to delete it or <code>c</code> to change it</li> </ul> </li> <li><code>u</code> to undo, <code>&lt;C-r&gt;</code> to redo</li> <li><code>y</code> to copy / \u201cyank\u201d (some other commands like <code>d</code> also copy)</li> <li><code>p</code> to paste</li> <li>Lots more to learn: e.g. <code>~</code> flips the case of a character</li> </ul>","tags":["CS","Missing"]},{"location":"blog/2024/12/14/editors-vim/#counts","title":"Counts","text":"<p>You can combine nouns and verbs with a count, which will perform a given action a number of times.</p> <ul> <li><code>3w</code> move 3 words forward</li> <li><code>5j</code> move 5 lines down</li> <li><code>7dw</code> delete 7 words</li> </ul>","tags":["CS","Missing"]},{"location":"blog/2024/12/14/editors-vim/#modifiers","title":"Modifiers","text":"<p>You can use modifiers to change the meaning of a noun. </p> <p>Some modifiers are <code>i</code>, which means \u201cinner\u201d or \u201cinside\u201d, and <code>a</code>, which means \u201caround\u201d.</p> <ul> <li><code>ci(</code> change the contents inside the current pair of parentheses</li> <li><code>ci[</code> change the contents inside the current pair of square brackets</li> <li><code>da'</code> delete a single-quoted string, including the surrounding single quotes</li> </ul>","tags":["CS","Missing"]},{"location":"blog/2024/12/14/editors-vim/#customizing-vim","title":"Customizing Vim","text":"<p>Vim is customized through a plain-text configuration file in <code>~/.vimrc</code> (containing Vimscript commands).</p> <p>Here is the basic configuration file that provided by this course.</p> VimL<pre><code>\" Comments in Vimscript start with a `\"`.\n\n\" If you open this file in Vim, it'll be syntax highlighted for you.\n\n\" Vim is based on Vi. Setting `nocompatible` switches from the default\n\" Vi-compatibility mode and enables useful Vim functionality. This\n\" configuration option turns out not to be necessary for the file named\n\" '~/.vimrc', because Vim automatically enters nocompatible mode if that file\n\" is present. But we're including it here just in case this config file is\n\" loaded some other way (e.g. saved as `foo`, and then Vim started with\n\" `vim -u foo`).\nset nocompatible\n\n\" Turn on syntax highlighting.\nsyntax on\n\n\" Disable the default Vim startup message.\nset shortmess+=I\n\n\" Show line numbers.\nset number\n\n\" This enables relative line numbering mode. With both number and\n\" relativenumber enabled, the current line shows the true line number, while\n\" all other lines (above and below) are numbered relative to the current line.\n\" This is useful because you can tell, at a glance, what count is needed to\n\" jump up or down to a particular line, by {count}k to go up or {count}j to go\n\" down.\nset relativenumber\n\n\" Always show the status line at the bottom, even if you only have one window open.\nset laststatus=2\n\n\" The backspace key has slightly unintuitive behavior by default. For example,\n\" by default, you can't backspace before the insertion point set with 'i'.\n\" This configuration makes backspace behave more reasonably, in that you can\n\" backspace over anything.\nset backspace=indent,eol,start\n\n\" By default, Vim doesn't let you hide a buffer (i.e. have a buffer that isn't\n\" shown in any window) that has unsaved changes. This is to prevent you from \"\n\" forgetting about unsaved changes and then quitting e.g. via `:qa!`. We find\n\" hidden buffers helpful enough to disable this protection. See `:help hidden`\n\" for more information on this.\nset hidden\n\n\" This setting makes search case-insensitive when all characters in the string\n\" being searched are lowercase. However, the search becomes case-sensitive if\n\" it contains any capital letters. This makes searching more convenient.\nset ignorecase\nset smartcase\n\n\" Enable searching as you type, rather than waiting till you press enter.\nset incsearch\n\n\" Unbind some useless/annoying default key bindings.\nnmap Q &lt;Nop&gt; \" 'Q' in normal mode enters Ex mode. You almost never want this.\n\n\" Disable audible bell because it's annoying.\nset noerrorbells visualbell t_vb=\n\n\" Enable mouse support. You should avoid relying on this too much, but it can\n\" sometimes be convenient.\nset mouse+=a\n\n\" Try to prevent bad habits like using the arrow keys for movement. This is\n\" not the only possible bad habit. For example, holding down the h/j/k/l keys\n\" for movement, rather than using more efficient movement commands, is also a\n\" bad habit. The former is enforceable through a .vimrc, while we don't know\n\" how to prevent the latter.\n\" Do this in normal mode...\nnnoremap &lt;Left&gt;  :echoe \"Use h\"&lt;CR&gt;\nnnoremap &lt;Right&gt; :echoe \"Use l\"&lt;CR&gt;\nnnoremap &lt;Up&gt;    :echoe \"Use k\"&lt;CR&gt;\nnnoremap &lt;Down&gt;  :echoe \"Use j\"&lt;CR&gt;\n\" ...and in insert mode\ninoremap &lt;Left&gt;  &lt;ESC&gt;:echoe \"Use h\"&lt;CR&gt;\ninoremap &lt;Right&gt; &lt;ESC&gt;:echoe \"Use l\"&lt;CR&gt;\ninoremap &lt;Up&gt;    &lt;ESC&gt;:echoe \"Use k\"&lt;CR&gt;\ninoremap &lt;Down&gt;  &lt;ESC&gt;:echoe \"Use j\"&lt;CR&gt;\n</code></pre> <p>For macos, There might not have the default <code>.vimrc</code> file in <code>~</code>.</p> <p>But never mind, just type <code>vim ~/.vimrc</code> and paste the code into it, then type <code>:wq</code>.</p> <p>You will find that everything is done!</p>","tags":["CS","Missing"]},{"location":"blog/2024/12/14/editors-vim/#extending-vim","title":"Extending Vim","text":"<p>copy lecture notes...need review</p> <p>There are tons of plugins for extending Vim. Contrary to outdated advice that you might find on the internet, you do not need to use a plugin manager for Vim (since Vim 8.0). Instead, you can use the built-in package management system. Simply create the directory <code>~/.vim/pack/vendor/start/</code>, and put plugins in there (e.g. via <code>git clone</code>).</p> <p>Here are some of our favorite plugins:</p> <ul> <li>ctrlp.vim: fuzzy file finder</li> <li>ack.vim: code search</li> <li>nerdtree: file explorer</li> <li>vim-easymotion: magic motions</li> </ul> <p>We\u2019re trying to avoid giving an overwhelmingly long list of plugins here. You can check out the instructors\u2019 dotfiles (Anish, Jon, Jose) to see what other plugins we use. Check out Vim Awesome for more awesome Vim plugins. There are also tons of blog posts on this topic: just search for \u201cbest Vim plugins\u201d.</p>","tags":["CS","Missing"]},{"location":"blog/2024/12/14/editors-vim/#resources","title":"Resources","text":"<ul> <li>vimtutor is a tutorial that comes installed with Vim - if Vim is installed, you should be able to run <code>vimtutor</code> from your shell</li> <li>Vim Adventures is a game to learn Vim</li> <li>Vim Tips Wiki</li> <li>Vim Advent Calendar has various Vim tips</li> <li>Vim Golf is code golf, but where the programming language is Vim\u2019s UI</li> <li>Vi/Vim Stack Exchange</li> <li>Vim Screencasts</li> <li>Practical Vim (book)</li> </ul>","tags":["CS","Missing"]},{"location":"blog/2024/12/14/editors-vim/#exercises","title":"Exercises","text":"<p>Warning</p> <p>I will write my own solution to the problem, If you want to solve those by yourself, please stop.</p> <p>Problem1</p> <p>Complete <code>vimtutor</code>. Note: it looks best in a <code>80x24</code> (80 columns by 24 lines) terminal window.</p> <p></p> <p>Solution</p> Bash<pre><code>vimtutor\n</code></pre> <p>Problem2</p> <ul> <li> <p>Install and configure a plugin: ctrlp.vim.</p> <ol> <li>Create the plugins directory with <code>mkdir -p ~/.vim/pack/vendor/start</code></li> <li>Download the plugin: <code>cd ~/.vim/pack/vendor/start; git clone https://github.com/ctrlpvim/ctrlp.vim</code></li> <li>Read the documentation for the plugin. Try using CtrlP to locate a file by navigating to a project directory, opening Vim, and using the Vim command-line to start <code>:CtrlP</code>.</li> <li>Customize CtrlP by adding configuration to your <code>~/.vimrc</code> to open CtrlP by pressing Ctrl-P.</li> </ol> </li> </ul> <p></p> <p>Solution</p> <p>...TO DO</p> <p>Problem3</p> <p>To practice using Vim, re-do the Demo from lecture on your own machine.</p> <p>Here is a broken fizz buzz implementation:</p> Python<pre><code>def fizz_buzz(limit):\n    for i in range(limit):\n        if i % 3 == 0:\n            print('fizz')\n        if i % 5 == 0:\n            print('fizz')\n        if i % 3 and i % 5:\n            print(i)\n\ndef main():\n    fizz_buzz(10)\n</code></pre> <p>fix the following issues:</p> <ul> <li>Main is never called</li> <li>Starts at 0 instead of 1</li> <li>Prints \u201cfizz\u201d and \u201cbuzz\u201d on separate lines for multiples of 15</li> <li>Prints \u201cfizz\u201d for multiples of 5</li> <li>Uses a hard-coded argument of 10 instead of taking a command-line argument</li> </ul> <p></p> <p>Solution</p> <ol> <li><code>G</code> move to the bottom of the file</li> <li><code>o</code> create a new line</li> <li>insert code: Python<pre><code>if __name__ == '__main__':\n    main()\n</code></pre></li> <li><code>/limit</code> search for <code>limit</code>, then press <code>n</code> to move to the next match</li> <li><code>i</code> enter <code>insert</code> mode, and change <code>limit</code> to <code>1, limit + 1</code></li> <li><code>/fizz</code> search for <code>fizz</code>, then press <code>n</code> to move to the next match.</li> <li><code>ci'</code> change the inner text of <code>'</code>, insert <code>buzz</code></li> <li>move the cursor to the <code>print('fizz')</code> line, press <code>$</code>, then <code>i</code> enter insert mode and insert <code>, end=''</code></li> <li><code>jj.</code> move the cursor to line 6 and make the same change as previous did</li> <li><code>gg</code> move the cursor to the top of the file, <code>O</code> create the new line above\uff0cand insert <code>import sys</code></li> <li><code>/10</code> find <code>10</code>, then <code>ci(</code> change the text in <code>(</code>, type <code>int(sys.argv[1])</code></li> </ol> <p>The final result: Python<pre><code>import sys\n\ndef fizz_buzz(limit):\n    for i in range(1, limit + 1):\n        if i % 3 == 0:\n            print('fizz', end='')\n        if i % 5 == 0:\n            print('buzz', end='')\n        if i % 3 and i % 5:\n            print(i)\n\ndef main():\n    fizz_buzz(int(sys.argv[1]))\n\nif __name__ == '__main__':\n    main()\n</code></pre></p> <p>Problem4</p> <p>(Advanced) Convert XML to JSON (example file) using Vim macros. Try to do this on your own, but you can look at the macros section above if you get stuck.</p> <p></p> <p>Solution</p> <p>...TO DO</p>","tags":["CS","Missing"]},{"location":"blog/2024/12/04/shell-tools-and-scripting/","title":"Shell Tools and Scripting","text":"<p> \u200b\u7ea6\u200b 2038 \u200b\u4e2a\u200b\u5b57\u200b  149 \u200b\u884c\u200b\u4ee3\u7801\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b 9 \u200b\u5206\u949f\u200b</p> <p>Attachment</p> <p>course link: Shell Tools and Scripting</p>","tags":["CS","Missing"]},{"location":"blog/2024/12/04/shell-tools-and-scripting/#shell-scripting","title":"Shell Scripting","text":"","tags":["CS","Missing"]},{"location":"blog/2024/12/04/shell-tools-and-scripting/#1-assign-variables","title":"1. Assign Variables","text":"<p>To assign variables in bash, use the syntax <code>foo=bar</code> and access the value of the variable with <code>$foo</code>. Note that <code>foo = bar</code> will not work since it is interpreted as calling the <code>foo</code> program with arguments <code>=</code> and <code>bar</code>. In general, in shell scripts the space character will perform argument splitting. This behavior can be confusing to use at first, so always check for that.</p> <p>Strings in bash can be defined with <code>'</code> and <code>\"</code> delimiters.</p> <p>Strings delimited with <code>'</code> are literal strings and will not substitute variable values.</p> <p>Strings delimited with <code>\"</code> will substitute variable values.</p> Bash<pre><code>foo=bar\necho \"$foo\"\n# prints bar\necho '$foo'\n# prints $foo\n</code></pre>","tags":["CS","Missing"]},{"location":"blog/2024/12/04/shell-tools-and-scripting/#2-functions","title":"2. Functions","text":"<p>As with most programming languages, bash supports control flow techniques including <code>if</code>, <code>case</code>, <code>while</code> and <code>for</code>. Similarly, bash has functions that take arguments and can operate with them. </p> <p>Here is an example of a function that creates a directory and cds into it.</p> Bash<pre><code>mcd () {\n    mkdir -p \"$1\"\n    cd \"$1\"\n}\n</code></pre> <p>Here is how to test <code>mcd</code> function</p> Bash<pre><code>vim mcd.sh\n# paste the code into it...\nsource mcd.sh\nmcd test\n# And you will find that you are in the test directory, which is a \n# child dir in which you run the mcd program\n</code></pre>","tags":["CS","Missing"]},{"location":"blog/2024/12/04/shell-tools-and-scripting/#3-function-arguments","title":"3. Function arguments","text":"<p>Unlike other scripting languages, bash uses a variety of special variables to refer to arguments, error codes, and other relevant variables. Below is a list of some of them. A more comprehensive list can be found here.</p> <ul> <li><code>$0</code> - Name of the script</li> <li><code>$1</code> to <code>$9</code> - Arguments to the script. <code>$1</code> is the first argument and so on.</li> <li><code>$@</code> - All the arguments</li> <li><code>$#</code> - Number of arguments</li> <li><code>$?</code> - Return code of the previous command</li> <li><code>$$</code> - Process identification number (PID) for the current script</li> <li><code>!!</code> - Entire last command, including arguments. A common pattern is to execute a command only for it to fail due to missing permissions; you can quickly re-execute the command with sudo by doing <code>sudo !!</code></li> <li><code>$_</code> - Last argument from the last command. If you are in an interactive shell, you can also quickly get this value by typing <code>Esc</code> followed by <code>.</code> or <code>Alt+</code>.</li> </ul> <p>Commands will often return output using <code>STDOUT</code>, errors through <code>STDERR</code>, and a Return Code to report errors in a more script-friendly manner. </p> <p>The return code or exit status is the way scripts/commands have to communicate how execution went. </p> <ul> <li>A value of <code>0</code> usually means everything went OK</li> <li>anything different from <code>0</code> means an error occurred.</li> </ul> <p>Exit codes can be used to conditionally execute commands using <code>&amp;&amp;</code> (and operator) and <code>||</code> (or operator), both of which are short-circuiting operators. </p> <p>Commands can also be separated within the same line using a semicolon <code>;</code>. </p> <ul> <li>The <code>true</code> program will always have a <code>0</code> return code</li> <li>the <code>false</code> command will always have a <code>1</code> return code. </li> </ul> <p>Let\u2019s see some examples</p> Bash<pre><code>false || echo \"Oops, fail\"\n# Oops, fail\n\ntrue || echo \"Will not be printed\"\n#\n\ntrue &amp;&amp; echo \"Things went well\"\n# Things went well\n\nfalse &amp;&amp; echo \"Will not be printed\"\n#\n\ntrue ; echo \"This will always run\"\n# This will always run\n\nfalse ; echo \"This will always run\"\n# This will always run\n</code></pre>","tags":["CS","Missing"]},{"location":"blog/2024/12/04/shell-tools-and-scripting/#4-substitution","title":"4. Substitution","text":"<p>Another common pattern is wanting to get the output of a command as a variable. </p> <p>This can be done with <code>command substitution</code>. Whenever you place <code>$( CMD )</code> it will execute <code>CMD</code>, get the output of the command and substitute it in place. </p> <p>For example, if you do <code>for file in $(ls)</code>, the shell will first call ls and then iterate over those values. </p> <p>A lesser known similar feature is <code>process substitution</code>, <code>&lt;( CMD )</code> will execute <code>CMD</code> and place the output in a temporary file and substitute the <code>&lt;()</code> with that file\u2019s name.</p> <p>This is useful when commands expect values to be passed by file instead of by <code>STDIN</code>. For example, <code>diff &lt;(ls foo) &lt;(ls bar)</code> will show differences between files in dirs <code>foo</code> and <code>bar</code>.</p> <p></p> <p>let\u2019s see an example that showcases some of these features. </p> <p>It will iterate through the arguments we provide, grep for the string foobar, and append it to the file as a comment if it\u2019s not found.</p> Bash<pre><code>#!/bin/bash\n\necho \"Starting program at $(date)\" # Date will be substituted\n\necho \"Running program $0 with $# arguments with pid $$\"\n\nfor file in \"$@\"; do\n    grep foobar \"$file\" &gt; /dev/null 2&gt; /dev/null\n    # When pattern is not found, grep has exit status 1\n    # We redirect STDOUT and STDERR to a null register since we do not care about them\n    if [[ $? -ne 0 ]]; then\n        echo \"File $file does not have any foobar, adding one\"\n        echo \"# foobar\" &gt;&gt; \"$file\"\n    fi\ndone\n</code></pre> <p>In the comparison we tested whether <code>$?</code> was not equal to <code>0</code>. Bash implements many comparisons of this sort - you can find a detailed list in the manpage for test. </p> <p>When performing comparisons in bash, try to use double brackets <code>[[ ]]</code> in favor of simple brackets <code>[ ]</code>. Chances of making mistakes are lower although it won\u2019t be portable to <code>sh</code>. A more detailed explanation can be found here.</p>","tags":["CS","Missing"]},{"location":"blog/2024/12/04/shell-tools-and-scripting/#5-globbing","title":"5. Globbing","text":"<p>When launching scripts, you will often want to provide arguments that are similar. Bash has ways of making this easier, expanding expressions by carrying out filename expansion. These techniques are often referred to as shell globbing.</p> <ul> <li>Wildcards<ul> <li><code>?</code> match one character.</li> <li><code>*</code> match any amount of characters. </li> <li>For instance, given files <code>foo, foo1, foo2, foo10 and bar</code>, the command <code>rm foo?</code> will delete foo1 and foo2 whereas <code>rm foo*</code> will delete all but bar.</li> </ul> </li> <li>Curly braces <code>{}</code> - Whenever you have a common substring in a series of commands, you can use curly braces for bash to expand this automatically. This comes in very handy when moving or converting files.</li> </ul> Bash<pre><code>convert image.{png,jpg}\n# Will expand to\nconvert image.png image.jpg\n\ncp /path/to/project/{foo,bar,baz}.sh /newpath\n# Will expand to\ncp /path/to/project/foo.sh /path/to/project/bar.sh /path/to/project/baz.sh /newpath\n\n# Globbing techniques can also be combined\nmv *{.py,.sh} folder\n# Will move all *.py and *.sh files\n\n\nmkdir foo bar\n# This creates files foo/a, foo/b, ... foo/h, bar/a, bar/b, ... bar/h\ntouch {foo,bar}/{a..h}\ntouch foo/x bar/y\n# Show differences between files in foo and bar\ndiff &lt;(ls foo) &lt;(ls bar)\n# Outputs\n# &lt; x\n# ---\n# &gt; y\n</code></pre>","tags":["CS","Missing"]},{"location":"blog/2024/12/04/shell-tools-and-scripting/#6-shebang","title":"6. shebang","text":"<p>Note that scripts need not necessarily be written in bash to be called from the terminal. For instance, here\u2019s a simple Python script that outputs its arguments in reversed order:</p> Python<pre><code>#!/usr/local/bin/python\nimport sys\nfor arg in reversed(sys.argv[1:]):\n    print(arg)\n</code></pre> <p>The kernel knows to execute this script with a python interpreter instead of a shell command because we included a shebang line at the top of the script. </p> <p>It is good practice to write shebang lines using the <code>env</code> command that will resolve to wherever the command lives in the system, increasing the portability of your scripts.</p> <p>btw, if you really want to figure out where your program is, type this: <code>which python</code>, namely <code>which ***</code>, and add the output to the shebang line </p> <p>To resolve the location, <code>env</code> will make use of the <code>PATH</code> environment variable we introduced in the first lecture. For this example the shebang line would look like <code>#!/usr/bin/env python</code>.</p> <p>Some differences between shell functions and scripts that you should keep in mind are:</p> <ul> <li>Functions have to be in the same language as the shell, while scripts can be written in any language. This is why including a shebang for scripts is important.</li> <li>Functions are loaded once when their definition is read. Scripts are loaded every time they are executed. This makes functions slightly faster to load, but whenever you change them you will have to reload their definition.</li> <li>Functions are executed in the current shell environment whereas scripts execute in their own process. Thus, functions can modify environment variables, e.g. change your current directory, whereas scripts can\u2019t. Scripts will be passed by value environment variables that have been exported using export</li> <li>As with any programming language, functions are a powerful construct to achieve modularity, code reuse, and clarity of shell code. Often shell scripts will include their own function definitions.</li> </ul>","tags":["CS","Missing"]},{"location":"blog/2024/12/04/shell-tools-and-scripting/#shell-tools","title":"Shell Tools","text":"","tags":["CS","Missing"]},{"location":"blog/2024/12/04/shell-tools-and-scripting/#1-finding-how-to-use-commands","title":"1. Finding how to use commands","text":"<ul> <li>the first-order approach is to call said command with the <code>-h</code> or <code>--help</code> flags. </li> <li>A more detailed approach is to use the <code>man</code> command. Short for manual, man provides a manual page (called manpage) for a command you specify.</li> <li>For interactive tools such as the ones based on ncurses, help for the commands can often be accessed within the program using the <code>:help</code> command or typing <code>?</code>.</li> </ul> <p>Sometimes manpages can provide overly detailed descriptions of the commands, making it hard to decipher what flags/syntax to use for common use cases. </p> <p>TLDR pages are a nifty complementary solution that focuses on giving example use cases of a command so you can quickly figure out which options to use. </p> <p>To use <code>tldr</code>, just type: <code>tldr ***</code> (just remind, you need to install it first)</p>","tags":["CS","Missing"]},{"location":"blog/2024/12/04/shell-tools-and-scripting/#2-finding-files","title":"2. Finding files","text":"<p><code>find</code> will recursively search for files matching some criteria. </p> <p>Some examples:</p> Bash<pre><code># Find all directories named src\nfind . -name src -type d\n# Find all python files that have a folder named test in their path\nfind . -path '*/test/*.py' -type f\n# Find all files modified in the last day\nfind . -mtime -1\n# Find all zip files with size in range 500k to 10M\nfind . -size +500k -size -10M -name '*.tar.gz'\n</code></pre> <p>Beyond listing files, find can also perform actions over files that match your query. This property can be incredibly helpful to simplify what could be fairly monotonous tasks.</p> Bash<pre><code># Delete all files with .tmp extension\nfind . -name '*.tmp' -exec rm {} \\;\n# Find all PNG files and convert them to JPG\nfind . -name '*.png' -exec convert {} {}.jpg \\;\n</code></pre>","tags":["CS","Missing"]},{"location":"blog/2024/12/04/shell-tools-and-scripting/#3-finding-code","title":"3. Finding code","text":"<p><code>grep</code>, a generic tool for matching patterns from the input text. </p> <p>For now, know that <code>grep</code> has many flags that make it a very versatile tool. Some I frequently use are <code>-C</code> for getting Context around the matching line and <code>-v</code> for inverting the match, i.e. print all lines that do not match the pattern. </p> <p>For example, <code>grep -C 5</code> will print 5 lines before and after the match. When it comes to quickly searching through many files, you want to use <code>-R</code> since it will Recursively go into directories and look for files for the matching string.</p> <p>But <code>grep -R</code> can be improved in many ways, such as ignoring <code>.git</code> folders, using multi CPU support, &amp;c. </p> <p>Many grep alternatives have been developed, including ack, ag and rg. All of them are fantastic and pretty much provide the same functionality. For now I am sticking with ripgrep (rg), given how fast and intuitive it is. Some examples:</p> Bash<pre><code># Find all python files where I used the requests library\nrg -t py 'import requests'\n# Find all files (including hidden files) without a shebang line\nrg -u --files-without-match \"^#\\!\"\n# Find all matches of foo and print the following 5 lines\nrg foo -A 5\n# Print statistics of matches (# of matched lines and files )\nrg --stats PATTERN\n</code></pre>","tags":["CS","Missing"]},{"location":"blog/2024/12/04/shell-tools-and-scripting/#4-finding-shell-commands","title":"4. Finding shell commands","text":"<p>The <code>history</code> command will let you access your shell history programmatically. </p> <p>It will print your shell history to the standard output. If we want to search there we can pipe that output to grep and search for patterns. <code>history | grep find</code> will print commands that contain the substring <code>\u201cfind\u201d</code>.</p> <p>In most shells, you can make use of <code>Ctrl+R</code> to perform backwards search through your history. After pressing <code>Ctrl+R</code>, you can type a substring you want to match for commands in your history. As you keep pressing it, you will cycle through the matches in your history. </p>","tags":["CS","Missing"]},{"location":"blog/2024/12/04/shell-tools-and-scripting/#5-directory-navigation","title":"5. Directory Navigation","text":"<p>uh...just look up the lecture notes</p>","tags":["CS","Missing"]},{"location":"blog/2024/12/04/shell-tools-and-scripting/#exercises","title":"Exercises","text":"<p>Warning</p> <p>I will write my own solution to the problem, If you want to solve those by yourself, please stop.</p> <p>Problem1</p> <p>Read <code>man ls</code> and write an <code>ls</code> command that lists files in the following manner</p> <ul> <li>Includes all files, including hidden files</li> <li>Sizes are listed in human readable format (e.g. 454M instead of 454279954)</li> <li>Files are ordered by recency</li> <li>Output is colorized</li> </ul> <p>A sample output would look like this</p> Bash<pre><code> -rw-r--r--   1 user group 1.1M Jan 14 09:53 baz\n drwxr-xr-x   5 user group  160 Jan 14 09:53 .\n -rw-r--r--   1 user group  514 Jan 14 06:42 bar\n -rw-r--r--   1 user group 106M Jan 13 12:12 foo\n drwx------+ 47 user group 1.5K Jan 12 18:08 ..\n</code></pre> <p></p> <p>Solution</p> Bash<pre><code>[root@iZbp12idmwavjjcx2k19kjZ course2]# ls -a -l -h -t --color=auto\ntotal 88K\n-rw-r--r--  1 root root  54K Dec  3 21:46 install_lts.sh\ndrwxr-xr-x  5 root root 4.0K Dec  3 21:46 .\n-rwxrwxrwx  1 root root   83 Dec  3 20:04 script.py\ndrwxr-xr-x 11 root root 4.0K Dec  3 20:02 bar\ndrwxr-xr-x 11 root root 4.0K Dec  3 20:02 foo\n-rwxrwxrwx  1 root root   50 Dec  3 19:21 mcd.sh\n-rwxrwxrwx  1 root root  485 Dec  3 19:21 f.sh\ndrwxr-xr-x  2 root root 4.0K Dec  3 19:17 test\ndrwxr-xr-x 14 root root 4.0K Dec  3 19:12 ..\n</code></pre> <ul> <li><code>-a</code> : includes all files</li> <li><code>-l</code> : use a long listing format</li> <li><code>-h</code> : print sizes like 1K 234M 2G etc.</li> <li><code>-t</code> : sort by recency</li> <li><code>--color=auto</code> : colorize output</li> </ul> <p>Problem2</p> <p>Write bash functions <code>marco</code> and <code>polo</code> that do the following. Whenever you execute <code>marco</code> the current working directory should be saved in some manner, then when you execute <code>polo</code>, no matter what directory you are in, <code>polo</code> should <code>cd</code> you back to the directory where you executed <code>marco</code>. For ease of debugging you can write the code in a file <code>marco.sh</code> and (re)load the definitions to your shell by executing <code>source marco.sh</code>.</p> <p></p> <p>Solution</p> Bash<pre><code>#!/bin/bash\nmarco() {\n        echo \"$(pwd)\" &gt; $HOME/marco_history.log\n        echo \"save pwd - $(pwd)\"\n}\npolo() {\n        cd \"$(cat \"$HOME/marco_history.log\")\"\n}\n</code></pre> <p>Problem3</p> <p>Say you have a command that fails rarely. In order to debug it you need to capture its output but it can be time consuming to get a failure run. Write a bash script that runs the following script until it fails and captures its standard output and error streams to files and prints everything at the end. Bonus points if you can also report how many runs it took for the script to fail.</p> Bash<pre><code> #!/usr/bin/env bash\n\n n=$(( RANDOM % 100 ))\n\n if [[ n -eq 42 ]]; then\n    echo \"Something went wrong\"\n    &gt;&amp;2 echo \"The error was using magic numbers\"\n    exit 1\n fi\n\n echo \"Everything went according to plan\"\n</code></pre> <p></p> <p>Solution</p> Bash<pre><code>#!/usr/bin/env bash\ncount=0\necho &gt; out.log\n\nwhile true\ndo\n        ./task3.sh &amp;&gt;&gt; out.log\n        if [[ $? -ne 0 ]]; then\n                cat out.log\n                echo \"failed after $count times\"\n                break\n        fi\n        ((count++))\ndone\n</code></pre> <p>Problem4</p> <p>As we covered in the lecture <code>find</code>\u2019s <code>-exec</code> can be very powerful for performing operations over the files we are searching for. However, what if we want to do something with all the files, like creating a zip file? As you have seen so far commands will take input from both arguments and STDIN. When piping commands, we are connecting STDOUT to STDIN, but some commands like <code>tar</code> take inputs from arguments. To bridge this disconnect there\u2019s the xargs command which will execute a command using STDIN as arguments. For example <code>ls | xargs rm</code> will delete the files in the current directory.</p> <p>Your task is to write a command that recursively finds all HTML files in the folder and makes a zip with them. Note that your command should work even if the files have spaces (hint: check <code>-d</code> flag for <code>xargs</code>).</p> <p></p> <p>Solution</p> <p>prerequisite</p> Bash<pre><code>mkdir html_root\ncd html_root\nmkdir html_{a..h}\ntouch html_{a..h}/{a..h}.html\n</code></pre> <p>code</p> Bash<pre><code>find . -type f -name '*.html' | xargs -d '\\n' tar -cvzf html.zip\n</code></pre> <ol> <li> <p><code>find . -type f -name \"*.html\"</code></p> <ul> <li><code>find</code> searches for files and directories.</li> <li><code>.</code> specifies the current directory as the starting point.</li> <li><code>-type f</code> filters the results to include only files (not directories or other types).</li> <li><code>-name \"*.html\"</code> matches files with the .html extension.</li> <li>Output: A list of <code>.html</code> file paths.</li> </ul> </li> <li> <p><code>|</code> (Pipe symbol)</p> <ul> <li>Passes the output of find (list of .html files) as input to the next command, xargs.</li> </ul> </li> <li> <p><code>xargs -d '\\n'</code></p> <ul> <li><code>xargs</code> converts the input (list of file paths) into arguments for the tar command.</li> <li><code>-d '\\n'</code> specifies that each line of input is treated as a separate file. This ensures paths with spaces or special characters are handled correctly.</li> </ul> </li> <li> <p><code>tar -cvzf html.zip</code></p> <ul> <li><code>tar</code> creates compressed archives.</li> <li><code>-c</code> : Creates a new archive.</li> <li><code>-v</code> : Displays a list of files being added to the archive (verbose mode).</li> <li><code>-z</code> : Compresses the archive using gzip.</li> <li><code>-f</code> html.zip: Names the output file <code>html.zip</code>.</li> </ul> </li> </ol> <p>Problem5</p> <p>(Advanced) Write a command or script to recursively find the most recently modified file in a directory. More generally, can you list all files by recency?</p> <p></p> <p>Solution</p> Bash<pre><code>find . -type f -print0 | xargs -0 ls -lt | head -1\n</code></pre>","tags":["CS","Missing"]},{"location":"blog/2024/12/04/shell-tools-and-scripting/#summary","title":"Summary","text":"<p>uh... I find that I'm still quite uncomfortable with the grammar of bash script. The next step I think, before next lecture, maybe is to pursue a deeper and better understanding of bash script.</p>","tags":["CS","Missing"]},{"location":"blog/2024/12/01/the-shell/","title":"The Shell","text":"<p> \u200b\u7ea6\u200b 1290 \u200b\u4e2a\u200b\u5b57\u200b  103 \u200b\u884c\u200b\u4ee3\u7801\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b 6 \u200b\u5206\u949f\u200b</p> <p>\u200b\u524d\u8a00\u200b</p> <p>\u200b\u4e34\u8fd1\u200b\u671f\u672b\u200b\uff0c\u200b\u524d\u65b9\u200b\u6709\u200b\u4e00\u5927\u5806\u200b\u7684\u200b\u80cc\u8bf5\u200b+\u200b\u8003\u8bd5\u200b\u7b49\u200b\u7740\u200b\u6211\u200b\uff0c\u200b\u4f46\u200b\u6211\u200b\u597d\u50cf\u200b\u4e0d\u662f\u200b\u5f88\u200b\u614c\u200b(\u200b\u8fd9\u662f\u200b\u4ec0\u4e48\u200b\u539f\u56e0\u200b...), \u200b\u611f\u89c9\u200b\u6211\u200b\u662f\u200b\u90a3\u79cd\u200b\u4e0d\u6b7b\u200b\u5230\u200b\u4e34\u5934\u200b\u4e0d\u4f1a\u200b\u52a8\u200b\u7684\u200b\u4eba\u200b\uff0c\u200b\u95f2\u200b\u7684\u200b\u65e0\u804a\u200b\u51b3\u5b9a\u200b\u5237\u200b\u4e00\u4e0b\u200b\u8fd9\u95e8\u200b\u5e7f\u53d7\u200b\u597d\u8bc4\u200b\u7684\u200b\u516c\u5f00\u8bfe\u200b\uff0c\u200b\u5c31\u200b\u5f53\u505a\u200b\u5a31\u4e50\u200b\u653e\u677e\u200b\u7f62\u200b(\u200b\u8ba1\u5212\u200b\u4f7f\u7528\u200b\u82f1\u6587\u200b\u7b14\u8bb0\u200b\uff0c\u200b\u953b\u70bc\u200b\u4e00\u4e0b\u200b\u5199\u4f5c\u80fd\u529b\u200b\uff0c\u200b\u5982\u679c\u200b\u6709\u200b\u5927\u91cf\u200b\u9519\u8bef\u200b\u8bf7\u200b\u89c1\u8c05\u200b ----\u200b\u8bfe\u7a0b\u200b\u94fe\u63a5\u200b: 2020 Lectures \u00b7 Missing Semester </p> <p>\u200b\u672c\u200b\u7ae0\u8282\u200b\u94fe\u63a5\u200b: Missing Semester Overview</p>","tags":["CS","Missing"]},{"location":"blog/2024/12/01/the-shell/#1-what-is-the-shell","title":"1. What is the shell","text":"<p>All kinds of shell share one common core: they allow you to run programs, give them input, and inspect their output in a semi-structured way</p> <p>As I use macos, my shell is terminal or namely zsh. (uh... btw, to be honest, I don't quiet know the differences between zsh and terminal and shell, hope I'm right..</p>","tags":["CS","Missing"]},{"location":"blog/2024/12/01/the-shell/#2-using-the-shell","title":"2. Using the shell","text":"<p>When you launch your terminal, you will see a prompt that often looks a little like this:</p> Bash<pre><code>missing:~$ \n</code></pre> <p>Down below is what my shell looks like: Bash<pre><code>cangjingyue@chenjinyangdeMacBook-Air ~ % \n</code></pre></p> <p>This is the main textual interface to the shell. It tells you that you are on the machine <code>missing</code> and that your \u201ccurrent working directory\u201d, or where you currently are, is <code>~</code> (short for \u201chome\u201d). The <code>$</code> tells you that you are not the root user (more on that later). At this prompt you can type a command, which will then be interpreted by the shell. </p>","tags":["CS","Missing"]},{"location":"blog/2024/12/01/the-shell/#some-basic-command","title":"Some basic command","text":"<ol> <li>date</li> </ol> <p><code>date</code> prints the current date and time Bash<pre><code>missing:~$ date\nFri 10 Jan 2020 11:49:31 AM EST\nmissing:~$ \n</code></pre></p> <ol> <li>echo</li> </ol> <p><code>echo</code> simply prints out its arguments.</p> Bash<pre><code>missing:~$ echo hello\nhello\n</code></pre> <p>If you want to provide an argument that contains spaces or other special characters (e.g., a directory named <code>\u201cMy Photos\u201d</code>), you can either quote the argument with <code>'</code> or <code>\"</code> (<code>\"My Photos\"</code>), or escape just the relevant characters with <code>\\</code> (<code>My\\ Photos</code>).</p> <p>But... it seems that my macos doesn't need those quote or back slash, it  will also print out the correct arguments</p> <p>just like \u2b07\ufe0f Bash<pre><code>cangjingyue@chenjinyangdeMacBook-Air ~ % echo My Photos\nMy Photos\n</code></pre></p> <p>If the shell is asked to execute a command that doesn\u2019t match one of its programming keywords, it consults an environment variable called <code>$PATH</code> that lists which directories the shell should search for programs when it is given a command:</p> Bash<pre><code>missing:~$ echo $PATH\n/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\nmissing:~$ which echo\n/bin/echo\nmissing:~$ /bin/echo $PATH\n/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\n</code></pre>","tags":["CS","Missing"]},{"location":"blog/2024/12/01/the-shell/#3-navigating-in-the-shell","title":"3. Navigating in the shell","text":"<p>1. pwd</p> <p><code>pwd</code> prints the absolute path of current working directory</p> Bash<pre><code>missing:~$ pwd\n/home/missing\n</code></pre> <p>2. cd</p> <p><code>cd</code> change your working directory to another</p> Bash<pre><code>missing:~$ cd /home\nmissing:/home$ pwd\n/home\nmissing:/home$ cd ..\nmissing:/$ pwd\n/\nmissing:/$ cd ./home\nmissing:/home$ pwd\n/home\nmissing:/home$ cd missing\nmissing:~$ pwd\n/home/missing\n</code></pre> <p>3. ls</p> <p>To see what lives in a given directory, we use the <code>ls</code> command:</p> Bash<pre><code>missing:~$ ls\nmissing:~$ cd ..\nmissing:/home$ ls\nmissing\nmissing:/home$ cd ..\nmissing:/$ ls\nbin\nboot\ndev\netc\nhome\n...\n</code></pre> <p>4. ls -l</p> <p><code>ls -l</code> use a long listing format:</p> Bash<pre><code>missing:~$ ls -l /home\ndrwxr-xr-x 1 missing  users  4096 Jun 15  2019 missing\n</code></pre> <ul> <li>First, the <code>d</code> at the beginning of the line tells us that missing is a directory. </li> <li>Then follow three groups of three characters (rwx). These indicate what permissions the owner of the file (missing), the owning group (users), and everyone else respectively have on the relevant item. </li> <li>A <code>-</code> indicates that the given principal does not have the given permission. </li> <li>Above, only the owner is allowed to modify (w) the missing directory (i.e., add/remove files in it). </li> <li>To enter a directory, a user must have \u201csearch\u201d (represented by \u201cexecute\u201d: x) permissions on that directory (and its parents). </li> <li>To list its contents, a user must have read \u00ae permissions on that directory. For files, the permissions are as you would expect. </li> <li>Quick summary: <code>rwx</code> represents the permissions, <code>r</code> for read, <code>w</code> for modify, <code>x</code> for execute, <code>-</code> for don't have the given permission.</li> <li>Notice that nearly all the files in <code>/bin</code> have the <code>x</code> permission set for the last group, \u201ceveryone else\u201d, so that anyone can execute those programs.</li> </ul> <p>5. other else</p> <ul> <li><code>mv</code> (to rename/move a file)</li> <li><code>cp</code> (to copy a file)</li> <li><code>mkdir</code> (to make a new directory).</li> <li><code>man</code> ( It takes as an argument the name of a program, and shows you its manual page. Press <code>q</code> to exit.)</li> </ul> Bash<pre><code>missing:~$ man ls\n</code></pre>","tags":["CS","Missing"]},{"location":"blog/2024/12/01/the-shell/#4-connecting-programs","title":"4. Connecting programs","text":"<p><code>&lt; file</code> and <code>&gt; file</code>. These let you rewire the input and output streams of a program to a file respectively:</p> Bash<pre><code>missing:~$ echo hello &gt; hello.txt\nmissing:~$ cat hello.txt\nhello\nmissing:~$ cat &lt; hello.txt\nhello\nmissing:~$ cat &lt; hello.txt &gt; hello2.txt\nmissing:~$ cat hello2.txt\nhello\n</code></pre> <p><code>cat</code> is a program that concatenates files. When given file names as arguments, it prints the contents of each of the files in sequence to its output stream. But when cat is not given any arguments, it prints contents from its input stream to its output stream (like in the third example above).</p> <p>You can also use <code>&gt;&gt;</code> to append to a file</p> <p>The <code>|</code> operator lets you \u201cchain\u201d programs such that the output of one is the input of another:</p> Bash<pre><code>missing:~$ ls -l / | tail -n1\ndrwxr-xr-x 1 root  root  4096 Jun 20  2019 var\nmissing:~$ curl --head --silent google.com | grep --ignore-case content-length | cut --delimiter=' ' -f2\n219\n</code></pre> <p>The command <code>tail</code> means print the tail lines of a file, <code>-n</code> means the index of the line(starting from 1 in the end), <code>-n1</code> means to print the exactly last one line of the file.</p>","tags":["CS","Missing"]},{"location":"blog/2024/12/01/the-shell/#5-a-versatile-and-powerful-tool","title":"5. A versatile and powerful tool","text":"<p>On most Unix-like systems, one user is special: the \u201croot\u201d user.</p> <p>The root user is above (almost) all access restrictions, and can create, read, update, and delete any file in the system.</p> <p>using the <code>sudo</code> command. As its name implies, it lets you \u201cdo\u201d something \u201cas su\u201d (short for \u201csuper user\u201d, or \u201croot\u201d)</p> <p>One thing you need to be root in order to do is writing to the sysfs file system mounted under <code>/sys</code>. sysfs exposes a number of kernel parameters as files, so that you can easily reconfigure the kernel on the fly without specialized tools. Note that sysfs does not exist on Windows or macOS.</p> <p>For example, the brightness of your laptop\u2019s screen is exposed through a file called brightness under</p> Bash<pre><code>/sys/class/backlight\n</code></pre> <p>By writing a value into that file, we can change the screen brightness. Your first instinct might be to do something like:</p> Bash<pre><code>$ sudo find -L /sys/class/backlight -maxdepth 2 -name '*brightness*'\n/sys/class/backlight/thinkpad_screen/brightness\n$ cd /sys/class/backlight/thinkpad_screen\n$ sudo echo 3 &gt; brightness\nAn error occurred while redirecting file 'brightness'\nopen: Permission denied\n</code></pre> <p>Simply speaking, the error occurs because the shell (which is authenticated just as your user) tries to open the brightness file for writing, before setting that as sudo echo\u2019s output, but is prevented from doing so since the shell does not run as root. </p> Bash<pre><code>$ echo 3 | sudo tee brightness\n</code></pre> <p>Since the <code>tee</code> program is the one to open the <code>/sys</code> file for writing, and it is running as root, the permissions all work out. </p>","tags":["CS","Missing"]},{"location":"blog/2024/12/01/the-shell/#6-exercises","title":"6. exercises","text":"<p>Warning</p> <p>I will write my own solution to the problem, If you want to solve those by yourself, please stop.</p> <p>1. Create a new directory called <code>missing</code> under <code>/tmp</code>. </p> Bash<pre><code>cd /tmp\nmkdir missing\n</code></pre> <p>2. Use <code>touch</code> to create a new file called <code>semester</code> in <code>missing</code>.</p> Bash<pre><code>cd missing\ntouch semster\n</code></pre> <p>5. Write the following into that file, one line at a time: Bash<pre><code>#!/bin/sh\ncurl --head --silent https://missing.csail.mit.edu\n</code></pre></p> <p>The first line might be tricky to get working. It\u2019s helpful to know that <code>#</code> starts a comment in Bash, and <code>!</code> has a special meaning even within double-quoted (\") strings. Bash treats single-quoted strings (') differently: they will do the trick in this case. See the Bash Quoting (Bash Reference Manual) manual page for more information.</p> Bash<pre><code>echo '#!/bin/sh' &gt; semster\necho 'curl --head --silent https://missing.csail.mit.edu' &gt;&gt; semster\n</code></pre> <p>6. execute the file</p> <p>result:</p> Bash<pre><code>cangjingyue@chenjinyangdeMacBook-Air missing % ./semster\nzsh: permission denied: ./semester\n</code></pre> <p>doesn't work...</p> <p>using <code>ls -l</code> to check the permissions:</p> Bash<pre><code>cangjingyue@chenjinyangdeMacBook-Air missing % ls -l \ntotal 8\n-rw-r--r--  1 cangjingyue  wheel  61 Dec  1 10:44 semster\n</code></pre> <p>7. Use <code>chmod</code> to make it possible to run the command <code>./semester</code></p> <p>First, quick dive to <code>chmod</code></p> <p><code>chmod</code> : change file modes or Access Control Lists</p> <p>Usage: <code>chmod [\u200b\u9009\u9879\u200b]... \u200b\u6a21\u5f0f\u200b[,\u200b\u6a21\u5f0f\u200b]... \u200b\u6587\u4ef6\u200b...</code></p> <p><code>mode</code> define the permissions of the file or directory, usually 3 number. Each number represents the permissions of user, group and other respectively.</p> <p>Each write, read, and execute permissions have the following number value:</p> <ul> <li>r (read) = 4</li> <li>w (write) = 2</li> <li>x (execute) = 1</li> <li>no permissions = 0</li> </ul> <p>To find out the file\u2019s permissions in numeric mode simply calculate the totals for all users classes. For example, to give read, write and execute permission to the file\u2019s owner, read and execute permissions to the file\u2019s group and only read permissions to all other users you would do the following:</p> <ul> <li>Owner: rwx=4+2+1=7</li> <li>Group: r-x=4+0+1=5</li> <li>Others: r-x=4+0+0=4</li> </ul> <p>Using the above knowledge, the solution:</p> Bash<pre><code>chmod 777 semester\n./semster\n</code></pre> <p>result</p> Bash<pre><code>HTTP/2 200 \nserver: GitHub.com\ncontent-type: text/html; charset=utf-8\nlast-modified: Thu, 24 Oct 2024 16:34:06 GMT\naccess-control-allow-origin: *\netag: \"671a76fe-205d\"\nexpires: Sat, 30 Nov 2024 08:50:54 GMT\ncache-control: max-age=600\nx-proxy-cache: MISS\nx-github-request-id: FFD8:1DA486:102D65D:10CDF1E:674ACF96\naccept-ranges: bytes\nage: 0\ndate: Sun, 01 Dec 2024 03:08:59 GMT\nvia: 1.1 varnish\nx-served-by: cache-itm1220038-ITM\nx-cache: HIT\nx-cache-hits: 0\nx-timer: S1733022540.782095,VS0,VE181\nvary: Accept-Encoding\nx-fastly-request-id: f004543c54e1f7139ecb9f84682d652aa24b9a04\ncontent-length: 8285\n</code></pre> <p>8. Use <code>|</code> and <code>&gt;</code> to write the <code>\u201clast modified\u201d</code> date output by <code>semester</code> into a file called <code>last-modified.txt</code> in your home directory.</p> Bash<pre><code>./semster | grep last-modified &gt; ~/last-modified.txt\n</code></pre> <p>result</p> Bash<pre><code>cangjingyue@chenjinyangdeMacBook-Air missing % cat ~/last-modified.txt \nlast-modified: Thu, 24 Oct 2024 16:34:06 GMT\n</code></pre>","tags":["CS","Missing"]},{"location":"blog/2024/11/12/dijkstra%E7%AE%97%E6%B3%95/","title":"Dijkstra\u200b\u7b97\u6cd5","text":"<p> \u200b\u7ea6\u200b 94 \u200b\u4e2a\u200b\u5b57\u200b  64 \u200b\u884c\u200b\u4ee3\u7801\u200b  1 \u200b\u5f20\u200b\u56fe\u7247\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b 1 \u200b\u5206\u949f\u200b</p> <p></p> <p>\u200b\u6280\u5de7\u200b\uff1a \u200b\u5982\u679c\u200b\u56fe\u4e3a\u200b\u65e0\u200b\u5411\u200b\u56fe\u200b\uff08\u200b\u6709\u5411\u56fe\u200b\u53cd\u8f6c\u200b\uff09\u200b\u4e14\u200b\u4e0d\u200b\u5b58\u5728\u200b\u8d1f\u8fb9\u200b\uff0c\u200b\u8981\u6c42\u200b\u6c42\u200b\u5404\u4e2a\u200b\u70b9\u200b i \u200b\u5230\u200b\u540c\u4e00\u200b\u7ec8\u70b9\u200b n \u200b\u7684\u200b\u6700\u200b\u77ed\u200b\u8def\u5f84\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u8bbe\u7f6e\u200bDijkstra\u200b\u7684\u200b\u8d77\u70b9\u200b\u548c\u200b\u7ec8\u70b9\u200b \u200b\u5747\u200b\u4e3a\u200b n\uff0c\u200b\u6c42\u89e3\u200b\u5f97\u5230\u200b\u7684\u200b distance \u200b\u6570\u7ec4\u200b\u5373\u200b \u200b\u5404\u4e2a\u200b\u70b9\u200b i \u200b\u5230\u200b\u7ec8\u70b9\u200b n \u200b\u7684\u200b\u6700\u200b\u77ed\u8ddd\u79bb\u200b\u3002</p> <p>\u200b\u4ee5\u200b743. \u200b\u7f51\u7edc\u200b\u5ef6\u8fdf\u65f6\u95f4\u200b\u4e3a\u4f8b\u200b</p> <p>Dijkstra\u200b\u7b97\u6cd5\u200b\u6a21\u7248\u200b</p> <p>Java \u200b\u9898\u89e3\u200b\uff1a</p> Java<pre><code>class Solution {\n    public int networkDelayTime(int[][] times, int n, int s) {\n        ArrayList&lt;ArrayList&lt;int[]&gt;&gt; graph = new ArrayList&lt;&gt;();\n        // \u200b\u8282\u70b9\u200b\u4e0b\u6807\u200b\u4e3a\u200b 1 - n\n        for (int i = 0; i &lt;= n; i++) {\n            graph.add(new ArrayList&lt;&gt;());\n        }\n        for (int[] edge : times) {\n            graph.get(edge[0]).add(new int[]{edge[1], edge[2]});\n        }\n        int[] distance = new int[n + 1];\n        Arrays.fill(distance, Integer.MAX_VALUE);\n        distance[s] = 0;\n        boolean[] visted = new boolean[n + 1];\n        PriorityQueue&lt;int[]&gt; heap = new PriorityQueue&lt;&gt;((a, b) -&gt; a[1] - b[1]);\n        heap.add(new int[]{s, 0});\n        while (!heap.isEmpty()) {\n            int u = heap.poll()[0];\n            if (visted[u]) {\n                continue;\n            }\n            visted[u] = true;\n            for (int[] edge : graph.get(u)) {\n                int v = edge[0];\n                int w = edge[1];\n                if (!visted[v] &amp;&amp; distance[u] + w &lt; distance[v]) {\n                    distance[v] = distance[u] + w;\n                    heap.add(new int[] {v, distance[u] + w});\n                }\n            }\n        }\n        int ans = Integer.MIN_VALUE;\n        for (int i = 1; i &lt;= n; i++) {\n            if (distance[i] == Integer.MAX_VALUE) {\n                return -1;\n            }\n            ans = Math.max(ans, distance[i]);\n        }\n        return ans;\n    }\n}\n</code></pre> <p>Python \u200b\u9898\u89e3\u200b\uff1a</p> Python<pre><code>class Solution:\n    def networkDelayTime(self, times: List[List[int]], n: int, s: int) -&gt; int:\n        graph = [[] for _ in range(n + 1)]\n        for u, v, w in times:\n            graph[u].append((v, w))\n\n        distance = [inf for _ in range(n + 1)]\n        distance[s] = 0\n        visited = [False for _ in range(n + 1)]\n\n        heap = [(0, s)]\n        while heap:\n            _, u = heappop(heap)\n            if visited[u]:\n                continue\n            visited[u] = True\n            for v, w in graph[u]:\n                if not visited[v] and distance[u] + w &lt; distance[v]:\n                    distance[v] = distance[u] + w\n                    heappush(heap, (distance[v], v))\n        ans = max(distance[1:])\n        return ans if ans &lt; inf else -1\n</code></pre>","tags":["Algorithm"]},{"location":"blog/2024/11/12/%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3%E6%A8%A1%E7%89%88/","title":"\u6ed1\u52a8\u200b\u7a97\u53e3\u200b\u6a21\u7248","text":"<p> \u200b\u7ea6\u200b 21 \u200b\u4e2a\u200b\u5b57\u200b  36 \u200b\u884c\u200b\u4ee3\u7801\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b 1 \u200b\u5206\u949f\u200b</p> <p>\u200b\u7edf\u4e00\u200b\u6a21\u7248\u200b Java<pre><code>//\u200b\u5916\u5c42\u200b\u5faa\u73af\u200b\u6269\u5c55\u200b\u53f3\u200b\u8fb9\u754c\u200b\uff0c\u200b\u5185\u5c42\u200b\u5faa\u73af\u200b\u6269\u5c55\u200b\u5de6\u200b\u8fb9\u754c\u200b\nfor (int l = 0, r = 0 ; r &lt; n ; r++) {\n        //\u200b\u5f53\u524d\u200b\u8003\u8651\u200b\u7684\u200b\u5143\u7d20\u200b\n        while (l &lt;= r &amp;&amp; check()) {//\u200b\u533a\u95f4\u200b[left,right]\u200b\u4e0d\u200b\u7b26\u5408\u200b\u9898\u610f\u200b\n        //\u200b\u6269\u5c55\u200b\u5de6\u200b\u8fb9\u754c\u200b\n    }\n    //\u200b\u533a\u95f4\u200b[left,right]\u200b\u7b26\u5408\u200b\u9898\u610f\u200b\uff0c\u200b\u7edf\u8ba1\u200b\u76f8\u5173\u200b\u4fe1\u606f\u200b\n}\n</code></pre></p> <p> </p> <p>\u200b\u6a21\u7248\u200b\u9898\u200b\uff1a3. \u200b\u65e0\u200b\u91cd\u590d\u200b\u5b57\u7b26\u200b\u7684\u200b\u5b50\u4e32\u200b</p> <p>Java\u200b\u9898\u89e3\u200b Java<pre><code>class Solution {\n    public int lengthOfLongestSubstring(String s) {\n        char[] ss = s.toCharArray();\n        Set&lt;Character&gt; set = new HashSet&lt;&gt;();\n        int res = 0;\n        for (int left = 0, right = 0; right &lt; s.length(); right++) {\n            char ch = ss[right];\n            while (set.contains(ch)) {\n                set.remove(ss[left]);\n                left++;\n            }\n            set.add(ss[right]);\n            res = Math.max(res, right - left + 1);\n        }\n        return res;\n    }\n}\n</code></pre></p> <p>python\u200b\u9898\u89e3\u200b Python<pre><code>class Solution:\n    def lengthOfLongestSubstring(self, s: str) -&gt; int:\n        x = set()\n        res, left = 0, 0\n        for right in range(len(s)):\n            while s[right] in x:\n                x.remove(s[left])\n                left += 1\n            x.add(s[right])\n            res = max(res, right - left + 1)\n        return res\n</code></pre></p>","tags":["Algorithm"]},{"location":"blog/2024/11/12/minio-%E9%83%A8%E7%BD%B2/","title":"Minio \u200b\u90e8\u7f72","text":"<p> \u200b\u7ea6\u200b 113 \u200b\u4e2a\u200b\u5b57\u200b  27 \u200b\u884c\u200b\u4ee3\u7801\u200b  5 \u200b\u5f20\u200b\u56fe\u7247\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b 1 \u200b\u5206\u949f\u200b</p>","tags":["docker"]},{"location":"blog/2024/11/12/minio-%E9%83%A8%E7%BD%B2/#_1","title":"\u521b\u5efa\u200b\u6302\u8f7d\u200b\u76ee\u5f55","text":"Bash<pre><code>#\u200b\u521b\u5efa\u200b\u6302\u8f7d\u200b\u76ee\u5f55\u200b\nmkdir -p /data/minio\n</code></pre>","tags":["docker"]},{"location":"blog/2024/11/12/minio-%E9%83%A8%E7%BD%B2/#yml","title":"\u521b\u5efa\u200byml\u200b\u6587\u4ef6","text":"Bash<pre><code>vim /data/minio/docker-compose.yml\n</code></pre>","tags":["docker"]},{"location":"blog/2024/11/12/minio-%E9%83%A8%E7%BD%B2/#_2","title":"\u586b\u5165\u200b\u914d\u7f6e","text":"Bash<pre><code>version: '3.9'\nservices:\n  minio:\n    image: \"quay.io/minio/minio:RELEASE.2022-08-02T23-59-16Z\"\n    container_name: minio\n    ports:\n      - \"9000:9000\" # api \u200b\u7aef\u53e3\u200b\n      - \"9001:9001\" # \u200b\u63a7\u5236\u53f0\u200b\u7aef\u53e3\u200b\n    environment:\n      TZ: Asia/Shanghai # \u200b\u65f6\u200b\u533a\u200b\u4e0a\u6d77\u200b\n      MINIO_ROOT_USER: admin # \u200b\u7ba1\u7406\u200b\u540e\u53f0\u200b\u7528\u6237\u540d\u200b\n      MINIO_ROOT_PASSWORD: 12345678 # \u200b\u7ba1\u7406\u200b\u540e\u53f0\u200b\u5bc6\u7801\u200b\uff0c\u200b\u6700\u5c0f\u200b8\u200b\u4e2a\u5b57\u7b26\u200b\n      MINIO_COMPRESS: \"off\" # \u200b\u5f00\u542f\u200b\u538b\u7f29\u200b on \u200b\u5f00\u542f\u200b off \u200b\u5173\u95ed\u200b\n      MINIO_COMPRESS_EXTENSIONS: \"\" # \u200b\u6269\u5c55\u540d\u200b .pdf,.doc \u200b\u4e3a\u7a7a\u200b \u200b\u6240\u6709\u200b\u7c7b\u578b\u200b\u5747\u200b\u538b\u7f29\u200b\n      MINIO_COMPRESS_MIME_TYPES: \"\" # mime \u200b\u7c7b\u578b\u200b application/pdf \u200b\u4e3a\u7a7a\u200b \u200b\u6240\u6709\u200b\u7c7b\u578b\u200b\u5747\u200b\u538b\u7f29\u200b\n    volumes:\n      - /data/minio/data:/data/ # \u200b\u6620\u5c04\u200b\u5f53\u524d\u76ee\u5f55\u200b\u4e0b\u200b\u7684\u200bdata\u200b\u76ee\u5f55\u200b\u81f3\u200b\u5bb9\u5668\u200b\u5185\u200b/data\u200b\u76ee\u5f55\u200b      \n      - /data/minio/config:/root/.minio/ # \u200b\u6620\u5c04\u200b\u914d\u7f6e\u200b\u76ee\u5f55\u200b\n    command: server --address ':9000' --console-address ':9001' /data  # \u200b\u6307\u5b9a\u200b\u5bb9\u5668\u200b\u4e2d\u200b\u7684\u200b\u76ee\u5f55\u200b /data\n    privileged: true\n</code></pre>","tags":["docker"]},{"location":"blog/2024/11/12/minio-%E9%83%A8%E7%BD%B2/#_3","title":"\u542f\u52a8\u200b\u5bb9\u5668","text":"Bash<pre><code>cd /data/minio\ndocker-compose up -d\n#\u200b\u5982\u679c\u200b\u9700\u8981\u200b\u5f3a\u5236\u200b\u91cd\u65b0\u200b\u6784\u5efa\u200b\ndocker-compose up --force-recreate -d\n</code></pre>","tags":["docker"]},{"location":"blog/2024/11/12/minio-%E9%83%A8%E7%BD%B2/#90009001","title":"\uff01\uff01\u200b\u5b89\u5168\u200b\u7ec4\u200b\u6dfb\u52a0\u200b\u7aef\u53e3\u200b 9000\uff0c9001 \uff01\uff01","text":"","tags":["docker"]},{"location":"blog/2024/11/12/minio-%E9%83%A8%E7%BD%B2/#_4","title":"\u914d\u7f6e\u200b\u6876","text":"<p>\u200b\u521b\u5efa\u200b\u6876\u200b  \u200b\u8bbe\u7f6e\u200b\u6876\u200b\u4e3a\u200b\u516c\u5f00\u200b </p> <p></p> <p>\u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200b\u6743\u9650\u200b\u7528\u6237\u200b\uff0c\u200b\u83b7\u53d6\u200b\u5bc6\u94a5\u200b</p> <p></p> <p></p> <p>\u200b\u70b9\u51fb\u200bcreate\u200b\u6309\u94ae\u200b\u540e\u200b\uff0c\u200b\u4f1a\u200b\u968f\u673a\u200b\u751f\u6210\u200baccessKey secretKey\u3002 \u200b\u4f1a\u200b\u5c06\u200b\u8fd9\u200b\u4e24\u4e2a\u200bkey\u200b\u8fdb\u884c\u200b\u5c55\u793a\u200b\uff0c\u200b\u6b64\u65f6\u200b\u53ef\u4ee5\u200b\u590d\u5236\u7c98\u8d34\u200b\u5230\u200b\u4e00\u4e2a\u200b\u6587\u672c\u6587\u4ef6\u200b\u4e0a\u200b\uff0c\u200b\u540e\u7eed\u200b\u4f7f\u7528\u200b\u4ee3\u7801\u200b\u4e0a\u4f20\u200b\u6587\u4ef6\u200b\u65f6\u200b\u9700\u8981\u200b\u7528\u5230\u200b\u8fd9\u200b\u4e24\u4e2a\u200bkey</p>","tags":["docker"]},{"location":"blog/2024/11/12/mysql-%E9%83%A8%E7%BD%B2/","title":"Mysql \u200b\u90e8\u7f72","text":"<p> \u200b\u7ea6\u200b 34 \u200b\u4e2a\u200b\u5b57\u200b  59 \u200b\u884c\u200b\u4ee3\u7801\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b 1 \u200b\u5206\u949f\u200b</p>","tags":["docker"]},{"location":"blog/2024/11/12/mysql-%E9%83%A8%E7%BD%B2/#_1","title":"\u521b\u5efa\u200b\u6302\u8f7d\u200b\u76ee\u5f55","text":"Bash<pre><code>#\u200b\u521b\u5efa\u200b\u6302\u8f7d\u200b\u76ee\u5f55\u200b\nmkdir -p /data/mysql/data;\nmkdir -p /data/mysql/conf;\n</code></pre>","tags":["docker"]},{"location":"blog/2024/11/12/mysql-%E9%83%A8%E7%BD%B2/#yml","title":"\u521b\u5efa\u200byml\u200b\u6587\u4ef6","text":"Bash<pre><code>vim /data/mysql/docker-compose.yml\n</code></pre>","tags":["docker"]},{"location":"blog/2024/11/12/mysql-%E9%83%A8%E7%BD%B2/#_2","title":"\u586b\u5165\u200b\u914d\u7f6e","text":"Bash<pre><code>version: '3.8' # \u200b\u9009\u62e9\u200b\u5408\u9002\u200b\u7248\u672c\u200b\nservices:\n  mysql:\n    image: mysql:8.0.30 #mysql\u200b\u7248\u672c\u200b\n    container_name: mysql\n    volumes:\n      - /data/mysql/data:/var/lib/mysql\n      - /data/mysql/conf/my.cnf:/etc/mysql/mysql.conf.d/mysqld.cnf\n    restart: always\n    ports:\n      - 3306:3306\n    environment:\n      MYSQL_ROOT_PASSWORD: 123456 #root\u200b\u7528\u6237\u200b\u5bc6\u7801\u200b\n      TZ: Asia/Shanghai\n    command: --character-set-server=utf8mb4 --collation-server=utf8mb4_unicode_ci\n</code></pre>","tags":["docker"]},{"location":"blog/2024/11/12/mysql-%E9%83%A8%E7%BD%B2/#_3","title":"\u521b\u5efa\u200b\u914d\u7f6e\u6587\u4ef6","text":"Bash<pre><code>vim /data/mysql/conf/my.cnf\n</code></pre> Bash<pre><code>[mysqld]\ndefault-storage-engine=INNODB  # \u200b\u521b\u5efa\u200b\u65b0\u8868\u65f6\u200b\u5c06\u200b\u4f7f\u7528\u200b\u7684\u200b\u9ed8\u8ba4\u200b\u5b58\u50a8\u200b\u5f15\u64ce\u200b\ncharacter-set-server=utf8mb4      # \u200b\u8bbe\u7f6e\u200bmysql\u200b\u670d\u52a1\u7aef\u200b\u9ed8\u8ba4\u200b\u5b57\u7b26\u96c6\u200b\npid-file        = /var/run/mysqld/mysqld.pid  # pid\u200b\u6587\u4ef6\u200b\u6240\u5728\u200b\u76ee\u5f55\u200b\nsocket          = /var/run/mysqld/mysqld.sock # \u200b\u7528\u4e8e\u200b\u672c\u5730\u8fde\u63a5\u200b\u7684\u200bsocket\u200b\u5957\u200b\u63a5\u5b57\u200b\ndatadir         = /var/lib/mysql              # \u200b\u6570\u636e\u6587\u4ef6\u200b\u5b58\u653e\u200b\u7684\u200b\u76ee\u5f55\u200b\nsymbolic-links=0\nsql_mode=STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION # \u200b\u5b9a\u4e49\u200bmysql\u200b\u5e94\u8be5\u200b\u652f\u6301\u200b\u7684\u200bsql\u200b\u8bed\u6cd5\u200b\uff0c\u200b\u6570\u636e\u200b\u6821\u9a8c\u200b\u7b49\u200b!\n\n# \u200b\u5141\u8bb8\u200b\u6700\u5927\u200b\u8fde\u63a5\u6570\u200b\nmax_connections=200\n\n\n# \u200b\u540c\u4e00\u200b\u5c40\u57df\u7f51\u200b\u5185\u200b\u6ce8\u610f\u200b\u8981\u200b\u552f\u4e00\u200b\nserver-id=3306\n# \u200b\u5f00\u542f\u200b\u4e8c\u8fdb\u5236\u200b\u65e5\u5fd7\u200b\u529f\u80fd\u200b &amp; \u200b\u65e5\u5fd7\u200b\u4f4d\u7f6e\u200b\u5b58\u653e\u200b\u4f4d\u7f6e\u200b`/var/lib/mysql`\n#log-bin=mysql-bin\nlog-bin=/var/lib/mysql/mysql-bin\n# binlog\u200b\u683c\u5f0f\u200b\n# 1. STATEMENT\uff1a\u200b\u57fa\u4e8e\u200bSQL\u200b\u8bed\u53e5\u200b\u7684\u200b\u6a21\u5f0f\u200b\uff0cbinlog \u200b\u6570\u636e\u91cf\u200b\u5c0f\u200b\uff0c\u200b\u4f46\u662f\u200b\u67d0\u4e9b\u200b\u8bed\u53e5\u200b\u548c\u200b\u51fd\u6570\u200b\u5728\u200b\u590d\u5236\u200b\u8fc7\u7a0b\u200b\u53ef\u80fd\u200b\u5bfc\u81f4\u200b\u6570\u636e\u200b\u4e0d\u200b\u4e00\u81f4\u200b\u751a\u81f3\u200b\u51fa\u9519\u200b\uff1b\n# 2. MIXED\uff1a\u200b\u6df7\u5408\u200b\u6a21\u5f0f\u200b\uff0c\u200b\u6839\u636e\u200b\u8bed\u53e5\u200b\u6765\u200b\u9009\u7528\u200b\u662f\u200b STATEMENT \u200b\u8fd8\u662f\u200b ROW \u200b\u6a21\u5f0f\u200b\uff1b\n# 3. ROW\uff1a\u200b\u57fa\u4e8e\u200b\u884c\u200b\u7684\u200b\u6a21\u5f0f\u200b\uff0c\u200b\u8bb0\u5f55\u200b\u7684\u200b\u662f\u200b\u884c\u200b\u7684\u200b\u5b8c\u6574\u200b\u53d8\u5316\u200b\u3002\u200b\u5b89\u5168\u200b\uff0c\u200b\u4f46\u200b binlog \u200b\u4f1a\u200b\u6bd4\u200b\u5176\u4ed6\u200b\u4e24\u79cd\u200b\u6a21\u5f0f\u200b\u5927\u200b\u5f88\u591a\u200b\uff1b\nbinlog_format=ROW\n# FULL\uff1abinlog\u200b\u8bb0\u5f55\u200b\u6bcf\u200b\u4e00\u884c\u200b\u7684\u200b\u5b8c\u6574\u200b\u53d8\u66f4\u200b MINIMAL\uff1a\u200b\u53ea\u200b\u8bb0\u5f55\u200b\u5f71\u54cd\u200b\u540e\u200b\u7684\u200b\u884c\u200b\nbinlog_row_image=FULL\n# \u200b\u65e5\u5fd7\u200b\u6587\u4ef6\u5927\u5c0f\u200b\nmax_binlog_size=100M\n# \u200b\u5b9a\u4e49\u200b\u6e05\u9664\u200b\u8fc7\u671f\u200b\u65e5\u5fd7\u200b\u7684\u200b\u65f6\u95f4\u200b(\u200b\u8fd9\u91cc\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b7\u200b\u5929\u200b)\nexpire_logs_days=7\n\n# ================= \u2191\u2191\u2191 mysql\u200b\u4e3b\u4ece\u200b\u540c\u6b65\u200b\u914d\u7f6e\u200bend \u2191\u2191\u2191 =================\n\n[mysql]\ndefault-character-set=utf8mb4\n\n[client]\ndefault-character-set=utf8mb4  # \u200b\u8bbe\u7f6e\u200bmysql\u200b\u5ba2\u6237\u7aef\u200b\u9ed8\u8ba4\u200b\u5b57\u7b26\u96c6\u200b\n</code></pre>","tags":["docker"]},{"location":"blog/2024/11/12/mysql-%E9%83%A8%E7%BD%B2/#_4","title":"\u542f\u52a8\u200b\u5bb9\u5668","text":"<p>Bash<pre><code>cd /data/mysql\ndocker-compose up -d\n</code></pre> </p>","tags":["docker"]},{"location":"blog/2024/11/12/mysql-%E9%83%A8%E7%BD%B2/#3306","title":"!!! \u200b\u5b89\u5168\u200b\u7ec4\u200b\u6dfb\u52a0\u200b 3306 !!!","text":"","tags":["docker"]},{"location":"blog/2024/11/12/postgresql-%E9%83%A8%E7%BD%B2/","title":"PostgreSQL \u200b\u90e8\u7f72","text":"<p> \u200b\u7ea6\u200b 28 \u200b\u4e2a\u200b\u5b57\u200b  26 \u200b\u884c\u200b\u4ee3\u7801\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b\u4e0d\u5230\u200b 1 \u200b\u5206\u949f\u200b</p>","tags":["docker"]},{"location":"blog/2024/11/12/postgresql-%E9%83%A8%E7%BD%B2/#_1","title":"\u521b\u5efa\u200b\u6302\u8f7d\u200b\u76ee\u5f55","text":"Bash<pre><code>mkdir -p /data/postgresql/data\nmkdir -p /data/postgresql/log\n</code></pre>","tags":["docker"]},{"location":"blog/2024/11/12/postgresql-%E9%83%A8%E7%BD%B2/#yml","title":"\u521b\u5efa\u200byml\u200b\u6587\u4ef6","text":"Bash<pre><code>vim /data/postgresql/docker-compose.yml\n</code></pre>","tags":["docker"]},{"location":"blog/2024/11/12/postgresql-%E9%83%A8%E7%BD%B2/#_2","title":"\u586b\u5165\u200b\u914d\u7f6e","text":"Bash<pre><code>services:\n  postgres_db: # \u200b\u670d\u52a1\u200b\u540d\u79f0\u200b\n    image: postgres:15.7 # \u200b\u6307\u5b9a\u200b\u955c\u50cf\u200b\u53ca\u5176\u200b\u7248\u672c\u200b\n    container_name: docker_postgres # \u200b\u6307\u5b9a\u200b\u5bb9\u5668\u200b\u7684\u200b\u540d\u79f0\u200b\n    environment:\n      POSTGRES_PASSWORD: 123456\n    ports: # \u200b\u7aef\u53e3\u6620\u5c04\u200b\n      - \"5432:5432\"\n    volumes: # \u200b\u6570\u636e\u200b\u6301\u4e45\u200b\u5316\u200b\u7684\u200b\u914d\u7f6e\u200b\n      - /data/postgresql/data:/var/lib/postgresql/data\n      - /data/postgresql/log:/var/log/postgresql\n    logging:\n      options:\n        max-size: \"10m\"\n        max-file: \"3\"\n    networks:  # \u200b\u7f51\u7edc\u200b\u914d\u7f6e\u200b\n      - pub-network  # \u200b\u52a0\u5165\u200b\u5230\u200b pub-network \u200b\u7f51\u7edc\u200b\n\nnetworks:  # \u200b\u7f51\u7edc\u200b\n  pub-network:\n      driver: bridge\n</code></pre>","tags":["docker"]},{"location":"blog/2024/11/12/postgresql-%E9%83%A8%E7%BD%B2/#_3","title":"\u542f\u52a8\u200b\u5bb9\u5668","text":"Bash<pre><code>cd /data/postgresql\ndocker-compose up -d\n</code></pre>","tags":["docker"]},{"location":"blog/2024/11/12/postgresql-%E9%83%A8%E7%BD%B2/#5432","title":"!!! \u200b\u5b89\u5168\u200b\u7ec4\u200b\u6dfb\u52a0\u200b 5432 !!!","text":"","tags":["docker"]},{"location":"blog/2024/11/12/redis-%E9%83%A8%E7%BD%B2/","title":"Redis \u200b\u90e8\u7f72","text":"<p> \u200b\u7ea6\u200b 36 \u200b\u4e2a\u200b\u5b57\u200b  35 \u200b\u884c\u200b\u4ee3\u7801\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b 1 \u200b\u5206\u949f\u200b</p>","tags":["docker"]},{"location":"blog/2024/11/12/redis-%E9%83%A8%E7%BD%B2/#_1","title":"\u521b\u5efa\u200b\u6302\u8f7d\u200b\u76ee\u5f55","text":"Bash<pre><code>#\u200b\u521b\u5efa\u200b\u6302\u8f7d\u200b\u76ee\u5f55\u200b\nmkdir -p /data/redis\n</code></pre>","tags":["docker"]},{"location":"blog/2024/11/12/redis-%E9%83%A8%E7%BD%B2/#yml","title":"\u521b\u5efa\u200byml\u200b\u6587\u4ef6","text":"Bash<pre><code>vim /data/redis/docker-compose.yml\n</code></pre>","tags":["docker"]},{"location":"blog/2024/11/12/redis-%E9%83%A8%E7%BD%B2/#_2","title":"\u586b\u5165\u200b\u914d\u7f6e","text":"Bash<pre><code>version: '3.8'\nservices:\n  redis:\n    image: redis:7.0.11\n    container_name: redis\n    restart: always\n    ports:\n      - 6379:6379\n    volumes:\n      - /data/redis/redis.conf:/etc/redis/redis.conf\n      - /data/redis/data:/data\n      - /data/redis/logs:/logs\n    command: [\"redis-server\",\"/etc/redis/redis.conf\"]\n</code></pre>","tags":["docker"]},{"location":"blog/2024/11/12/redis-%E9%83%A8%E7%BD%B2/#_3","title":"\u521b\u5efa\u200b\u6302\u8f7d\u200b\u914d\u7f6e\u6587\u4ef6","text":"Bash<pre><code>vim /data/redis/redis.conf\n</code></pre> Bash<pre><code>protected-mode no\nport 6379\ntimeout 0\n#rdb\u200b\u914d\u7f6e\u200b\nsave 900 1\nsave 300 10\nsave 60 10000\nrdbcompression yes\ndbfilename dump.rdb\ndir /data\nappendonly yes\nappendfsync everysec\n#\u200b\u8bbe\u7f6e\u200b\u4f60\u200b\u7684\u200bredis\u200b\u5bc6\u7801\u200b\nrequirepass 123456\n</code></pre>","tags":["docker"]},{"location":"blog/2024/11/12/redis-%E9%83%A8%E7%BD%B2/#_4","title":"\u542f\u52a8\u200b\u5bb9\u5668","text":"Bash<pre><code>cd /data/redis\ndocker-compose up -d\n#\u200b\u5982\u679c\u200b\u9700\u8981\u200b\u5f3a\u5236\u200b\u91cd\u65b0\u200b\u6784\u5efa\u200b\ndocker-compose up --force-recreate -d\n</code></pre>","tags":["docker"]},{"location":"blog/2024/11/12/redis-%E9%83%A8%E7%BD%B2/#6379","title":"!!! \u200b\u5b89\u5168\u200b\u7ec4\u200b\u6dfb\u52a0\u200b 6379 !!!","text":"","tags":["docker"]},{"location":"blog/2024/11/12/rocketmq-%E9%83%A8%E7%BD%B2/","title":"RocketMQ \u200b\u90e8\u7f72","text":"<p> \u200b\u7ea6\u200b 236 \u200b\u4e2a\u200b\u5b57\u200b  225 \u200b\u884c\u200b\u4ee3\u7801\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b 4 \u200b\u5206\u949f\u200b</p>","tags":["docker"]},{"location":"blog/2024/11/12/rocketmq-%E9%83%A8%E7%BD%B2/#_1","title":"\u521b\u5efa\u200b\u6302\u8f7d\u200b\u76ee\u5f55","text":"Bash<pre><code>#\u200b\u521b\u5efa\u200b\u6302\u8f7d\u200b\u76ee\u5f55\u200b\nmkdir -p /data/rocketmq/namesrv;\nmkdir -p /data/rocketmq/broker/conf;\nmkdir -p /data/rocketmq/broker/lib;\nmkdir -p /data/rocketmq/console/data;\n</code></pre>","tags":["docker"]},{"location":"blog/2024/11/12/rocketmq-%E9%83%A8%E7%BD%B2/#_2","title":"\u521b\u5efa\u200b\u6302\u8f7d\u200b\u7684\u200b\u914d\u7f6e\u6587\u4ef6","text":"<p>Bash<pre><code>vi /data/rocketmq/broker/conf/broker.conf\n</code></pre> Bash<pre><code>#\u200b\u6240\u5c5e\u200b\u96c6\u7fa4\u200b\u540d\u5b57\u200b\nbrokerClusterName=DefaultCluster\n\n#broker\u200b\u540d\u5b57\u200b\uff0c\u200b\u6ce8\u610f\u200b\u6b64\u5904\u200b\u4e0d\u540c\u200b\u7684\u200b\u914d\u7f6e\u6587\u4ef6\u200b\u586b\u5199\u200b\u7684\u200b\u4e0d\u200b\u4e00\u6837\u200b\uff0c\u200b\u5982\u679c\u200b\u5728\u200bbroker-a.properties\u200b\u4f7f\u7528\u200b:broker-a,\n#\u200b\u5728\u200bbroker-b.properties\u200b\u4f7f\u7528\u200b:broker-b\nbrokerName=broker-a\n\n#0 \u200b\u8868\u793a\u200bMaster\uff0c&gt;0 \u200b\u8868\u793a\u200bSlave\nbrokerId=0\n\n#nameServer\u200b\u5730\u5740\u200b\uff0c\u200b\u5206\u200b\u53f7\u200b\u5206\u5272\u200b\n#namesrvAddr=rocketmq-nameserver1:9876;rocketmq-nameserver2:9876\nnamesrvAddr=rocketmq-namesrv:9876\n\n#\u200b\u542f\u52a8\u200bIP,\u200b\u5982\u679c\u200b docker \u200b\u62a5\u200b com.alibaba.rocketmq.remoting.exception.RemotingConnectException: connect to &lt;192.168.0.120:10909&gt; failed\n# \u200b\u89e3\u51b3\u200b\u65b9\u5f0f\u200b1 \u200b\u52a0\u4e0a\u200b\u4e00\u53e5\u200bproducer.setVipChannelEnabled(false);\uff0c\u200b\u89e3\u51b3\u200b\u65b9\u5f0f\u200b2 brokerIP1 \u200b\u8bbe\u7f6e\u200b\u5bbf\u4e3b\u673a\u200bIP\uff0c\u200b\u4e0d\u8981\u200b\u4f7f\u7528\u200bdocker \u200b\u5185\u90e8\u200bIP\nbrokerIP1=120.26.2.151\n\n#\u200b\u5728\u200b\u53d1\u9001\u200b\u6d88\u606f\u200b\u65f6\u200b\uff0c\u200b\u81ea\u52a8\u200b\u521b\u5efa\u200b\u670d\u52a1\u5668\u200b\u4e0d\u200b\u5b58\u5728\u200b\u7684\u200btopic\uff0c\u200b\u9ed8\u8ba4\u200b\u521b\u5efa\u200b\u7684\u200b\u961f\u5217\u200b\u6570\u200b\ndefaultTopicQueueNums=4\n\n#\u200b\u662f\u5426\u200b\u5141\u8bb8\u200b Broker \u200b\u81ea\u52a8\u200b\u521b\u5efa\u200bTopic\uff0c\u200b\u5efa\u8bae\u200b\u7ebf\u4e0b\u200b\u5f00\u542f\u200b\uff0c\u200b\u7ebf\u4e0a\u200b\u5173\u95ed\u200b \uff01\uff01\uff01\u200b\u8fd9\u91cc\u200b\u4ed4\u7ec6\u200b\u770b\u200b\u662f\u200bfalse\uff0cfalse\uff0cfalse\nautoCreateTopicEnable=true\n\n#\u200b\u662f\u5426\u200b\u5141\u8bb8\u200b Broker \u200b\u81ea\u52a8\u200b\u521b\u5efa\u200b\u8ba2\u9605\u200b\u7ec4\u200b\uff0c\u200b\u5efa\u8bae\u200b\u7ebf\u4e0b\u200b\u5f00\u542f\u200b\uff0c\u200b\u7ebf\u4e0a\u200b\u5173\u95ed\u200b\nautoCreateSubscriptionGroup=true\n\n#Broker \u200b\u5bf9\u5916\u200b\u670d\u52a1\u200b\u7684\u200b\u76d1\u542c\u200b\u7aef\u53e3\u200b\nlistenPort=10911\n\n#\u200b\u6b64\u53c2\u6570\u200b\u63a7\u5236\u200b\u662f\u5426\u200b\u5f00\u542f\u200b\u5bc6\u7801\u200b,\u200b\u4e0d\u200b\u5f00\u542f\u200b\u53ef\u200b\u8bbe\u7f6e\u200bfalse\naclEnable=true\n\n#\u200b\u5220\u9664\u200b\u6587\u4ef6\u200b\u65f6\u95f4\u200b\u70b9\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u51cc\u6668\u200b4\u200b\u70b9\u200b\ndeleteWhen=04\n\n#\u200b\u6587\u4ef6\u200b\u4fdd\u7559\u200b\u65f6\u95f4\u200b\uff0c\u200b\u9ed8\u8ba4\u200b48\u200b\u5c0f\u65f6\u200b\nfileReservedTime=120\n\n#commitLog\u200b\u6bcf\u4e2a\u200b\u6587\u4ef6\u200b\u7684\u200b\u5927\u5c0f\u200b\u9ed8\u8ba4\u200b1G\nmapedFileSizeCommitLog=1073741824\n\n#ConsumeQueue\u200b\u6bcf\u4e2a\u200b\u6587\u4ef6\u200b\u9ed8\u8ba4\u200b\u5b58\u200b30W\u200b\u6761\u200b\uff0c\u200b\u6839\u636e\u200b\u4e1a\u52a1\u200b\u60c5\u51b5\u200b\u8c03\u6574\u200b\nmapedFileSizeConsumeQueue=300000\n\n#destroyMapedFileIntervalForcibly=120000\n#redeleteHangedFileInterval=120000\n#\u200b\u68c0\u6d4b\u200b\u7269\u7406\u200b\u6587\u4ef6\u200b\u78c1\u76d8\u7a7a\u95f4\u200b\ndiskMaxUsedSpaceRatio=88\n#\u200b\u5b58\u50a8\u200b\u8def\u5f84\u200b\n#storePathRootDir=/home/ztztdata/rocketmq-all-4.1.0-incubating/store\n#commitLog \u200b\u5b58\u50a8\u200b\u8def\u5f84\u200b\n#storePathCommitLog=/home/ztztdata/rocketmq-all-4.1.0-incubating/store/commitlog\n#\u200b\u6d88\u8d39\u200b\u961f\u5217\u200b\u5b58\u50a8\u200b\n#storePathConsumeQueue=/home/ztztdata/rocketmq-all-4.1.0-incubating/store/consumequeue\n#\u200b\u6d88\u606f\u200b\u7d22\u5f15\u200b\u5b58\u50a8\u200b\u8def\u5f84\u200b\n#storePathIndex=/home/ztztdata/rocketmq-all-4.1.0-incubating/store/index\n#checkpoint \u200b\u6587\u4ef6\u200b\u5b58\u50a8\u200b\u8def\u5f84\u200b\n#storeCheckpoint=/home/ztztdata/rocketmq-all-4.1.0-incubating/store/checkpoint\n#abort \u200b\u6587\u4ef6\u200b\u5b58\u50a8\u200b\u8def\u5f84\u200b\n#abortFile=/home/ztztdata/rocketmq-all-4.1.0-incubating/store/abort\n#\u200b\u9650\u5236\u200b\u7684\u200b\u6d88\u606f\u200b\u5927\u5c0f\u200b\nmaxMessageSize=65536\n\n#flushCommitLogLeastPages=4\n#flushConsumeQueueLeastPages=2\n#flushCommitLogThoroughInterval=10000\n#flushConsumeQueueThoroughInterval=60000\n\n#Broker \u200b\u7684\u200b\u89d2\u8272\u200b\n#- ASYNC_MASTER \u200b\u5f02\u6b65\u200b\u590d\u5236\u200bMaster\n#- SYNC_MASTER \u200b\u540c\u6b65\u200b\u53cc\u5199\u200bMaster\n#- SLAVE\nbrokerRole=ASYNC_MASTER\n\n#\u200b\u5237\u76d8\u200b\u65b9\u5f0f\u200b\n#- ASYNC_FLUSH \u200b\u5f02\u6b65\u200b\u5237\u76d8\u200b\n#- SYNC_FLUSH \u200b\u540c\u6b65\u200b\u5237\u76d8\u200b\nflushDiskType=ASYNC_FLUSH\n\n#\u200b\u53d1\u6d88\u606f\u200b\u7ebf\u7a0b\u200b\u6c60\u200b\u6570\u91cf\u200b\n#sendMessageThreadPoolNums=128\n#\u200b\u62c9\u200b\u6d88\u606f\u200b\u7ebf\u7a0b\u200b\u6c60\u200b\u6570\u91cf\u200b\n#pullMessageThreadPoolNums=128\n</code></pre></p> <p><code>brokerIP1=47.99.73.85</code>\u200b\u586b\u200b\u4e0a\u200b\u81ea\u5df1\u200b\u670d\u52a1\u5668\u200b\u516c\u7f51\u200bip\uff0c\u200b\u5ba2\u6237\u7aef\u200b\u53d1\u9001\u200b\u6d88\u606f\u200b\u8981\u8054\u200b\u8fd9\u4e2a\u200b</p> <p>\u200b\u5982\u679c\u200b\u6709\u200b\u8bbe\u7f6e\u200b\u5bc6\u7801\u200b\u7684\u200b\u9700\u6c42\u200b\uff0cbroker.conf\u200b\u5f00\u542f\u200bacl\u200b\u5bc6\u7801\u200b\u914d\u7f6e\u200b true</p>","tags":["docker"]},{"location":"blog/2024/11/12/rocketmq-%E9%83%A8%E7%BD%B2/#acl","title":"\u521b\u5efa\u200bacl\u200b\u6587\u4ef6\u200b\uff0c\u200b\u7528\u4e8e\u200b\u5f00\u542f\u200b\u7528\u6237\u540d\u200b\u5bc6\u7801","text":"Bash<pre><code>vi /data/rocketmq/broker/conf/plain_acl.yml\n</code></pre> Bash<pre><code># Licensed to the Apache Software Foundation (ASF) under one or more\n# contributor license agreements.  See the NOTICE file distributed with\n# this work for additional information regarding copyright ownership.\n# The ASF licenses this file to You under the Apache License, Version 2.0\n# (the \"License\"); you may not use this file except in compliance with\n# the License.  You may obtain a copy of the License at\n#\n#     http://www.apache.org/licenses/LICENSE-2.0\n#\n#  Unless required by applicable law or agreed to in writing, software\n#  distributed under the License is distributed on an \"AS IS\" BASIS,\n#  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n#  See the License for the specific language governing permissions and\n#  limitations under the License.\nglobalWhiteRemoteAddresses:\n#  - 47.100.93.*\n#  - 156.254.120.*\n\naccounts:\n    # \u200b\u975e\u200b\u7ba1\u7406\u5458\u200b\n  - accessKey: RocketMQ\n    secretKey: Cjy050119\n    whiteRemoteAddress:\n    admin: false\n    defaultTopicPerm: DENY\n    defaultGroupPerm: SUB\n    topicPerms:\n      - topicA=DENY\n      - topicB=PUB|SUB\n      - topicC=SUB\n    groupPerms:\n      # the group should convert to retry topic\n      - groupA=DENY\n      - groupB=PUB|SUB\n      - groupC=SUB\n\n    # \u200b\u7ba1\u7406\u5458\u200b\n  - accessKey: admin123456\n    secretKey: Cjy123456\n    whiteRemoteAddress: \n    # if it is admin, it could access all resources\n    admin: true\n</code></pre> <p>\u200b\u5bc6\u7801\u200b\u4e0d\u80fd\u200b\u5c0f\u4e8e\u200b6\u200b\u4f4d\u6570\u200b \u200b\u540d\u79f0\u200b\u4e5f\u200b\u4e0d\u80fd\u200b\u5c0f\u4e8e\u200b6\u200b\u4f4d\u200b \u200b\u6743\u9650\u200b\u7684\u200b\u63cf\u8ff0\u200b\u53ef\u200b\u53c2\u8003\u200b\u94fe\u63a5\u200b</p>","tags":["docker"]},{"location":"blog/2024/11/12/rocketmq-%E9%83%A8%E7%BD%B2/#console","title":"\u8bbe\u7f6e\u200bconsole\u200b\u7684\u200b\u8d26\u53f7\u5bc6\u7801","text":"Bash<pre><code>vi  /data/rocketmq/console/data/users.properties\n</code></pre> Bash<pre><code># This file supports hot change, any change will be auto-reloaded without Console restarting.\n# Format: a user per line, username=password[,N] #N is optional, 0 (Normal User); 1 (Admin)\n\n# Define Admin\n# =============\u200b\u7528\u6237\u540d\u200b\u548c\u200b\u5bc6\u7801\u200b\u89c4\u5219\u200b\u300c\u200b\u7528\u6237\u540d\u200b=\u200b\u5bc6\u7801\u200b,\u200b\u6743\u9650\u200b\u300d\uff0c\u200b\u8fd9\u91cc\u200b\u7684\u200b\u6743\u9650\u200b\u4e3a\u200b1\u200b\u8868\u793a\u200b\u7ba1\u7406\u5458\u200b&gt;\uff0c\u200b\u4e3a\u200b0\u200b\u8868\u793a\u200b\u666e\u901a\u7528\u6237\u200b=============\n# \u200b\u4f8b\u5982\u200b\uff1aadmin=admin123,1\nadmin=123456,1\n\n\n# Define Users\n# =============\u200b\u5c4f\u853d\u200b\u4e0b\u8fb9\u200b\u4e24\u4e2a\u200b\u8d26\u6237\u200b=============\n#user1=user1\n#user2=user2\n</code></pre>","tags":["docker"]},{"location":"blog/2024/11/12/rocketmq-%E9%83%A8%E7%BD%B2/#yml","title":"\u521b\u5efa\u200byml\u200b\u6587\u4ef6","text":"<p>Bash<pre><code>vi /data/rocketmq/docker-compose.yml\n</code></pre> Bash<pre><code>version: '3.8'\nservices:\n  rocketmq-namesrv:\n    image: foxiswho/rocketmq:4.8.0\n    container_name: rocketmq-namesrv\n    restart: always\n    ports:\n      - 9876:9876\n    volumes:\n      - ./namesrv/logs:/home/rocketmq/logs\n      - ./namesrv/store:/home/rocketmq/store\n    environment:\n      JAVA_OPT_EXT: \"-Duser.home=/home/rocketmq -Xms128M -Xmx128M -Xmn128m\"\n    command: [\"sh\",\"mqnamesrv\"]\n    networks:\n      rocketmq_net:\n        aliases:\n          - rocketmq-namesrv\n\n\n  rocketmq-broker:\n    image: foxiswho/rocketmq:4.8.0\n    container_name: rocketmq-broker\n    restart: always\n    ports:\n      - 10909:10909\n      - 10911:10911\n    volumes:\n      - ./broker/logs:/home/rocketmq/logs\n      - ./broker/store:/home/rocketmq/store\n      - ./broker/conf/plain_acl.yml:/home/rocketmq/rocketmq-4.8.0/conf/plain_acl.yml\n      - ./broker/conf/broker.conf:/etc/rocketmq/broker.conf\n    environment:\n      JAVA_OPT_EXT: \"-Duser.home=/home/rocketmq -Xms128m -Xmx128m -Xmn128m\"\n    command: [\"sh\",\"mqbroker\",\"-c\",\"/etc/rocketmq/broker.conf\"]\n    depends_on:\n      - rocketmq-namesrv\n    networks:\n      rocketmq_net:\n        aliases:\n          - rocketmq-broker\n\n\n  rocketmq-console:\n    image: iamverygood/rocketmq-console:4.7.1\n    container_name: rocketmq-console\n    restart: always\n    ports:\n      - 8180:8080\n    volumes:\n      - ./console/data:/tmp/rocketmq-console/data\n    environment:\n      JAVA_OPTS: \"-Drocketmq.namesrv.addr=rocketmq-namesrv:9876 -Dcom.rocketmq.sendMessageWithVIPChannel=false -Drocketmq.config.loginRequired=true -Drocketmq.config.aclEnabled=true -Drocketmq.config.accessKey=admin123456 -Drocketmq.config.secretKey=Cjy123456\"\n    depends_on:\n      - rocketmq-namesrv\n    networks:\n      rocketmq_net:\n        aliases:\n          - rocketmq-console\n\nnetworks:\n  rocketmq_net:\n    name: rocketmq_net\n    driver: bridge\n</code></pre></p> <p>\u200b\u5982\u679c\u200bacl\u200b\u5bc6\u7801\u200b\u6539\u4e86\u200b\uff0c\u200b\u8bb0\u5f97\u200b\u628a\u200byml\u200b\u7684\u200bconsole\u200b\u5e10\u53f7\u5bc6\u7801\u200b\u4e5f\u200b\u4e00\u540c\u200b\u66f4\u6539\u200b <code>-Drocketmq.config.accessKey=admin123456</code> <code>-Drocketmq.config.secretKey=Cjy123456</code> \u200b\u6388\u4e88\u200b\u76ee\u5f55\u200b\u6743\u9650\u200b</p> Bash<pre><code>#\u200b\u76ee\u5f55\u200b\u6743\u9650\u200b\uff1a\nchmod -R 777 /data/rocketmq/namesrv/;\nchmod -R 777 /data/rocketmq/broker/;\nchmod -R 777 /data/rocketmq/console/;\n</code></pre>","tags":["docker"]},{"location":"blog/2024/11/12/rocketmq-%E9%83%A8%E7%BD%B2/#9876109118180","title":"\uff01\uff01\u200b\u5b89\u5168\u200b\u7ec4\u200b\u6dfb\u52a0\u200b\u7aef\u53e3\u200b 9876\uff0c10911\uff0c8180 \uff01\uff01","text":"Bash<pre><code>cd /data/rocketmq\ndocker-compose up -d\n</code></pre> <p>\u200b\u6ce8\u610f\u200b\uff0c\u200b\u7b2c\u4e00\u6b21\u200b\u4f1a\u200b\u542f\u52a8\u200b\u4e0d\u200b\u6210\u529f\u200b\uff0c\u200b\u56e0\u4e3a\u200bbroker\u200b\u9700\u8981\u200b\u521b\u5efa\u200b\u4e00\u5806\u200b\u6587\u4ef6\u200b\uff0c\u200b\u6ca1\u6709\u200b\u6743\u9650\u200b\u3002\u200b\u518d\u200b\u6267\u884c\u200b\u4e00\u904d\u200b\u6743\u9650\u200b\u547d\u4ee4\u200b Bash<pre><code>#\u200b\u76ee\u5f55\u200b\u6743\u9650\u200b\uff1a\nchmod -R 777 /data/rocketmq/namesrv/;\nchmod -R 777 /data/rocketmq/broker/;\nchmod -R 777 /data/rocketmq/console/;\n</code></pre> \u200b\u628a\u200b\u542f\u52a8\u200b\u7684\u200bmq\u200b\u76f8\u5173\u200b\u955c\u50cf\u200bstop\u200b\u540e\u200b\uff0crm \u200b\u518d\u200b\u91cd\u65b0\u542f\u52a8\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u4e86\u200b</p>","tags":["docker"]},{"location":"blog/2024/11/12/rocketmq-%E9%83%A8%E7%BD%B2/#_3","title":"\u542f\u52a8\u200b\u63a7\u5236\u53f0","text":"<p>\u200b\u542f\u52a8\u200b\u540e\u200b\u53ef\u4ee5\u200b\u767b\u5f55\u200b\u63a7\u5236\u53f0\u200b <code>http://ip:8180/</code> \u200b\u8f93\u5165\u200b\u8d26\u53f7\u5bc6\u7801\u200b <code>admin</code> <code>123456</code></p>","tags":["docker"]},{"location":"blog/2024/11/12/docker/","title":"Docker","text":"<p> \u200b\u7ea6\u200b 219 \u200b\u4e2a\u200b\u5b57\u200b  1 \u200b\u5f20\u200b\u56fe\u7247\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b 1 \u200b\u5206\u949f\u200b</p> <p></p>","tags":["docker"]},{"location":"blog/2024/11/12/docker/#docker_1","title":"docker \u200b\u5e38\u7528\u547d\u4ee4","text":"<ol> <li>\u200b\u62c9\u53d6\u200bdocker\u200b\u955c\u50cf\u200b <code>docker pull image_name</code></li> <li>\u200b\u67e5\u770b\u200b\u5bbf\u4e3b\u673a\u200b\u4e0a\u200b\u7684\u200b\u955c\u50cf\u200b\uff0cDocker\u200b\u955c\u50cf\u200b\u4fdd\u5b58\u200b\u5728\u200b/var/lib/docker\u200b\u76ee\u5f55\u200b\u4e0b\u200b: <code>docker images</code></li> <li>\u200b\u5220\u9664\u200b\u955c\u50cf\u200b <code>docker rmi docker.io/tomcat:7.0.77-jre7 \u200b\u6216\u8005\u200b docker rmi b39c68b7af30</code></li> <li>\u200b\u67e5\u770b\u200b\u5f53\u524d\u200b\u6709\u200b\u54ea\u4e9b\u200b\u5bb9\u5668\u200b\u6b63\u5728\u200b\u8fd0\u884c\u200b <code>docker ps</code></li> <li>\u200b\u67e5\u770b\u200b\u6240\u6709\u200b\u5bb9\u5668\u200b <code>docker ps -a</code></li> <li>\u200b\u542f\u52a8\u200b\u3001\u200b\u505c\u6b62\u200b\u3001\u200b\u91cd\u542f\u200b\u5bb9\u5668\u200b\u547d\u4ee4\u200b\uff1a <code>docker start container_name/container_id</code> <code>docker stop container_name/container_id</code> <code>docker restart container_name/container_id</code></li> <li>\u200b\u540e\u53f0\u200b\u542f\u52a8\u200b\u4e00\u4e2a\u200b\u5bb9\u5668\u200b\u540e\u200b\uff0c\u200b\u5982\u679c\u200b\u60f3\u200b\u8fdb\u5165\u200b\u5230\u200b\u8fd9\u4e2a\u200b\u5bb9\u5668\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200battach\u200b\u547d\u4ee4\u200b\uff1a <code>docker attach container_name/container_id</code></li> <li>\u200b\u5220\u9664\u200b\u5bb9\u5668\u200b\u7684\u200b\u547d\u4ee4\u200b\uff1a <code>docker rm container_name/container_id</code></li> <li>\u200b\u5220\u9664\u200b\u6240\u6709\u200b\u505c\u6b62\u200b\u7684\u200b\u5bb9\u5668\u200b\uff1a <code>docker rm $(docker ps -a -q)</code></li> <li>\u200b\u67e5\u770b\u200b\u5f53\u524d\u200b\u7cfb\u7edf\u200bDocker\u200b\u4fe1\u606f\u200b <code>docker info</code></li> <li>\u200b\u4ece\u200bDocker hub\u200b\u4e0a\u200b\u4e0b\u8f7d\u200b\u67d0\u4e2a\u200b\u955c\u50cf\u200b: <code>docker pull centos:latest docker pull centos:latest</code></li> <li>\u200b\u67e5\u627e\u200bDocker Hub\u200b\u4e0a\u200b\u7684\u200bnginx\u200b\u955c\u50cf\u200b <code>docker search nginx</code></li> <li>\u200b\u6267\u884c\u200b<code>docker pull centos</code>\u200b\u4f1a\u200b\u5c06\u200bCentos\u200b\u8fd9\u4e2a\u200b\u4ed3\u5e93\u200b\u4e0b\u9762\u200b\u7684\u200b\u6240\u6709\u200b\u955c\u50cf\u200b\u4e0b\u8f7d\u200b\u5230\u200b\u672c\u5730\u200brepository\u3002</li> </ol>","tags":["docker"]},{"location":"blog/2024/12/07/learn-linux/","title":"Learn-Linux","text":"<p> \u200b\u7ea6\u200b 21 \u200b\u4e2a\u200b\u5b57\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b\u4e0d\u5230\u200b 1 \u200b\u5206\u949f\u200b</p>","tags":["linux"]},{"location":"blog/2024/12/07/learn-linux/#1-linux","title":"1. linux\u200b\u516b\u80a1","text":"<p>Linux \u200b\u57fa\u7840\u77e5\u8bc6\u200b\u603b\u7ed3\u200b</p>","tags":["linux"]},{"location":"blog/2024/12/07/learn-linux/#2-linux","title":"2. linux\u200b\u547d\u4ee4\u200b\u67e5\u8be2","text":"<p>Linux Command Manual</p>","tags":["linux"]},{"location":"blog/2024/12/07/learn-linux/#3-tldr","title":"3. tldr","text":"<p>tldr</p>","tags":["linux"]},{"location":"blog/2024/11/12/linux%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/","title":"linux\u200b\u73af\u5883\u200b\u90e8\u7f72","text":"<p> \u200b\u7ea6\u200b 79 \u200b\u4e2a\u200b\u5b57\u200b  43 \u200b\u884c\u200b\u4ee3\u7801\u200b  1 \u200b\u5f20\u200b\u56fe\u7247\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b 1 \u200b\u5206\u949f\u200b</p>","tags":["linux"]},{"location":"blog/2024/11/12/linux%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/#ssh","title":"SSH\u200b\u8fde\u63a5","text":"<p>\u200b\u6211\u200b\u4f7f\u7528\u200b\u7684\u200b\u662f\u200bmacos\uff0c\u200b\u9009\u62e9\u200b\u8f6f\u4ef6\u200b Termius \u200b\u8fdb\u884c\u200bSSH\u200b\u8fdc\u7a0b\u200b\u8fde\u63a5\u200b  </p>","tags":["linux"]},{"location":"blog/2024/11/12/linux%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/#linux_1","title":"linux \u200b\u7cfb\u7edf\u200b\u73af\u5883","text":"Bash<pre><code>[root@iZbp12idmwavjjcx2k19kjZ ~]# cat /etc/os-release \nNAME=\"Alibaba Cloud Linux\"\nVERSION=\"3 (OpenAnolis Edition)\"\nID=\"alinux\"\nID_LIKE=\"rhel fedora centos anolis\"\nVERSION_ID=\"3\"\nVARIANT=\"OpenAnolis Edition\"\nVARIANT_ID=\"openanolis\"\nALINUX_MINOR_ID=\"2104\"\nALINUX_UPDATE_ID=\"10\"\nPLATFORM_ID=\"platform:al8\"\nPRETTY_NAME=\"Alibaba Cloud Linux 3.2104 U10 (OpenAnolis Edition)\"\nANSI_COLOR=\"0;31\"\nHOME_URL=\"https://www.aliyun.com/\"\n</code></pre>","tags":["linux"]},{"location":"blog/2024/11/12/linux%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/#docker","title":"\u5b89\u88c5\u200bdocker","text":"Bash<pre><code># \u200b\u66f4\u65b0\u200byum\nyum upgrade\n\n# \u200b\u8bbe\u7f6e\u200b\u955c\u50cf\u200b\u4ed3\u5e93\u200b (\u200b\u963f\u91cc\u200b\u4e91\u200b\u955c\u50cf\u200b)\nyum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo\n\n# \u200b\u5b89\u88c5\u200bdocker\nyum install docker-ce\n\n# \u200b\u542f\u52a8\u200bdocker\nsudo systemctl start docker\nsudo systemctl enable docker\n\n# \u200b\u67e5\u770b\u200bdocker \u200b\u7248\u672c\u200b\ndocker --version\n</code></pre>","tags":["linux"]},{"location":"blog/2024/11/12/linux%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/#docker-compose","title":"\u5b89\u88c5\u200b docker-compose","text":"<p>Bash<pre><code># \u200b\u5148\u200b\u6267\u884c\u200b\u8fd9\u200b\u4e24\u884c\u200b\u547d\u4ee4\u200b\uff0c\u200b\u76f4\u63a5\u200bpip\u200b\u4f1a\u200b\u62a5\u9519\u200b\nsudo python3 -m pip install -U pip\nsudo python3 -m pip install -U setuptools\n\n# \u200b\u5b89\u88c5\u200bdocker-compose\npip install docker-compose\n\n# \u200b\u67e5\u770b\u200b docker-compose \u200b\u7248\u672c\u200b\ndocker-compose --version\n</code></pre> </p>","tags":["linux"]},{"location":"blog/2024/11/12/linux%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/#docker_1","title":"docker \u200b\u914d\u7f6e\u200b\u56fd\u5185\u200b\u955c\u50cf\u200b\u6e90","text":"<p>\u200b\u914d\u7f6e\u200b\u56fd\u5185\u200b\u955c\u50cf\u200b\u6e90\u200b \u200b\u955c\u50cf\u200b\u6e90\u5730\u5740\u200b\u5927\u5168\u200b</p> Bash<pre><code>vim  /etc/docker/daemon.json\n</code></pre> Text Only<pre><code>{\"registry-mirrors\": [\n\"https://docker.1panel.dev\",\n\"https://docker.fxxk.dedyn.io\",\n\"https://docker.xn--6oq72ry9d5zx.cn\",\n\"https://docker.m.daocloud.io\",\n\"https://a.ussh.net\",\n\"https://docker.zhai.cm\"]}\n</code></pre> <p>\u200b\u4e0a\u8ff0\u200b\u955c\u50cf\u200b\u6e90\u200b 2024/10/10 \u200b\u53ef\u7528\u200b</p> <p>\u200b\u91cd\u542f\u200bdocker\u200b\u670d\u52a1\u200b</p> Bash<pre><code># \u200b\u91cd\u65b0\u200b\u52a0\u8f7d\u200b\u914d\u7f6e\u6587\u4ef6\u200b\nsudo systemctl daemon-reload\n# \u200b\u91cd\u65b0\u542f\u52a8\u200bdocker\u200b\u670d\u52a1\u200b\nsudo service docker restart\n</code></pre>","tags":["linux"]},{"location":"blog/2024/12/17/astromailer-%E4%B8%80%E4%B8%AA%E6%AF%8F%E6%97%A5%E6%97%A9%E5%AE%89%E9%82%AE%E4%BB%B6%E5%8F%91%E9%80%81%E5%99%A8/","title":"AstroMailer \ud83c\udf0c","text":"<p> \u200b\u7ea6\u200b 509 \u200b\u4e2a\u200b\u5b57\u200b  29 \u200b\u884c\u200b\u4ee3\u7801\u200b  1 \u200b\u5f20\u200b\u56fe\u7247\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b 2 \u200b\u5206\u949f\u200b</p> <p>AstroMailer \u200b\u662f\u200b\u4e00\u4e2a\u200b\u6bcf\u65e5\u200b\u65e9\u5b89\u200b\u90ae\u4ef6\u200b\u53d1\u9001\u5668\u200b\uff0c\u200b\u5b83\u200b\u901a\u8fc7\u200b\u96c6\u6210\u200b NASA \u200b\u5929\u6587\u200b\u6bcf\u65e5\u200b\u4e00\u56fe\u200b\uff08APOD\uff09\u3001\u200b\u8bcd\u9738\u200b\u91d1\u53e5\u200b\u548c\u200b\u767e\u5ea6\u200b\u7ffb\u8bd1\u200b API\uff0c\u200b\u4e3a\u200b\u7528\u6237\u200b\u5e26\u6765\u200b\u6d6a\u6f2b\u200b\u3001\u200b\u6e29\u6696\u200b\u7684\u200b\u65e9\u5b89\u200b\u90ae\u4ef6\u200b\u3002</p> <p>github\u200b\u5730\u5740\u200b: AstroMailer</p>","tags":["OpenSource"]},{"location":"blog/2024/12/17/astromailer-%E4%B8%80%E4%B8%AA%E6%AF%8F%E6%97%A5%E6%97%A9%E5%AE%89%E9%82%AE%E4%BB%B6%E5%8F%91%E9%80%81%E5%99%A8/#_1","title":"\u529f\u80fd\u200b\u6982\u8ff0","text":"<ul> <li>\ud83d\udce7 \u200b\u6bcf\u65e5\u200b\u53d1\u9001\u200b\u65e9\u5b89\u200b\u90ae\u4ef6\u200b<ul> <li>\u200b\u9644\u5e26\u200b NASA \u200b\u5929\u6587\u200b\u6bcf\u65e5\u200b\u4e00\u56fe\u200b\u53ca\u5176\u200b\u89e3\u91ca\u200b\u3002</li> <li>\u200b\u5305\u542b\u200b\u8bcd\u9738\u200b\u6bcf\u65e5\u200b\u91d1\u53e5\u200b\uff08\u200b\u4e2d\u200b\u82f1\u53cc\u8bed\u200b\uff09\u3002</li> <li>\u200b\u90ae\u4ef6\u200b\u652f\u6301\u200b\u4e2d\u200b\u82f1\u6587\u7ffb\u8bd1\u200b\uff0c\u200b\u5e76\u200b\u4f7f\u7528\u200b\u7b80\u6d01\u200b\u4f18\u96c5\u200b\u7684\u200b HTML \u200b\u6837\u5f0f\u200b\u8bbe\u8ba1\u200b\u3002</li> </ul> </li> <li>\ud83c\udf0c \u200b\u968f\u673a\u200b\u80cc\u666f\u8272\u200b\u548c\u200b\u6837\u5f0f\u200b<ul> <li>\u200b\u90ae\u4ef6\u200b\u4e2d\u200b\u7684\u200b\u53e5\u5b50\u200b\u548c\u200b\u80cc\u666f\u200b\u914d\u8272\u200b\u91c7\u7528\u200b\u52a8\u6001\u968f\u673a\u200b\u751f\u6210\u200b\uff0c\u200b\u8ba9\u200b\u6bcf\u200b\u4e00\u5929\u200b\u7684\u200b\u90ae\u4ef6\u200b\u90fd\u200b\u6709\u200b\u72ec\u7279\u200b\u7684\u200b\u98ce\u683c\u200b\u3002</li> <li>\ud83d\udd04 \u200b\u7f13\u5b58\u200b\u673a\u5236\u200b</li> <li>\u200b\u4f7f\u7528\u200b diskcache \u200b\u7f13\u5b58\u200b NASA \u200b\u56fe\u7247\u200b\u548c\u200b\u5185\u5bb9\u200b\uff0c\u200b\u51cf\u5c11\u200b\u91cd\u590d\u200b API \u200b\u8bf7\u6c42\u200b\u3002</li> </ul> </li> </ul>","tags":["OpenSource"]},{"location":"blog/2024/12/17/astromailer-%E4%B8%80%E4%B8%AA%E6%AF%8F%E6%97%A5%E6%97%A9%E5%AE%89%E9%82%AE%E4%BB%B6%E5%8F%91%E9%80%81%E5%99%A8/#_2","title":"\u9879\u76ee\u200b\u67b6\u6784","text":"<p>AstroMailer \u200b\u7684\u200b\u4e3b\u8981\u200b\u529f\u80fd\u200b\u5206\u4e3a\u200b\u4ee5\u4e0b\u200b\u6a21\u5757\u200b\uff1a</p> <ol> <li>\u200b\u90ae\u4ef6\u200b\u53d1\u9001\u200b\u6a21\u5757\u200b<ul> <li>\u200b\u4f7f\u7528\u200b smtplib \u200b\u5b9e\u73b0\u200b\u90ae\u4ef6\u200b\u7684\u200b\u53d1\u9001\u200b\u3002</li> <li>\u200b\u652f\u6301\u200b HTML \u200b\u683c\u5f0f\u5316\u200b\u90ae\u4ef6\u200b\u5185\u5bb9\u200b\u3002</li> </ul> </li> <li>API \u200b\u8c03\u7528\u200b\u6a21\u5757\u200b<ul> <li>\u200b\u96c6\u6210\u200b NASA APOD API \u200b\u83b7\u53d6\u200b\u6bcf\u65e5\u200b\u5929\u6587\u200b\u56fe\u7247\u200b\u548c\u200b\u63cf\u8ff0\u200b\u3002</li> <li>\u200b\u96c6\u6210\u200b\u767e\u5ea6\u200b\u7ffb\u8bd1\u200b API \u200b\u7ffb\u8bd1\u200b\u56fe\u7247\u200b\u63cf\u8ff0\u200b\u4e3a\u200b\u4e2d\u6587\u200b\u3002</li> <li>\u200b\u4f7f\u7528\u200b\u8bcd\u9738\u200b API \u200b\u83b7\u53d6\u200b\u6bcf\u65e5\u200b\u91d1\u53e5\u200b\u3002</li> </ul> </li> <li>\u200b\u5b9a\u65f6\u200b\u4efb\u52a1\u200b\u6a21\u5757\u200b<ul> <li>\u200b\u4f7f\u7528\u200b schedule \u200b\u5b9e\u73b0\u200b\u6bcf\u5929\u200b\u65e9\u4e0a\u200b 8 \u200b\u70b9\u200b\u81ea\u52a8\u200b\u53d1\u9001\u200b\u90ae\u4ef6\u200b\u3002</li> </ul> </li> <li>\u200b\u7f13\u5b58\u200b\u6a21\u5757\u200b<ul> <li>\u200b\u4f7f\u7528\u200b diskcache \u200b\u7f13\u5b58\u6570\u636e\u200b\uff0c\u200b\u907f\u514d\u200b\u9891\u7e41\u200b\u8c03\u7528\u200b API\u3002</li> </ul> </li> </ol>","tags":["OpenSource"]},{"location":"blog/2024/12/17/astromailer-%E4%B8%80%E4%B8%AA%E6%AF%8F%E6%97%A5%E6%97%A9%E5%AE%89%E9%82%AE%E4%BB%B6%E5%8F%91%E9%80%81%E5%99%A8/#_3","title":"\u8fd0\u884c\u200b\u622a\u56fe","text":"<p>\ud83d\udce7 \u200b\u90ae\u4ef6\u200b\u793a\u4f8b\u200b    </p> <p></p>","tags":["OpenSource"]},{"location":"blog/2024/12/17/astromailer-%E4%B8%80%E4%B8%AA%E6%AF%8F%E6%97%A5%E6%97%A9%E5%AE%89%E9%82%AE%E4%BB%B6%E5%8F%91%E9%80%81%E5%99%A8/#_4","title":"\u6280\u672f\u200b\u6808","text":"<ul> <li> <p>\u200b\u7f16\u7a0b\u8bed\u8a00\u200b: Python 3.10+</p> </li> <li> <p>\u200b\u4e3b\u8981\u200b\u4f9d\u8d56\u200b:</p> <ul> <li>smtplib: \u200b\u53d1\u9001\u200b\u90ae\u4ef6\u200b</li> <li>schedule: \u200b\u5b9a\u65f6\u200b\u4efb\u52a1\u8c03\u5ea6\u200b</li> <li>diskcache: \u200b\u672c\u5730\u200b\u7f13\u5b58\u200b</li> <li>requests: \u200b\u8c03\u7528\u200b API</li> <li>PyYAML: \u200b\u89e3\u6790\u200b\u914d\u7f6e\u6587\u4ef6\u200b</li> </ul> </li> <li> <p>API:</p> <ul> <li>NASA APOD API</li> <li>\u200b\u767e\u5ea6\u200b\u7ffb\u8bd1\u200b API</li> <li>\u200b\u8bcd\u9738\u200b API</li> </ul> </li> </ul>","tags":["OpenSource"]},{"location":"blog/2024/12/17/astromailer-%E4%B8%80%E4%B8%AA%E6%AF%8F%E6%97%A5%E6%97%A9%E5%AE%89%E9%82%AE%E4%BB%B6%E5%8F%91%E9%80%81%E5%99%A8/#_5","title":"\u5b89\u88c5\u200b\u4e0e\u200b\u8fd0\u884c","text":"<p>1. \u200b\u514b\u9686\u200b\u9879\u76ee\u200b</p> Bash<pre><code>git clone https://github.com/Pale-illusions/AstroMailer.git\ncd AstroMailer\n</code></pre> <p>2. \u200b\u521b\u5efa\u200b\u865a\u62df\u73af\u5883\u200b\u5e76\u200b\u5b89\u88c5\u200b\u4f9d\u8d56\u200b</p> Bash<pre><code># \u200b\u521b\u5efa\u200b\u865a\u62df\u73af\u5883\u200b\npython3 -m venv myvenv\n\n# \u200b\u6fc0\u6d3b\u200b\u865a\u62df\u73af\u5883\u200b\nsource myvenv/bin/activate  # macOS/Linux\nmyvenv\\Scripts\\activate     # Windows\n\n# \u200b\u5b89\u88c5\u200b\u4f9d\u8d56\u200b\npip install -r requirements.txt\n</code></pre> <p>3. \u200b\u914d\u7f6e\u200b\u73af\u5883\u200b</p> <p>\u200b\u5728\u200b <code>resources/config.yaml</code> \u200b\u6587\u4ef6\u200b\u4e2d\u200b\u914d\u7f6e\u200b\u4f60\u200b\u7684\u200b <code>API</code> \u200b\u5bc6\u94a5\u200b\u548c\u200b\u90ae\u4ef6\u200b\u8d26\u6237\u200b\u4fe1\u606f\u200b\u3002</p> <p>\u200b\u793a\u4f8b\u200b\u914d\u7f6e\u6587\u4ef6\u200b <code>config.yaml</code>\uff1a</p> YAML<pre><code>api_key:\n  nasa: \"\u200b\u4f60\u200b\u7684\u200bNASA_API_KEY\"\n  baidu_translate:\n    appid: \"\u200b\u4f60\u200b\u7684\u200b\u767e\u5ea6\u200b\u7ffb\u8bd1\u200bAPPID\"\n    secret_key: \"\u200b\u4f60\u200b\u7684\u200b\u767e\u5ea6\u200b\u7ffb\u8bd1\u200bSECRET_KEY\"\n\nemail:\n  name: \"AstroMailer\"\n  smtp_server: \"smtp.gmail.com\"\n  smtp_port: 587\n  sender: \"your_email@example.com\"\n  password: \"your_email_password\"\n  recipients:\n    - \"recipient1@example.com\"\n    - \"recipient2@example.com\"\n</code></pre> <p>4. \u200b\u542f\u52a8\u200b\u670d\u52a1\u200b</p> <p>\u200b\u76f4\u63a5\u200b\u8fd0\u884c\u200b</p> Bash<pre><code>python src/main.py\n</code></pre> <p>docker</p> Bash<pre><code>docker-compose up -d\n</code></pre>","tags":["OpenSource"]},{"location":"blog/2024/12/17/astromailer-%E4%B8%80%E4%B8%AA%E6%AF%8F%E6%97%A5%E6%97%A9%E5%AE%89%E9%82%AE%E4%BB%B6%E5%8F%91%E9%80%81%E5%99%A8/#_6","title":"\u8d21\u732e\u200b\u6307\u5357","text":"<p>\u200b\u6b22\u8fce\u200b\u8d21\u732e\u200b\u4ee3\u7801\u200b\uff01\u200b\u5982\u679c\u200b\u4f60\u200b\u60f3\u200b\u4e3a\u200b AstroMailer \u200b\u63d0\u4ea4\u200b\u65b0\u200b\u7684\u200b\u529f\u80fd\u200b\u6216\u200b\u4fee\u590d\u200b bug\uff0c\u200b\u8bf7\u200b\u6309\u7167\u200b\u4ee5\u4e0b\u200b\u6b65\u9aa4\u200b\u64cd\u4f5c\u200b\uff1a</p> <ol> <li>Fork \u200b\u4ed3\u5e93\u200b\u3002</li> <li>\u200b\u521b\u5efa\u200b\u65b0\u200b\u5206\u652f\u200b\uff1a</li> </ol> Bash<pre><code>git checkout -b feature/your-feature-name\n</code></pre> <ol> <li>\u200b\u63d0\u4ea4\u200b\u4ee3\u7801\u200b\u5e76\u200b\u521b\u5efa\u200b Pull Request\u3002</li> </ol>","tags":["OpenSource"]},{"location":"blog/2024/12/17/astromailer-%E4%B8%80%E4%B8%AA%E6%AF%8F%E6%97%A5%E6%97%A9%E5%AE%89%E9%82%AE%E4%BB%B6%E5%8F%91%E9%80%81%E5%99%A8/#_7","title":"\u5f00\u6e90\u200b\u534f\u8bae","text":"<p>\u200b\u672c\u200b\u9879\u76ee\u200b\u91c7\u7528\u200b Apache-2.0 license\u3002</p> <p>\u200b\u611f\u8c22\u200b\u4f7f\u7528\u200b AstroMailer\uff0c\u200b\u8ba9\u200b\u5b87\u5b99\u200b\u7684\u200b\u6d6a\u6f2b\u200b\u70b9\u4eae\u200b\u4f60\u200b\u7684\u200b\u6bcf\u200b\u4e00\u5929\u200b\uff01\u2728</p>","tags":["OpenSource"]},{"location":"blog/2024/11/21/git-commit-%E8%A7%84%E8%8C%83/","title":"git commit \u200b\u89c4\u8303","text":"<p> \u200b\u7ea6\u200b 679 \u200b\u4e2a\u200b\u5b57\u200b  33 \u200b\u884c\u200b\u4ee3\u7801\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b 3 \u200b\u5206\u949f\u200b</p>","tags":["git","tools"]},{"location":"blog/2024/11/21/git-commit-%E8%A7%84%E8%8C%83/#commit-message","title":"Commit message \u200b\u683c\u5f0f","text":"<p>\u200b\u6bcf\u6b21\u200b\u63d0\u4ea4\u200b\uff0cCommit message \u200b\u90fd\u200b\u5305\u62ec\u200b\u4e09\u4e2a\u200b\u90e8\u5206\u200b\uff1aheader\uff0cbody \u200b\u548c\u200b footer\u3002</p> git commit<pre><code>&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;\n&lt;BLANK LINE&gt;\n&lt;body&gt;\n&lt;BLANK LINE&gt;\n&lt;footer&gt;\n</code></pre> <p>\u200b\u5176\u4e2d\u200b\uff0cheader \u200b\u662f\u200b\u5fc5\u9700\u200b\u7684\u200b\uff0cbody \u200b\u548c\u200b footer \u200b\u53ef\u4ee5\u200b\u7701\u7565\u200b\u3002 \u200b\u4e0d\u7ba1\u200b\u662f\u200b\u54ea\u200b\u4e00\u4e2a\u200b\u90e8\u5206\u200b\uff0c\u200b\u4efb\u4f55\u200b\u4e00\u884c\u200b\u90fd\u200b\u4e0d\u5f97\u200b\u8d85\u8fc7\u200b72\u200b\u4e2a\u5b57\u7b26\u200b\uff08\u200b\u6216\u200b100\u200b\u4e2a\u5b57\u7b26\u200b\uff09\u3002\u200b\u8fd9\u662f\u200b\u4e3a\u4e86\u200b\u907f\u514d\u200b\u81ea\u52a8\u200b\u6362\u884c\u200b\u5f71\u54cd\u200b\u7f8e\u89c2\u200b\u3002</p>","tags":["git","tools"]},{"location":"blog/2024/11/21/git-commit-%E8%A7%84%E8%8C%83/#header","title":"Header","text":"<p>Header\u200b\u90e8\u5206\u200b\u53ea\u6709\u200b\u4e00\u884c\u200b\uff0c\u200b\u5305\u62ec\u200b\u4e09\u4e2a\u200b\u5b57\u200b\u6bb5\u200b\uff1atype\uff08\u200b\u5fc5\u9700\u200b\uff09\u3001scope\uff08\u200b\u53ef\u200b\u9009\u200b\uff09\u200b\u548c\u200bsubject\uff08\u200b\u5fc5\u9700\u200b\uff09\u3002</p>","tags":["git","tools"]},{"location":"blog/2024/11/21/git-commit-%E8%A7%84%E8%8C%83/#1-type","title":"1. type","text":"<p>\u200b\u7528\u4e8e\u200b\u8bf4\u660e\u200b commit \u200b\u7684\u200b\u7c7b\u522b\u200b\uff0c\u200b\u53ea\u200b\u5141\u8bb8\u200b\u4f7f\u7528\u200b\u4e0b\u9762\u200b7\u200b\u4e2a\u200b\u6807\u8bc6\u200b\u3002</p> <ul> <li>feat\uff1a\u200b\u65b0\u200b\u529f\u80fd\u200b\uff08feature\uff09</li> <li>fix\uff1a\u200b\u4fee\u8865\u200bbug</li> <li>docs\uff1a\u200b\u6587\u6863\u200b\uff08documentation\uff09</li> <li>style\uff1a \u200b\u683c\u5f0f\u200b\uff08\u200b\u4e0d\u200b\u5f71\u54cd\u200b\u4ee3\u7801\u8fd0\u884c\u200b\u7684\u200b\u53d8\u52a8\u200b\uff09</li> <li>refactor\uff1a\u200b\u91cd\u6784\u200b\uff08\u200b\u5373\u200b\u4e0d\u662f\u200b\u65b0\u589e\u200b\u529f\u80fd\u200b\uff0c\u200b\u4e5f\u200b\u4e0d\u662f\u200b\u4fee\u6539\u200bbug\u200b\u7684\u200b\u4ee3\u7801\u200b\u53d8\u52a8\u200b\uff09</li> <li>test\uff1a\u200b\u589e\u52a0\u200b\u6d4b\u8bd5\u200b</li> <li>chore\uff1a\u200b\u6784\u5efa\u200b\u8fc7\u7a0b\u200b\u6216\u200b\u8f85\u52a9\u5de5\u5177\u200b\u7684\u200b\u53d8\u52a8\u200b</li> </ul> <p>\u200b\u5982\u679c\u200btype\u200b\u4e3a\u200bfeat\u200b\u548c\u200bfix\uff0c\u200b\u5219\u200b\u8be5\u200b commit \u200b\u5c06\u200b\u80af\u5b9a\u200b\u51fa\u73b0\u200b\u5728\u200b Change log \u200b\u4e4b\u4e2d\u200b\u3002\u200b\u5176\u4ed6\u200b\u60c5\u51b5\u200b\uff08docs\u3001chore\u3001style\u3001refactor\u3001test\uff09\u200b\u7531\u200b\u4f60\u200b\u51b3\u5b9a\u200b\uff0c\u200b\u8981\u200b\u4e0d\u8981\u200b\u653e\u5165\u200b Change log\uff0c\u200b\u5efa\u8bae\u200b\u662f\u200b\u4e0d\u8981\u200b\u3002</p>","tags":["git","tools"]},{"location":"blog/2024/11/21/git-commit-%E8%A7%84%E8%8C%83/#2-scope","title":"2. scope","text":"<p>scope\u200b\u7528\u4e8e\u200b\u8bf4\u660e\u200b commit \u200b\u5f71\u54cd\u200b\u7684\u200b\u8303\u56f4\u200b\uff0c\u200b\u6bd4\u5982\u200b\u6570\u636e\u200b\u5c42\u200b\u3001\u200b\u63a7\u5236\u200b\u5c42\u200b\u3001\u200b\u89c6\u56fe\u200b\u5c42\u200b\u7b49\u7b49\u200b\uff0c\u200b\u89c6\u200b\u9879\u76ee\u200b\u4e0d\u540c\u200b\u800c\u200b\u4e0d\u540c\u200b\u3002</p> <p>\u200b\u4f8b\u5982\u200b\u5728\u200bAngular\uff0c\u200b\u53ef\u4ee5\u200b\u662f\u200b $location, $browser, $compile, $rootScope, ngHref, ngClick, ngView\u200b\u7b49\u200b\u3002</p> <p>\u200b\u5982\u679c\u200b\u4f60\u200b\u7684\u200b\u4fee\u6539\u200b\u5f71\u54cd\u200b\u4e86\u200b\u4e0d\u6b62\u200b\u4e00\u4e2a\u200bscope\uff0c\u200b\u4f60\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b * \u200b\u4ee3\u66ff\u200b\u3002</p>","tags":["git","tools"]},{"location":"blog/2024/11/21/git-commit-%E8%A7%84%E8%8C%83/#3-subject","title":"3. subject","text":"<p>subject\u200b\u662f\u200b commit \u200b\u76ee\u7684\u200b\u7684\u200b\u7b80\u77ed\u200b\u63cf\u8ff0\u200b\uff0c\u200b\u4e0d\u200b\u8d85\u8fc7\u200b50\u200b\u4e2a\u5b57\u7b26\u200b\u3002</p> <p>\u200b\u5176\u4ed6\u200b\u6ce8\u610f\u4e8b\u9879\u200b\uff1a</p> <ul> <li>\u200b\u4ee5\u200b\u52a8\u8bcd\u200b\u5f00\u5934\u200b\uff0c\u200b\u4f7f\u7528\u200b\u7b2c\u4e00\u4eba\u79f0\u200b\u73b0\u5728\u200b\u65f6\u200b\uff0c\u200b\u6bd4\u5982\u200bchange\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200bchanged\u200b\u6216\u200bchanges</li> <li>\u200b\u7b2c\u4e00\u4e2a\u200b\u5b57\u6bcd\u200b\u5c0f\u5199\u200b</li> <li>\u200b\u7ed3\u5c3e\u200b\u4e0d\u200b\u52a0\u200b\u53e5\u53f7\u200b\uff08.\uff09</li> </ul>","tags":["git","tools"]},{"location":"blog/2024/11/21/git-commit-%E8%A7%84%E8%8C%83/#body","title":"Body","text":"<p>Body \u200b\u90e8\u5206\u200b\u662f\u200b\u5bf9\u200b\u672c\u6b21\u200b commit \u200b\u7684\u200b\u8be6\u7ec6\u63cf\u8ff0\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5206\u6210\u200b\u591a\u884c\u200b\u3002\u200b\u4e0b\u9762\u200b\u662f\u200b\u4e00\u4e2a\u200b\u8303\u4f8b\u200b\u3002</p> git commit<pre><code>More detailed explanatory text, if necessary.  Wrap it to \nabout 72 characters or so. \n\nFurther paragraphs come after blank lines.\n\n- Bullet points are okay, too\n- Use a hanging indent\n</code></pre> <p>\u200b\u6709\u200b3\u200b\u4e2a\u200b\u6ce8\u610f\u200b\u70b9\u200b:</p> <ul> <li>\u200b\u4f7f\u7528\u200b\u7b2c\u4e00\u4eba\u79f0\u200b\u73b0\u5728\u200b\u65f6\u200b\uff0c\u200b\u6bd4\u5982\u200b\u4f7f\u7528\u200bchange\u200b\u800c\u200b\u4e0d\u662f\u200bchanged\u200b\u6216\u200bchanges\u3002</li> <li>\u200b\u6c38\u8fdc\u200b\u522b\u5fd8\u4e86\u200b\u7b2c\u200b2\u200b\u884c\u662f\u200b\u7a7a\u884c\u200b</li> <li>\u200b\u5e94\u8be5\u200b\u8bf4\u660e\u200b\u4ee3\u7801\u200b\u53d8\u52a8\u200b\u7684\u200b\u52a8\u673a\u200b\uff0c\u200b\u4ee5\u53ca\u200b\u4e0e\u200b\u4ee5\u524d\u200b\u884c\u4e3a\u200b\u7684\u200b\u5bf9\u6bd4\u200b\u3002</li> </ul>","tags":["git","tools"]},{"location":"blog/2024/11/21/git-commit-%E8%A7%84%E8%8C%83/#footer","title":"Footer","text":"<p>Footer \u200b\u90e8\u5206\u200b\u53ea\u200b\u7528\u4e8e\u200b\u4ee5\u4e0b\u200b\u4e24\u79cd\u200b\u60c5\u51b5\u200b\uff1a</p> <ol> <li>\u200b\u4e0d\u200b\u517c\u5bb9\u200b\u53d8\u52a8\u200b</li> </ol> <p>\u200b\u5982\u679c\u200b\u5f53\u524d\u200b\u4ee3\u7801\u200b\u4e0e\u200b\u4e0a\u200b\u4e00\u4e2a\u200b\u7248\u672c\u200b\u4e0d\u200b\u517c\u5bb9\u200b\uff0c\u200b\u5219\u200b Footer \u200b\u90e8\u5206\u200b\u4ee5\u200bBREAKING CHANGE\u200b\u5f00\u5934\u200b\uff0c\u200b\u540e\u9762\u200b\u662f\u200b\u5bf9\u200b\u53d8\u52a8\u200b\u7684\u200b\u63cf\u8ff0\u200b\u3001\u200b\u4ee5\u53ca\u200b\u53d8\u52a8\u200b\u7406\u7531\u200b\u548c\u200b\u8fc1\u79fb\u200b\u65b9\u6cd5\u200b\u3002</p> git commit<pre><code>BREAKING CHANGE: isolate scope bindings definition has changed.\n\n    To migrate the code follow the example below:\n\n    Before:\n\n    scope: {\n      myAttr: 'attribute',\n    }\n\n    After:\n\n    scope: {\n      myAttr: '@',\n    }\n\n    The removed `inject` wasn't generaly useful for directives so there should be no code using it.\n</code></pre> <ol> <li>\u200b\u5173\u95ed\u200bissue</li> </ol> <p>\u200b\u5982\u679c\u200b\u5f53\u524d\u200b commit \u200b\u9488\u5bf9\u200b\u67d0\u4e2a\u200bissue\uff0c\u200b\u90a3\u4e48\u200b\u53ef\u4ee5\u200b\u5728\u200b Footer \u200b\u90e8\u5206\u200b\u5173\u95ed\u200b\u8fd9\u4e2a\u200b issue \u3002</p> git commit<pre><code>Closes #234\n</code></pre>","tags":["git","tools"]},{"location":"blog/2024/11/21/git-commit-%E8%A7%84%E8%8C%83/#revert","title":"Revert","text":"<p>\u200b\u8fd8\u6709\u200b\u4e00\u79cd\u200b\u7279\u6b8a\u200b\u60c5\u51b5\u200b\uff0c\u200b\u5982\u679c\u200b\u5f53\u524d\u200b commit \u200b\u7528\u4e8e\u200b\u64a4\u9500\u200b\u4ee5\u524d\u200b\u7684\u200b commit\uff0c\u200b\u5219\u200b\u5fc5\u987b\u200b\u4ee5\u200brevert:\u200b\u5f00\u5934\u200b\uff0c\u200b\u540e\u9762\u200b\u8ddf\u7740\u200b\u88ab\u200b\u64a4\u9500\u200b Commit \u200b\u7684\u200b Header\u3002</p> git commit<pre><code>revert: feat(pencil): add 'graphiteWidth' option\n\nThis reverts commit 667ecc1654a317a13331b17617d973392f415f02.\n</code></pre> <p>Body\u200b\u90e8\u5206\u200b\u7684\u200b\u683c\u5f0f\u200b\u662f\u200b\u56fa\u5b9a\u200b\u7684\u200b\uff0c\u200b\u5fc5\u987b\u200b\u5199\u6210\u200b<code>This reverts commit &amp;lt;hash&gt;.</code>\uff0c\u200b\u5176\u4e2d\u200b\u7684\u200bhash\u200b\u662f\u200b\u88ab\u200b\u64a4\u9500\u200b commit \u200b\u7684\u200b SHA \u200b\u6807\u8bc6\u7b26\u200b\u3002</p> <p>\u200b\u5982\u679c\u200b\u5f53\u524d\u200b commit \u200b\u4e0e\u200b\u88ab\u200b\u64a4\u9500\u200b\u7684\u200b commit\uff0c\u200b\u5728\u200b\u540c\u4e00\u4e2a\u200b\u53d1\u5e03\u200b\uff08release\uff09\u200b\u91cc\u9762\u200b\uff0c\u200b\u90a3\u4e48\u200b\u5b83\u4eec\u200b\u90fd\u200b\u4e0d\u4f1a\u200b\u51fa\u73b0\u200b\u5728\u200b Change log \u200b\u91cc\u9762\u200b\u3002\u200b\u5982\u679c\u200b\u4e24\u8005\u200b\u5728\u200b\u4e0d\u540c\u200b\u7684\u200b\u53d1\u5e03\u200b\uff0c\u200b\u90a3\u4e48\u200b\u5f53\u524d\u200b commit\uff0c\u200b\u4f1a\u200b\u51fa\u73b0\u200b\u5728\u200b Change log \u200b\u7684\u200bReverts\u200b\u5c0f\u6807\u9898\u200b\u4e0b\u9762\u200b\u3002</p>","tags":["git","tools"]},{"location":"blog/2024/11/21/git-commit-%E8%A7%84%E8%8C%83/#_1","title":"\u53c2\u8003\u8d44\u6599","text":"<p>git commit \u200b\u89c4\u8303\u200b\u6307\u5357\u200b</p>","tags":["git","tools"]},{"location":"blog/2024/12/06/homebrew/","title":"Homebrew","text":"<p> \u200b\u7ea6\u200b 19 \u200b\u4e2a\u200b\u5b57\u200b  2 \u200b\u884c\u200b\u4ee3\u7801\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b\u4e0d\u5230\u200b 1 \u200b\u5206\u949f\u200b</p> <p>\u200b\u6267\u884c\u200b\u4ee5\u4e0b\u200b\u4ee3\u7801\u200b\uff0c\u200b\u8ddf\u7740\u200b\u914d\u7f6e\u200b\u5c31\u884c\u200b</p> Bash<pre><code>/bin/zsh -c \"$(curl -fsSL https://gitee.com/cunkai/HomebrewCN/raw/master/Homebrew.sh)\"\n</code></pre> <p>\u200b\u5173\u95ed\u200b\u81ea\u52a8\u66f4\u65b0\u200b</p> Bash<pre><code>echo 'export HOMEBREW_NO_AUTO_UPDATE=1' &gt;&gt; ~/.zshrc\n</code></pre>","tags":["tools"]},{"location":"blog/2024/12/06/oh-my-zsh/","title":"oh-my-zsh","text":"<p> \u200b\u7ea6\u200b 337 \u200b\u4e2a\u200b\u5b57\u200b  6 \u200b\u884c\u200b\u4ee3\u7801\u200b  5 \u200b\u5f20\u200b\u56fe\u7247\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b 1 \u200b\u5206\u949f\u200b</p> <p>\u200b\u672c\u6587\u200b\u57fa\u4e8e\u200b macos \u200b\u7cfb\u7edf\u200b\uff0c\u200b\u4f7f\u7528\u200b oh-my-zsh \u200b\u5bf9\u200b\u7ec8\u7aef\u200b\u8fdb\u884c\u200b\u7f8e\u5316\u200b\u3002</p> <p>Oh My Zsh \u200b\u662f\u200b\u57fa\u4e8e\u200b zsh \u200b\u547d\u4ee4\u884c\u200b\u7684\u200b\u4e00\u4e2a\u200b\u6269\u5c55\u200b\u5de5\u5177\u96c6\u200b\uff0c\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u4e30\u5bcc\u200b\u7684\u200b\u6269\u5c55\u200b\u529f\u80fd\u200b\u3002</p> <p></p>","tags":["tools"]},{"location":"blog/2024/12/06/oh-my-zsh/#1-oh-my-zsh","title":"1. \u200b\u5b89\u88c5\u200b oh-my-zsh","text":"Bash<pre><code>sh -c \"$(curl -fsSL https://install.ohmyz.sh/)\"\n</code></pre>","tags":["tools"]},{"location":"blog/2024/12/06/oh-my-zsh/#2","title":"2. \u200b\u914d\u7f6e\u200b\u4e3b\u9898","text":"<p>\u200b\u4f7f\u7528\u200b powerlevel10k \u200b\u4e3b\u9898\u200b\u3002</p> Bash<pre><code>git clone --depth=1 https://github.com/romkatv/powerlevel10k.git ${ZSH_CUSTOM:-$HOME/.oh-my-zsh/custom}/themes/powerlevel10k\n</code></pre> <p>\u200b\u5728\u200b <code>~/.zshrc</code> \u200b\u8bbe\u7f6e\u200b <code>ZSH_THEME=\"powerlevel10k/powerlevel10k\"</code>\u3002</p> <p>\u200b\u8fd0\u884c\u200b\u547d\u4ee4\u200b</p> Bash<pre><code>source ~/.zshrc\n</code></pre> <p>\u200b\u63a5\u4e0b\u6765\u200b\uff0c\u200b\u7ec8\u7aef\u200b\u4f1a\u200b\u81ea\u52a8\u200b\u5f15\u5bfc\u200b\u4f60\u200b\u914d\u7f6e\u200b <code>powerlevel10k</code>\u3002</p> <p>\u200b\u5982\u679c\u200b\u5e0c\u671b\u200b\u91cd\u65b0\u914d\u7f6e\u200b\uff0c\u200b\u8f93\u5165\u200b\u4ee5\u4e0b\u200b\u547d\u4ee4\u200b</p> Bash<pre><code>p10k configure\n</code></pre>","tags":["tools"]},{"location":"blog/2024/12/06/oh-my-zsh/#3","title":"3. \u200b\u5b89\u88c5\u200b\u63d2\u4ef6","text":"","tags":["tools"]},{"location":"blog/2024/12/06/oh-my-zsh/#31-zsh-autosuggestions","title":"3.1 zsh -autosuggestions","text":"<p>zsh -autosuggestions \u200b\u662f\u200b\u4e00\u4e2a\u200b\u547d\u4ee4\u200b\u63d0\u793a\u200b\u63d2\u4ef6\u200b\uff0c\u200b\u5f53\u200b\u4f60\u200b\u8f93\u5165\u200b\u547d\u4ee4\u200b\u65f6\u200b\uff0c\u200b\u4f1a\u200b\u81ea\u52a8\u200b\u63a8\u6d4b\u200b\u4f60\u200b\u53ef\u80fd\u200b\u9700\u8981\u200b\u8f93\u5165\u200b\u7684\u200b\u547d\u4ee4\u200b\uff0c\u200b\u6309\u4e0b\u200b\u53f3\u952e\u200b\u53ef\u4ee5\u200b\u5feb\u901f\u200b\u91c7\u7528\u200b\u5efa\u8bae\u200b\u3002\u200b\u6548\u679c\u200b\u5982\u4e0b\u200b\uff1a</p> <p></p> <p>\u200b\u5b89\u88c5\u200b\u65b9\u5f0f\u200b\uff1a\u200b\u628a\u200b\u63d2\u4ef6\u200b\u4e0b\u8f7d\u200b\u5230\u200b\u672c\u5730\u200b\u7684\u200b <code>~/.oh-my-zsh/custom/plugins</code> \u200b\u76ee\u5f55\u200b</p> Bash<pre><code>git clone https://github.com/zsh-users/zsh-autosuggestions ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions\n</code></pre>","tags":["tools"]},{"location":"blog/2024/12/06/oh-my-zsh/#32-zsh-syntax-highlighting","title":"3.2 zsh-syntax-highlighting","text":"<p>zsh-syntax-highlighting \u200b\u662f\u200b\u4e00\u4e2a\u200b\u547d\u4ee4\u200b\u8bed\u6cd5\u200b\u6821\u9a8c\u200b\u63d2\u4ef6\u200b\uff0c\u200b\u5728\u200b\u8f93\u5165\u200b\u547d\u4ee4\u200b\u7684\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\uff0c\u200b\u82e5\u200b\u6307\u4ee4\u200b\u4e0d\u200b\u5408\u6cd5\u200b\uff0c\u200b\u5219\u200b\u6307\u4ee4\u200b\u663e\u793a\u200b\u4e3a\u200b\u7ea2\u8272\u200b\uff0c\u200b\u82e5\u200b\u6307\u4ee4\u200b\u5408\u6cd5\u200b\u5c31\u200b\u4f1a\u200b\u663e\u793a\u200b\u4e3a\u200b\u7eff\u8272\u200b\u3002\u200b\u6548\u679c\u200b\u5982\u4e0b\u200b\uff1a</p> <p></p> <p>\u200b\u5b89\u88c5\u200b\u65b9\u5f0f\u200b\uff1a\u200b\u628a\u200b\u63d2\u4ef6\u200b\u4e0b\u8f7d\u200b\u5230\u200b\u672c\u5730\u200b\u7684\u200b <code>~/.oh-my-zsh/custom/plugins</code> \u200b\u76ee\u5f55\u200b\u3002</p> Bash<pre><code>git clone https://github.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting\n</code></pre>","tags":["tools"]},{"location":"blog/2024/12/06/oh-my-zsh/#33-z","title":"3.3 z","text":"<p><code>oh-my-zsh</code> \u200b\u5185\u7f6e\u200b\u4e86\u200b <code>z</code> \u200b\u63d2\u4ef6\u200b\u3002<code>z</code> \u200b\u662f\u200b\u4e00\u4e2a\u200b\u6587\u4ef6\u5939\u200b\u5feb\u6377\u200b\u8df3\u8f6c\u200b\u63d2\u4ef6\u200b\uff0c\u200b\u5bf9\u4e8e\u200b\u66fe\u7ecf\u200b\u8df3\u200b\u8f6c\u8fc7\u200b\u7684\u200b\u76ee\u5f55\u200b\uff0c\u200b\u53ea\u200b\u9700\u8981\u200b\u8f93\u5165\u200b\u6700\u7ec8\u76ee\u6807\u200b\u6587\u4ef6\u5939\u200b\u540d\u79f0\u200b\uff0c\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u5feb\u901f\u200b\u8df3\u8f6c\u200b\uff0c\u200b\u907f\u514d\u200b\u518d\u200b\u8f93\u5165\u200b\u957f\u4e32\u200b\u8def\u5f84\u200b\uff0c\u200b\u63d0\u9ad8\u200b\u5207\u6362\u200b\u6587\u4ef6\u5939\u200b\u7684\u200b\u6548\u7387\u200b\u3002\u200b\u6548\u679c\u200b\u5982\u4e0b\u200b\uff1a</p> <p></p>","tags":["tools"]},{"location":"blog/2024/12/06/oh-my-zsh/#34","title":"3.4 \u200b\u542f\u7528\u200b\u63d2\u4ef6","text":"<p>\u200b\u4fee\u6539\u200b <code>~/.zshrc</code> \u200b\u4e2d\u200b\u63d2\u4ef6\u200b\u5217\u8868\u200b\u4e3a\u200b\uff1a</p> Text Only<pre><code>plugins=(git zsh-syntax-highlighting zsh-autosuggestions z)\n</code></pre> <p>\u200b\u6267\u884c\u200b <code>source ~/.zshrc</code></p>","tags":["tools"]},{"location":"blog/archive/2024/","title":"2024","text":"<p> \u200b\u7ea6\u200b 1 \u200b\u4e2a\u200b\u5b57\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b\u4e0d\u5230\u200b 1 \u200b\u5206\u949f\u200b</p>"},{"location":"blog/category/opensource/","title":"OpenSource","text":"<p> \u200b\u7ea6\u200b 1 \u200b\u4e2a\u200b\u5b57\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b\u4e0d\u5230\u200b 1 \u200b\u5206\u949f\u200b</p>"},{"location":"blog/category/cs/","title":"CS","text":"<p> \u200b\u7ea6\u200b 1 \u200b\u4e2a\u200b\u5b57\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b\u4e0d\u5230\u200b 1 \u200b\u5206\u949f\u200b</p>"},{"location":"blog/category/linux/","title":"linux","text":"<p> \u200b\u7ea6\u200b 1 \u200b\u4e2a\u200b\u5b57\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b\u4e0d\u5230\u200b 1 \u200b\u5206\u949f\u200b</p>"},{"location":"blog/category/tools/","title":"tools","text":"<p> \u200b\u7ea6\u200b 1 \u200b\u4e2a\u200b\u5b57\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b\u4e0d\u5230\u200b 1 \u200b\u5206\u949f\u200b</p>"},{"location":"blog/category/algorithm/","title":"Algorithm","text":"<p> \u200b\u7ea6\u200b 1 \u200b\u4e2a\u200b\u5b57\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b\u4e0d\u5230\u200b 1 \u200b\u5206\u949f\u200b</p>"},{"location":"blog/category/docker/","title":"docker","text":"<p> \u200b\u7ea6\u200b 1 \u200b\u4e2a\u200b\u5b57\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b\u4e0d\u5230\u200b 1 \u200b\u5206\u949f\u200b</p>"},{"location":"blog/category/hello-world/","title":"Hello World","text":"<p> \u200b\u7ea6\u200b 2 \u200b\u4e2a\u200b\u5b57\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b\u4e0d\u5230\u200b 1 \u200b\u5206\u949f\u200b</p>"},{"location":"blog/page/2/","title":"Blog","text":""},{"location":"blog/archive/2024/page/2/","title":"2024","text":""},{"location":"tag/","title":"Tags","text":"<p> \u200b\u7ea6\u200b 12 \u200b\u4e2a\u200b\u5b57\u200b  \u200b\u9884\u8ba1\u200b\u9605\u8bfb\u200b\u65f6\u95f4\u200b\u4e0d\u5230\u200b 1 \u200b\u5206\u949f\u200b</p> <p>Tip</p> <p>\u200b\u4ee5\u4e0b\u200b\u662f\u200b\u76f8\u5173\u200b\u6807\u7b7e\u200b\u7684\u200b\u5217\u8868\u200b</p>"},{"location":"tag/#algorithm","title":"Algorithm","text":"<ul> <li>Dijkstra\u200b\u7b97\u6cd5\u200b</li> <li>\u200b\u6ed1\u52a8\u200b\u7a97\u53e3\u200b\u6a21\u7248\u200b</li> </ul>"},{"location":"tag/#cs","title":"CS","text":"<ul> <li>Editors (Vim)</li> <li>Shell Tools and Scripting</li> <li>The Shell</li> </ul>"},{"location":"tag/#helloworld","title":"HelloWorld","text":"<ul> <li>\u200b\u535a\u5ba2\u200b\u6587\u7ae0\u200b\u6d4b\u8bd5\u200b</li> </ul>"},{"location":"tag/#missing","title":"Missing","text":"<ul> <li>Editors (Vim)</li> <li>Shell Tools and Scripting</li> <li>The Shell</li> </ul>"},{"location":"tag/#opensource","title":"OpenSource","text":"<ul> <li>AstroMailer \u200b\u4e00\u4e2a\u200b\u6bcf\u65e5\u200b\u65e9\u5b89\u200b\u90ae\u4ef6\u200b\u53d1\u9001\u5668\u200b</li> </ul>"},{"location":"tag/#docker","title":"docker","text":"<ul> <li>Minio \u200b\u90e8\u7f72\u200b</li> <li>Mysql \u200b\u90e8\u7f72\u200b</li> <li>PostgreSQL \u200b\u90e8\u7f72\u200b</li> <li>Redis \u200b\u90e8\u7f72\u200b</li> <li>RocketMQ \u200b\u90e8\u7f72\u200b</li> <li>docker</li> </ul>"},{"location":"tag/#git","title":"git","text":"<ul> <li>git commit \u200b\u89c4\u8303\u200b</li> </ul>"},{"location":"tag/#java","title":"java","text":"<ul> <li>Frequency-Control-Starter</li> <li>Spring AOP</li> <li>Spring IOC \u200b\u5bb9\u5668\u200b</li> <li>Spring \u200b\u4e8b\u52a1\u200b</li> </ul>"},{"location":"tag/#javascript","title":"javascript","text":"<ul> <li>JavaScript Code Runner</li> <li>\u200b\u57fa\u672c\u200b\u8bed\u6cd5\u200b</li> </ul>"},{"location":"tag/#linux","title":"linux","text":"<ul> <li>Learn-Linux</li> <li>linux\u200b\u73af\u5883\u200b\u90e8\u7f72\u200b</li> </ul>"},{"location":"tag/#spring","title":"spring","text":"<ul> <li>Spring AOP</li> <li>Spring IOC \u200b\u5bb9\u5668\u200b</li> <li>Spring \u200b\u4e8b\u52a1\u200b</li> <li>Learn-Spring</li> </ul>"},{"location":"tag/#tools","title":"tools","text":"<ul> <li>git commit \u200b\u89c4\u8303\u200b</li> <li>Homebrew</li> <li>oh-my-zsh</li> </ul>"}]}